<?php $_il0="5.7.0.\061"; function _iO0($_il1,$_iO1,$_il2) { return str_replace($_il1,$_iO1,$_il2); } function _iO2($_il3) { return md5($_il3); } function _iO3() { $_il4=_iO0("\134","/",strtolower($_SERVER["\123CRIPT\137\116AME"])); $_il4=_iO0(strrchr($_il4,"\057"),"",$_il4); $_iO4=_iO0("\134","/",realpath(".")); $_il5=_iO0($_il4,"",strtolower($_iO4)); return $_il5; } class _ii10 { static $_ii10="\1730\175\173tradem\141\162k}<di\166\040id=\047\173id}'\040\143la\163\163='\173\163\164yle}\113\107R' sty\154\145='\173\167\151dth\175\047>\1731\175\173conte\156\164}\1732}\074\057div>"; } function _iO5() { $_il6=_iO6(); _il7($_il6,0153); _il7($_il6,0113); _il7($_il6,0121); _il7($_il6,-014); _il7($_il6,050); _il7($_il6,047); _il7($_il6,034); _il7($_il6,(_iO7() || _il8() || _iO8()) ? -050: -011); _il7($_il6,-062); _il7($_il6,-061); _il7($_il6,-0111); _il7($_il6,-0111); $_il9=""; for ($_iO9=0; $_iO9<_ila($_il6); $_iO9 ++) { $_il9.=_iOa($_il6[$_iO9]+013*($_iO9+1)); } echo $_il9; return $_il9; } function _ilb() { $_il6=_iO6(); $_iOb=""; _il7($_il6,0151); _il7($_il6,0123); _il7($_il6,0114); _il7($_il6,071); _il7($_il6,-017); _il7($_il6,-031); for ($_iO9=0; $_iO9<_ila($_il6); $_iO9 ++) { $_iOb.=_iOa($_il6[$_iO9]+013*($_iO9+1)); } return _ilc($_iOb); } function _iO7() { $_iOc=""; $_il6=_iO6(); _il7($_il6,050); _il7($_il6,041); _il7($_il6,0101); _il7($_il6,6); _il7($_il6,0); for ($_iO9=0; $_iO9<_ila($_il6); $_iO9 ++) { $_iOc.=_iOa($_il6[$_iO9]+013*($_iO9+1)); } return (substr(_iO2(_ild()),0,5) != $_iOc); } class _ii11 { static $_ii11=017; } function _il8() { $_iOc=""; $_il6=_iO6(); _il7($_il6,0126); _il7($_il6,0114); _il7($_il6,025); _il7($_il6,6); _il7($_il6,052); for ($_iO9=0; $_iO9<_ila($_il6); $_iO9 ++) { $_iOc.=_iOa($_il6[$_iO9]+013*($_iO9+1)); } return (substr(_iO2(_iOd()),0,5) != $_iOc); } function _iO8() { $_il6=_iO6(); _il7($_il6,0124); _il7($_il6,0123); _il7($_il6,0110); _il7($_il6,5); _il7($_il6,-6); $_ile=""; for ($_iO9=0; $_iO9<_ila($_il6); $_iO9 ++) { $_ile.=_iOa($_il6[$_iO9]+013*($_iO9+1)); } $_iOe=_ilf($_ile); return (( isset ($_iOe[$_ile]) ? $_iOe[$_ile]: 0) != 01053/045); } function _iOf( &$_ilg) { $_il6=_iO6(); _il7($_il6,0124); _il7($_il6,0123); _il7($_il6,0110); _il7($_il6,5); _il7($_il6,-6); $_iOg=""; for ($_iO9=0; $_iO9<_ila($_il6); $_iO9 ++) { $_iOg.=_iOa($_il6[$_iO9]+013*($_iO9+1)); } $_iOe=_ilf($_iOg); $_ilh=$_iOe[$_iOg]; $_ilg=_iO0(_iOa(0173).(_ilb()%3)._iOa(0175),(!(_ilb()%_iOh())) ? _ild(): _iOi(),$_ilg); for ($_iO9=0; $_iO9<3; $_iO9 ++) if ((_ilb()%3) != $_iO9) $_ilg=_iO0(_iOa(0173).$_iO9._iOa(0175),_iOi(),$_ilg); $_ilg=_iO0(_iOa(0173).(_ilb()%3)._iOa(0175),(!(_ilb()%$_ilh)) ? _ild(): _iOi(),$_ilg); return ($_ilh == _iOh()); } function _ild() { $_il6=_iO6(); _il7($_il6,0124); _il7($_il6,0123); _il7($_il6,0110); _il7($_il6,4); _il7($_il6,-6); $_ilj=""; for ($_iO9=0; $_iO9<_ila($_il6); $_iO9 ++) { $_ilj.=_iOa($_il6[$_iO9]+013*($_iO9+1)); } $_iOe=_ilf($_ilj); return isset ($_iOe[$_ilj]) ? $_iOe[$_ilj]: ""; } function _iOd() { $_il6=_iO6(); _il7($_il6,0124); _il7($_il6,0123); _il7($_il6,0110); _il7($_il6,5); _il7($_il6,-7); $_iOj=""; for ($_iO9=0; $_iO9<_ila($_il6); $_iO9 ++) { $_iOj.=_iOa($_il6[$_iO9]+013*($_iO9+1)); } $_iOe=_ilf($_iOj); return isset ($_iOe[$_iOj]) ? $_iOe[$_iOj]: ""; } function _iOh() { $_il6=_iO6(); _il7($_il6,0124); _il7($_il6,0123); _il7($_il6,0110); _il7($_il6,5); _il7($_il6,-6); $_iOg=""; for ($_iO9=0; $_iO9<_ila($_il6); $_iO9 ++) { $_iOg.=_iOa($_il6[$_iO9]+013*($_iO9+1)); } $_iOe=_ilf($_iOg); return isset ($_iOe[$_iOg]) ? $_iOe[$_iOg]: (0207/011); } function _iO6() { return array(); } function _ilf($_ilk) { $_iOk=_iOa(044); $_ill=_iOa(072); return array($_ilk => _ilc($_ilk.$_ill.$_ill.$_iOk.$_ilk)); } function _ilc($_ilm) { return eval ("\162\145\164ur\156 ".$_ilm."\073"); } function _ila($_iOm) { return sizeof($_iOm); } function _iOi() { return ""; } function _iln() { header("\103ont\145\156t-\164ype\072 te\170t/j\141vas\143rip\164"); } function _il7( &$_iOm,$_iOn) { array_push($_iOm,$_iOn); } function _ilo() { return exit (); } function _iOa($_iOo) { return chr($_iOo); } class _ii01 { static $_ii01="<di\166 sty\154\145=\047fon\164\055f\141mil\171\072Ar\151al;\146on\164-si\172e:\0610pt\073bac\153grou\156\144-\143\157l\157\162:\043FE\106FDF\073col\157\162:\142\154a\143\153;\144\151s\160\154ay\072blo\143\153;v\151\163ib\151\154it\171:vis\151ble;\047\076\074spa\156 s\164y\154e='\146\157nt\055fam\151\154y\072Ari\141\154;f\157\156t\055siz\145:10\160t;\146\157n\164-we\151\147h\164\072\142ol\144;co\154\157r:\142\154a\143\153;d\151\163pl\141y:i\156lin\145;v\151\163i\142ili\164y\072v\151si\142\154e\073'>\113ool\107r\151d</\163pan\076 -\040\124r\151al \166er\163ion\040\173\166er\163\151o\156} -\040Co\160yr\151ght\040(C\051 K\157olP\110P \056\111n\143\040-\040<a\040st\171le\075'f\157\156t\055fa\155ily\072Ar\151al\073fo\156t-s\151ze\07210\160t;\144is\160lay\072in\154ine\073vi\163ib\151\154i\164y:\166is\151bl\145;' \150re\146='\150ttp\072/\057ww\167\056k\157ol\160\150p\056net\047>w\167\167.\153\157o\154\160h\160\056\156\145t\074/a\076.\040<s\160an\040st\171le\075'f\157nt\055fa\155il\171:A\162ia\154\073c\157lo\162:b\154\141c\153;f\157nt\055si\172e:\0610p\164;\144is\160la\171:i\156li\156e;\166is\151bi\154it\171:v\151si\142\154e\073'\076To\040r\145mo\166e<\057sp\141n>\040t\150is\040me\163s\141ge\054 p\154ea\163\145 \074a\040st\171l\145='\146on\164-f\141mi\154y:\101r\151al\073fo\156t-\163iz\145\072\0610p\164;\144is\160la\171:i\156li\156e;\166is\151bi\154i\164y:\166is\151b\154e;\047 h\162e\146='\150tt\160:\057/w\167w\056ko\157l\160hp\056n\145t/\077m\157\144=\160u\162ch\141s\145'>\160u\162ch\141se\040a\040l\151ce\156s\145</\141>\056</\144i\166>"; } if ( isset ($_GET[_iO2("\152s")])) { _iln(); ?> function _iO(_io){if (typeof(_io)=="undefined"){return false; }return (_io!=null); }function _iY(_iy){return document.getElementById(_iy); }function _iI(_ii,_iA){var _ia=document.createElement(_ii); _iA.appendChild(_ia); return _ia; }function _iE(_io,_ie){if (!_iO(_ie))_ie=1; for (var i=0; i<_ie; i++)_io=_io.firstChild; return _io; }function _iU(_io,_ie){if (!_iO(_ie))_ie=1; for (var i=0; i<_ie; i++)_io=_io.nextSibling; return _io; }function _iu(_io,_ie){if (!_iO(_ie))_ie=1; for (var i=0; i<_ie; i++)_io=_io.parentNode; return _io; }function _iZ(_io,_iz){_io.style.height=_iz+"px"; }function _iX(_io,_iz){_io.style.width=_iz+"px"; }function _ix(_io){return parseInt(_io.style.width); }function _iW(_io){return parseInt(_io.style.height); }function _iw(_iV,_iv,_iT){_iT=_iO(_iT)?_iT:document.body; var _it=_iT.getElementsByTagName(_iV); var _iS=new Array(); for (var i=0; i<_it.length; i++)if (_it[i].className.indexOf(_iv)>=0){_iS.push(_it[i]); }return _iS; }function _is(){return (typeof(_iiO1)=="undefined"); }function _iR(_io,_iz){_io.style.display=(_iz)?"": "none"; }function _ir(_io){return (_io.style.display!="none"); }function _iQ(_io){return _io.className; }function _iq(_io,_iz){_io.className=_iz; }function _iP(_ip,_iN,_in){_iq(_in,_iQ(_in).replace(_ip,_iN)); }function _iM(_io,_iv){if (_io.className.indexOf(_iv)<0){var _im=_io.className.split(" "); _im.push(_iv); _io.className=_im.join(" "); }}function _iL(_io,_iv){if (_io.className.indexOf(_iv)>-1){_iP(_iv,"",_io);var _im=_io.className.split(" "); _io.className=_im.join(" "); }}function _il(_iK,_ik,_iJ,_ij){if (_iK.addEventListener){_iK.addEventListener(_ik,_iJ,_ij); return true; }else if (_iK.attachEvent){if (_ij){return false; }else {var _iH= function (){_iJ.apply(_iK,[window.event]); };if (!_iK["ref"+_ik])_iK["ref"+_ik]=[]; else {for (var _ih in _iK["ref"+_ik]){if (_iK["ref"+_ik][_ih]._iJ === _iJ)return false; }}var _iG=_iK.attachEvent("on"+_ik,_iH); if (_iG)_iK["ref"+_ik].push( {_iJ:_iJ,_iH:_iH } ); return _iG; }}else {return false; }}function _ig(_iK,_ik,_iJ,_ij){if (_iK.removeEventListener){_iK.removeEventListener(_ik,_iJ,_ij); return true; }else if (_iK.detachEvent){if (_iK["ref"+_ik]){for (var _ih in _iK["ref"+_ik]){if (_iK["ref"+_ik][_ih]._iJ === _iJ){_iK.detachEvent("on"+_ik,_iK["ref"+_ik][_ih]._iH); _iK["ref"+_ik][_ih]._iJ=null; _iK["ref"+_ik][_ih]._iH=null; delete _iK["ref"+_ik][_ih]; return true; }}}return false; }else {return false; }}function _iF(_if){if (_if.stopPropagation)_if.stopPropagation(); else _if.cancelBubble= true; }function _iD(_if){if (_if.preventDefault)_if.preventDefault(); else event.returnValue= false; return false; }function _iC(_ic){var a=_ic.attributes,i,_iB,_ib; if (a){_iB=a.length; for (i=0; i<_iB; i+=1){if (a[i])_ib=a[i].name; if (typeof _ic[_ib] === "function"){_ic[_ib]=null; }}}a=_ic.childNodes; if (a){_iB=a.length; for (i=0; i<_iB; i+=1){_iC(_ic.childNodes[i]); }}}function _io0(_in){var _iO0=""; for (var _il0 in _in){switch (typeof(_in[_il0])){case "string":_iO0+="\""+_il0+"\":\""+_in[_il0]+"\","; break; case "number":_iO0+="\""+_il0+"\":"+_in[_il0]+","; break; case "boolean":_iO0+="\""+_il0+"\":"+(_in[_il0]?"true": "false")+","; break; case "object":_iO0+="\""+_il0+"\":"+_io0(_in[_il0])+","; break; }}if (_iO0.length>0)_iO0=_iO0.substring(0,_iO0.length-1); _iO0="{"+_iO0+"}"; if (_iO0=="{}")_iO0="null"; return _iO0; }function _ii0(_ip,_iI0){return _iI0.indexOf(_ip); }function _io1(_iO1){if (_iO1.pageX || _iO1.pageY){return {_il1:_iO1.pageX,_ii1:_iO1.pageY } ; }else if (_iO1.clientX || _iO1.clientY){return {_il1:_iO1.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),_ii1:_iO1.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)} ; }else {return {_il1:null,_ii1:null } ; }}var _iI1= {_io2:/(-[a-z])/i,_iO2:/^body|html$/i,_il2:/^(?:inline|table-row)$/i} ; function _ii2(_iI2,_io3){var _iO3=""; if (document.defaultView && document.defaultView.getComputedStyle){var _il3=document.defaultView.getComputedStyle(_iI2,null); if (!_il3){try {if (_iI2.style.display=="none"){_iI2.style.display=""; _il3=document.defaultView.getComputedStyle(_iI2,null); if (_il3){_iO3=_il3.getPropertyValue(_io3); }_iI2.style.display="none"; }}catch (_ii3){}}if (_il3 && _iO3==""){_iO3=_il3.getPropertyValue(_io3); }}else if (_iI2.currentStyle){try {_io3=_io3.replace(/-(\w)/g, function (_iI3,_io4){return _io4.toUpperCase(); } ); _iO3=_iI2.currentStyle[_io3]; }catch (_ii3){}}return _iO3; } ; var _iO4= function (){if (document.documentElement.getBoundingClientRect){return function (_il4){var _ii4=_il4.getBoundingClientRect(); return {_iI4:_ii4.left+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),_top:_ii4.top+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)} ; } ; }else {return function (_il4){var _io5=[_il4.offsetLeft,_il4.offsetTop]; var parentNode=_il4.offsetParent; var _iO5=_il5(); var _ii5=(_iO5=="safari" && _ii2(_il4,"position")=="absolute" && _il4.offsetParent==document.body); if (parentNode!=_il4){while (parentNode){_io5[0]+=parentNode.offsetLeft; _io5[1]+=parentNode.offsetTop; if (!_ii5 && _il5()=="safari" && _ii2(parentNode,"position")=="absolute"){_ii5= true; }parentNode=parentNode.offsetParent; }}if (_ii5){_io5[0]-=_il4.ownerDocument.body.offsetLeft; _io5[1]-=_il4.ownerDocument.body.offsetTop; }parentNode=_il4.parentNode; while (parentNode.tagName && !_iI1._iO2.test(parentNode.tagName)){if (parentNode.scrollTop || parentNode.scrollLeft){if (!_iI1._il2.test(_ii2(parentNode,"display"))){if (_iO5!="opera" || _ii2(parentNode,"overflow") !== "visible"){_io5[0]-=parentNode.scrollLeft; _io5[1]-=parentNode.scrollTop; }}}parentNode=parentNode.parentNode; }return {_iI4:_io5[0],_top:_io5[1] } ; } ; }} (); function _il5(){var _iI5=navigator.userAgent.toLowerCase(); if (_ii0("opera",_iI5)!=-1){return "opera"; }else if (_ii0("firefox",_iI5)!=-1){return "firefox"; }else if (_ii0("safari",_iI5)!=-1){return "safari"; }else if ((_ii0("msie 6",_iI5)!=-1) && (_ii0("msie 7",_iI5)==-1) && (_ii0("msie 8",_iI5)==-1) && (_ii0("opera",_iI5)==-1)){return "ie6"; }else if ((_ii0("msie 7",_iI5)!=-1) && (_ii0("opera",_iI5)==-1)){return "ie7"; }else if ((_ii0("msie 8",_iI5)!=-1) && (_ii0("opera",_iI5)==-1)){return "ie8"; }else if ((_ii0("msie",_iI5)!=-1) && (_ii0("opera",_iI5)==-1)){return "ie"; }else if (_ii0("chrome",_iI5)!=-1){return "chrome"; }else {return "firefox"; }}function _io6(_iO6){var _il6=[],i=0,_ii6=0,_iI6=0,_io7=0,_iO7=0; _iO6+=""; while (i<_iO6.length){_iI6=_iO6.charCodeAt(i); if (_iI6<128){_il6[_ii6++]=String.fromCharCode(_iI6); i++; }else if (_iI6>191 && _iI6<224){_io7=_iO6.charCodeAt(i+1); _il6[_ii6++]=String.fromCharCode(((_iI6&31)<<6)|(_io7&63)); i+=2; }else {_io7=_iO6.charCodeAt(i+1); _iO7=_iO6.charCodeAt(i+2); _il6[_ii6++]=String.fromCharCode(((_iI6&15)<<12)|((_io7&63)<<6)|(_iO7&63)); i+=3; }}return _il6.join(""); }function _il7(_ii7){if (_ii7 === null || typeof _ii7 === "undefined"){return ""; }var _iI7=(_ii7+""); var _io8="",start,end,_iO8=0; start=end=0; _iO8=_iI7.length; for (var _ib=0; _ib<_iO8; _ib++){var _iI6=_iI7.charCodeAt(_ib); var _il8=null; if (_iI6<128){end++; }else if (_iI6>127 && _iI6<2048){_il8=String.fromCharCode((_iI6>>6)|192)+String.fromCharCode((_iI6&63)|128); }else {_il8=String.fromCharCode((_iI6>>12)|224)+String.fromCharCode(((_iI6>>6)&63)|128)+String.fromCharCode((_iI6&63)|128); }if (_il8 !== null){if (end>start){_io8+=_iI7.slice(start,end); }_io8+=_il8; start=end=_ib+1; }}if (end>start){_io8+=_iI7.slice(start,_iO8); }return _io8; }function _ii8(data){var _iI8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; var _io9,_iO9,_il9,_ii9,_iI9,_ioa,_iOa,_ila,i=0,_ii6=0,_iia="",_il6=[]; if (!data){return data; }data+=""; do {_ii9=_iI8.indexOf(data.charAt(i++)); _iI9=_iI8.indexOf(data.charAt(i++)); _ioa=_iI8.indexOf(data.charAt(i++)); _iOa=_iI8.indexOf(data.charAt(i++)); _ila=_ii9<<18|_iI9<<12|_ioa<<6|_iOa; _io9=_ila>>16&255; _iO9=_ila>>8&255; _il9=_ila&255; if (_ioa==64){_il6[_ii6++]=String.fromCharCode(_io9); }else if (_iOa==64){_il6[_ii6++]=String.fromCharCode(_io9,_iO9); }else {_il6[_ii6++]=String.fromCharCode(_io9,_iO9,_il9); }}while (i<data.length); _iia=_il6.join(""); _iia=this._io6(_iia); return _iia; }function _iIa(data){var _iI8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; var _io9,_iO9,_il9,_ii9,_iI9,_ioa,_iOa,_ila,i=0,_ii6=0,_il8="",_il6=[]; if (!data){return data; }data=this._il7(data+""); do {_io9=data.charCodeAt(i++); _iO9=data.charCodeAt(i++); _il9=data.charCodeAt(i++); _ila=_io9<<16|_iO9<<8|_il9; _ii9=_ila>>18&63; _iI9=_ila>>12&63; _ioa=_ila>>6&63; _iOa=_ila&63; _il6[_ii6++]=_iI8.charAt(_ii9)+_iI8.charAt(_iI9)+_iI8.charAt(_ioa)+_iI8.charAt(_iOa); }while (i<data.length); _il8=_il6.join(""); var _iob=data.length%3; return (_iob?_il8.slice(0,_iob-3):_il8)+"===" .slice(_iob || 3); }function GridGroup(_iy){ this._iy=_iy; this.id=_iy; }GridGroup.prototype= {expand:function (){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (_ilb._iIb("OnGroupBeforeExpand", { "Group": this } )){_ilb._ioc(this._iy,"Expand", {} ); _ilb._iOc("OnGroupExpand", { "Group": this } ); }} ,collapse:function (){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (_ilb._iIb("OnGroupBeforeCollapse", { "Group": this } )){_ilb._ioc(this._iy,"Collapse", {} ); _ilb._iOc("OnGroupCollapse", { "Group": this } ); }}};function _ilc(_iy){ this._iy=_iy; }_ilc.prototype= {_iic:function (){var _iOb=_iY(this._iy); var _iIc=_iw("input","kgrSort",_iOb); for (var i=0; i<_iIc.length; i++){_il(_iIc[i],"mousedown",_iF, false); } this._iod(); } ,_iOd:function (){ this._ild(); this._iid(); _iId=null; } ,_ioe:function (_iOe){ this._ile(); this._iod(); this._iie("", false); if (_iId!=null){var _iIe=null; if (_ii0("_gm",_iId)>0){_iIe=parseInt(_iId.replace(this._iy.replace("_gp","_gm"),"")); }var _iof=new GridColumn(_iOe); var _ilb=_iib(_iY(this._iy)); if (_iof.put_to_group(_iIe)){_ilb.commit(); }}} ,_iOf:function (){ this._ild(); this._iid(); _iId=null; } ,_iIf:function (){ this._ile(); this._iod(); this._iie("", false); if (_iId!=null){var _iIe=null; if (_ii0("_gm",_iId)>0){_iIe=parseInt(_iId.replace(this._iy.replace("_gp","_gm"),"")); }var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iog=_iOg(_iOb); var _ilg=_ilb._iig(); var _iIg=_ilg[_ioh]["GroupField"]; if (_iog.change_group_order(_iIg,_iIe)){_ilb.commit(); }}else {var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iog=_iOg(_iOb); var _ilg=_ilb._iig(); var _iIg=_ilg[_ioh]["GroupField"]; var _iOe=_ilg[_ioh]["ColumnUniqueID"]; if (_iOe!=null){var _iof=new GridColumn(_iOe); if (_iof.remove_group()){_ilb.commit(); }}else {if (_iog.remove_group(_iIg)){_ilb.commit(); }}}} ,_iid:function (){var _iOb=_iY(this._iy); var _iOh=_iY(this._iy+"_tail"); var _ilh=_iw("th","kgrGroupItem",_iOb); _il(_iOh,"mouseover",_iih, false); _il(_iOh,"mouseout",_iIh, false); _il(_iOh,"mouseup",_ioi, false); for (var i=0; i<_ilh.length; i++){_il(_ilh[i],"mouseover",_iih, false); _il(_ilh[i],"mouseout",_iIh, false); _il(_ilh[i],"mouseup",_ioi, false); }} ,_ile:function (){var _iOb=_iY(this._iy); var _iOh=_iY(this._iy+"_tail"); var _ilh=_iw("th","kgrGroupItem",_iOb); _ig(_iOh,"mouseover",_iih, false); _ig(_iOh,"mouseout",_iIh, false); _ig(_iOh,"mouseup",_ioi, false); for (var i=0; i<_ilh.length; i++){_ig(_ilh[i],"mouseover",_iih, false); _ig(_ilh[i],"mouseout",_iIh, false); _ig(_ilh[i],"mouseup",_ioi, false); }} ,_iod:function (){var _iOb=_iY(this._iy); var _ilh=_iw("th","kgrGroupItem",_iOb); for (var i=0; i<_ilh.length; i++){_ilh[i].style.cursor="move"; _il(_ilh[i],"mousedown",_iOi, false); _ilh[i].onselectstart=_ili; _ilh[i].ondragstart=_ili; _ilh[i].onmousedown=_ili; }} ,_ild:function (){var _iOb=_iY(this._iy); var _ilh=_iw("th","kgrGroupItem",_iOb); for (var i=0; i<_ilh.length; i++){_ilh[i].style.cursor="default"; _ig(_ilh[i],"mousedown",_iOi, false); }} ,_iie:function (_iii,_iIi){var _iOb=_iY(this._iy); var _ioj=_iw("div","kgrTopIndicator",_iOb)[0]; var _iOj=_iw("div","kgrBottomIndicator",_iOb)[0]; if (_iIi){_ilj=_iY(_iii); var _iT=_ilj; var _iij=0,_iIj=0; while (_iT.id!=this._iy){_iij+=_iT.offsetTop; _iIj+=_iT.offsetLeft; _iT=_iT.offsetParent; }_ioj.style.display="block"; _iOj.style.display="block"; _iok=_ioj.offsetHeight; _iOk=_ioj.offsetWidth; var _ilk=_ilj.offsetHeight; _ioj.style.top=(_iij-_iok)+"px"; _ioj.style.left=(_iIj-_iOk/2)+"px"; _iOj.style.top=(_iij+_ilk)+"px"; _iOj.style.left=(_iIj-_iOk/2)+"px"; }else {_ioj.style.display="none"; _iOj.style.display="none"; }} ,_iik:function (_if,_iii){ this._iie(_iii, true); } ,_iIk:function (_if,_iii){ this._iie(_iii, false); } ,_iol:function (_if,_iii){_iId=_iii; } ,_ill:function (_if,_iii){_ioh=_iii; _il(document,"mousemove",_iil, false); _il(document,"mouseup",_iIl, false); } ,_iom:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iOm=_iY(_ioh+"_dummy"); var _iIm=_iY(_ioh); var _ion=_io1(_if); if (!_iO(_iOm)){var _iOn=_iY(_ilb._iy); var _iv=_iQ(_iOn).replace("KGR","DummyGroupItem"); _iOm=_iI("div",document.body); _iOm.className=_iv; _iOm.style.position="absolute"; _iOm.style.width=_iIm.offsetWidth+"px"; _iOm.style.height=_iIm.offsetHeight+"px"; _iOm.innerHTML=_iIm.innerHTML; _iOm.id=_ioh+"_dummy"; this._iOf(); this._iik(_if,_ioh); }_iOm.style.left=(_ion._il1+1)+"px"; _iOm.style.top=(_ion._ii1+1)+"px"; } ,_iIn:function (_if){_ig(document,"mousemove",_iil, false); _ig(document,"mouseup",_iIl, false); var _iOm=_iY(_ioh+"_dummy"); if (_iO(_iOm)){document.body.removeChild(_iOm); } this._iIf(); }};function _iih(_if){var _ioo=_iu(this,4); (new _ilc(_ioo.id))._iik(_if,this.id); }function _iIh(_if){var _ioo=_iu(this,4); (new _ilc(_ioo.id))._iIk(_if,this.id); }function _ioi(_if){var _ioo=_iu(this,4); (new _ilc(_ioo.id))._iol(_if,this.id); }function _iOi(_if){var _ioo=_iu(this,4); (new _ilc(_ioo.id))._ill(_if,this.id); }function _iil(_if){var _iIm=_iY(_ioh); var _ioo=_iu(_iIm,4); (new _ilc(_ioo.id))._iom(_if); }function _iIl(_if){var _iIm=_iY(_ioh); var _ioo=_iu(_iIm,4); (new _ilc(_ioo.id))._iIn(_if); }function _ili(){return false; }function GridCell(_iy){ this._iy=_iy; this.id=_iy; }GridCell.prototype= {getElement:function (){return _iY(this._iy); } ,getInputElement:function (){return _iY(this._iy+"_input"); } ,getRow:function (){var _iOb=_iY(this._iy); var _iOo=_iu(_iOb); if (_ii0("kgrRow",_iQ(_iOo))>-1){return new GridRow(_iOo.id); }return null; } ,getColumn:function (){var _iOo=this.getRow(); var _iIo=this._iy.replace(_iOo._iy+"_",""); return new GridColumn(_iIo); } ,getData:function (){var _iOo=this.getRow(); if (_iO(_iOo)){var _iOb=_iY(this._iy); var _iof=this.getColumn(); var _iop=_iOo.getDataItem(); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iOp=_ilg[_iof._iy]["Name"]; if (_iO(_iOp)){return _iop[_iOp]; }}return null; } ,_ilp:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnCellMouseOver", { "Cell": this,"Event":_if } ); } ,_iip:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnCellMouseOut", { "Cell": this,"Event":_if } ); } ,_iIp:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnCellClick", { "Cell": this,"Event":_if } ); }};function _ioq(_if){ (new GridCell(this.id))._ilp(_if); }function _iOq(_if){ (new GridCell(this.id))._iip(_if); }function _ilq(_if){ (new GridCell(this.id))._iIp(_if); }function GridRow(_iy){ this._iy=_iy; this.id=_iy; }GridRow.prototype= {getDataItem:function (_iiq){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iop= {} ; for (var i in _ilg[this._iy]["DataItem"]){if (typeof _ilg[this._iy]["DataItem"][i]!="function"){_iop[i]=_iiq?decodeURIComponent(escape(_ilg[this._iy]["DataItem"][i])):decodeURIComponent(_ilg[this._iy]["DataItem"][i]); }}return _iop; } ,getElement:function (){return _iY(this._iy); } ,del:function (){_ilb=_iib(_iY(this._iy)); if (_ilb._iIb("OnBeforeRowDelete", { "Row": this } )){_ilb._ioc(this._iy,"Delete", {} ); _ilb._iOc("OnRowDelete", { "Row": this } ); }} ,startEdit:function (){if (_is())return; _ilb=_iib(_iY(this._iy)); if (_ilb._iIb("OnBeforeRowStartEdit", { "Row": this } )){_ilb._ioc(this._iy,"StartEdit", {} ); _ilb._iOc("OnRowStartEdit", { "Row": this } ); }} ,cancelEdit:function (){_ilb=_iib(_iY(this._iy)); if (_ilb._iIb("OnBeforeRowCancelEdit", { "Row": this } )){_ilb._ioc(this._iy,"CancelEdit", {} ); _ilb._iOc("OnRowCancelEdit", { "Row": this } ); }} ,confirmEdit:function (){if (_is())return; _ilb=_iib(_iY(this._iy)); var _iIq= {} ; var _ilg=_ilb._iig(); _iog=_iOg(_iY(this._iy)); var _ior=_iog.getColumns(); var _ilg=_ilb._iig(); var _iOr=this.getCells(); for (var i=0; i<_iOr.length; i+=1){var _ilr=_iOr[i].getInputElement(); if (_ilr !== null){var _iir=eval(_ilr.getAttribute("getEditValue")); if (_iir !== null && _iir !== false){_ilr.value=_iir; }else if (_iir === false){}_iIq[_ilg[_iOr[i].getColumn().id]._iIr]=_ilr.value; }}if (_ilb._iIb("OnBeforeRowConfirmEdit", { "Row": this,"EditValues":_iIq } )){_ilb._ioc(this._iy,"ConfirmEdit", {} ); _ilb._iOc("OnRowConfirmEdit", { "Row": this } ); }return true; } ,getCells:function (){var _iOb=_iY(this._iy); var _iOr=_iw("td","kgrCell",_iOb); var _ios=new Array(); for (var i=0; i<_iOr.length; i++){_ios.push(new GridCell(_iOr[i].id)); }return _ios; } ,select:function (){if (!this.isSelected()){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iog=_iOg(_iOb); var _ilg=_ilb._iig(); if (!_ilb._iIb("OnBeforeRowSelect", { "Row": this } ))return; _iM(_iOb,"kgrRowSelected"); _ilg[this._iy]["Selected"]= true; _ilb._iOs(_ilg); _ils=_iw("input","kgrSelectSingleRow",_iOb); for (var i=0; i<_ils.length; i++){_ils[i].checked= true; }_iog._iis(); _ilb._iIb("OnRowSelect", { "Row": this } ); }} ,deselect:function (){if (this.isSelected()){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iog=_iOg(_iOb); var _ilg=_ilb._iig(); if (!_ilb._iIb("OnBeforeRowDeselect", { "Row": this } ))return; _iL(_iOb,"kgrRowSelected"); _ilg[this._iy]["Selected"]= false; _ilb._iOs(_ilg); _ils=_iw("input","kgrSelectSingleRow",_iOb); for (var i=0; i<_ils.length; i++){_ils[i].checked= false; }_iog._iis(); _ilb._iIb("OnRowDeselect", { "Row": this } ); }} ,expand:function (){if (_is())return; _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforeDetailTablesExpand", { "Row": this } ))return; _ilb._ioc(this._iy,"Expand", {} ); _ilb._iOc("OnDetailTablesExpand", { "Row": this } ); } ,collapse:function (){if (_is())return; _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforeDetailTableCollapse", { "Row": this } ))return; _ilb._ioc(this._iy,"Collapse", {} ); _ilb._iOc("OnDetailTableCollapse", { "Row": this } ); } ,getDetailTables:function (){if (_is())return; var _iOb=_iY(this._iy); var _iIs=_iU(_iOb); var _iot=new Array(); if (_iO(_iIs)){_iOt=_iw("div","kgrTableView",_iIs); for (var i=0; i<_iOt.length; i++){_iog=new GridTableView(_iOt[i].id); _iot.push(_iog); }}return _iot; } ,isSelected:function (){var _ilt=_iY(this._iy); return (_ii0("kgrRowSelected",_iQ(_ilt))>-1); } ,isEditing:function (){var _ilt=_iY(this._iy); return (_ii0("kgrRowEdit",_iQ(_ilt))>-1); } ,setHeight:function (_iit){} ,_iIt:function (_if){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); if (_ilg[_iog._iy]["AllowHovering"]){_iM(_iOb,"kgrRowOver"); }_ilb._iIb("OnRowMouseOver", { "Row": this,"Event":_if } ); } ,_iou:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _iL(_iOb,"kgrRowOver"); _ilb._iIb("OnRowMouseOut", { "Row": this,"Event":_if } ); } ,_iOu:function (_if){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); _ilb._iIb("OnRowClick", { "Row": this,"Event":_if } ); if (_ilg[_iog._iy]["AllowSelecting"]){if (this.isSelected()){ this.deselect(); }else {if (!_ilg[_iog._iy]["AllowMultiSelecting"]){_iog.deselectAllRows(); } this.select(); }}} ,_ilu:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnRowDoubleClick", { "Row": this,"Event":_if } ); }};function GridColumn(_iy){ this._iy=_iy; this.id=_iy; }GridColumn.prototype= {getFooterText:function (){var _iiu=_iY(this._iy+"_ft"); if (_iO(_iiu)){var _iIu=_iE(_iiu,2); if (_iO(_iIu)){return _iIu.innerHTML; }}return ""; } ,getElement:function (){return _iY(this._iy); } ,setFooterText:function (_iov){var _iiu=_iY(this._iy+"_ft"); if (_iO(_iiu)){var _iIu=_iE(_iiu,2); if (_iO(_iIu)){_iIu.innerHTML=_iov; }}} ,setVisible:function (_iIi){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iOv=_ilg[_iog._iy]["RowsCount"]; var _ilv=_iY(this._iy+"_hd"); var _iiv=_iY(this._iy+"_ft"); var _iIv=_iY(this._iy+"_flt"); var _iO5=_il5(); if (_iO5!="ie7" && _iO5!="ie6"){for (var i=0; i<_iOv; i++){var _iow=_iY(_iog._iy+"_r"+i+"_"+this._iy); if (_iIi){_iL(_iow,"kgrHidden"); }else {_iM(_iow,"kgrHidden"); }}}var _iOw=document.getElementsByName(this._iy); if (_iIi){for (var i=0; i<_iOw.length; i++){_iL(_iOw[i],"kgrHidden"); }if (_iO5!="ie7" && _iO5!="ie6"){if (_iO(_ilv))_iL(_ilv,"kgrHidden"); if (_iO(_iiv))_iL(_iiv,"kgrHidden"); if (_iO(_iIv))_iL(_iIv,"kgrHidden"); }}else {for (var i=0; i<_iOw.length; i++){_iM(_iOw[i],"kgrHidden"); }if (_iO5!="ie7" && _iO5!="ie6"){if (_iO(_ilv))_iM(_ilv,"kgrHidden"); if (_iO(_iiv))_iM(_iiv,"kgrHidden"); if (_iO(_iIv))_iM(_iIv,"kgrHidden"); }}_ilg[this._iy]["Visible"]=_iIi; _ilb._iOs(_ilg); } ,setWidth:function (_ilw,_iiw){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _iIw=_iY(_iog._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iox=_ilg[_iog._iy]["AllowScrolling"]; var _iOx=_ilg[_ilb._iy]["ClientSettings"]["Resizing"]["ResizeGridOnColumnResize"]; if (_iOx || _iox){var _ilx=(_ii0("px",_iOb.style.width)<0)?_iOb.offsetWidth:_ix(_iOb); var _iix=document.getElementsByName(_iOb.id); for (var i=0; i<_iix.length; i++){_iix[i].style.width=_ilw; }var _iIx=_iY(this._iy+"_hd"); var _ioy=_iY(this._iy+"_ft"); if (_iO(_iIx)){_iIx.style.width=_ilw; }if (_iO(_ioy)){_ioy.style.width=_ilw; }if (_il5()=="safari" || _il5()=="chrome"){var _iOy=_iog.getRows(); if (_iOy.length>0){var _iow=_iY(_iOy[0]._iy+"_"+this._iy); _ilx=(_ii0("px",_iow.style.width)<0)?_iow.offsetWidth:_ix(_iow); _iow.style.width=_ilw; }}var _ily=parseInt(_ilw)-_ilx; if (_iox){if (!_iiw)_iog._iiy(_ily); _ilg=_ilb._iig(); }else {if (_ii0("%",_ilw)<0){var _iIy=(_ii0("px",_iIw.style.width)<0)?_iIw.offsetWidth:_ix(_iIw); var _ioz=_iIy+_ily; _iog.setWidth(_ioz+"px"); _ilg=_ilb._iig(); }}if (!_iiw)_ilg[_iOb.id]["Width"]=_ilw; }else {var _iT=_iu(_iOb); if (_iOb==_iT.lastChild){return; }var _iix=document.getElementsByName(_iOb.id); for (var i=0; i<_iix.length; i++){_iix[i].style.width=_ilw; }var _iIx=_iY(this._iy+"_hd"); var _ioy=_iY(this._iy+"_ft"); if (_iO(_iIx)){_iIx.style.width=_ilw; }if (_iO(_ioy)){_ioy.style.width=_ilw; }if (!_iiw)_ilg[_iOb.id]["Width"]=_ilw; var _iOz=_iOb.nextSibling; while (_iO(_iOz)){var _iix=document.getElementsByName(_iOz.id); for (var i=0; i<_iix.length; i++){_iix[i].style.width=""; }var _ilz=_iY(_iOz.id+"_hd"); var _iiz=_iY(_iOz.id+"_ft"); if (_iO(_ilz)){_ilz.style.width=""; }if (_iO(_iiz)){_iiz.style.width=""; }_ilg[_iOz.id]["Width"]=""; _iOz=_iOz.nextSibling; }}_ilb._iOs(_ilg); } ,sort:function (_iIz,_io10){if (_is())return; var _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforeColumnSort", { "Column": this,"Order":_iIz,"SortOrder":_io10 } ))return; _ilb._ioc(this._iy,"Sort", { "Sort":_iIz,"SortOrder":_io10 } ); _ilb._iOc("OnColumnSort", { "Column": this,"Order":_iIz,"SortOrder":_io10 } ); } ,filter:function (_iO10,_il10,_ii10){if (_is())return; var _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforeColumnFilter", { "Column": this,"Exp":_iO10,"Value":_il10 } ))return; _ilb._ioc(this._iy,"Filter", { "Filter":{ "Exp":_iO10,"Value": (_il10)?escape(_il10):_il10 } ,"Post":_ii10 } ); _ilb._iOc("OnColumnFilter", { "Column": this,"Exp":_iO10,"Value":_il10 } ); } ,_iI10:function (){if (_is())return; var _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforeColumnAddFilter", { "Column": this } ))return; _ilb._ioc(this._iy,"AddFilter", { "Column": this } ); _ilb._iOc("OnColumnAddFilter", { "Column": this } ); } ,_io11:function (_ii0){if (_is())return; var _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforeColumnAddFilter", { "Column": this,"Index":_ii0 } ))return; _ilb._ioc(this._iy,"RemoveFilter", { "Column": this,"Index":_ii0 } ); _ilb._iOc("OnColumnAddFilter", { "Column": this,"Index":_ii0 } ); } ,put_to_group:function (_iO11){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); if (!_ilb._iIb("OnBeforeColumnGroup", { "Column": this,"Position":_iO11 } ))return false; _ilb._ioc(this._iy,"Group", { "Position":_iO11 } ); _ilb._iOc("OnColumnGroup", { "Column": this,"Position":_iO11 } ); return true; } ,change_group_order:function (_iO11){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); _iog.change_group_order(_ilg[this._iy]["Name"],_iO11); } ,remove_group:function (){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); if (!_ilb._iIb("OnBeforeColumnRemoveGroup", { "Column": this } ))return false; _ilb._ioc(this._iy,"UnGroup", {} ); _ilb._iOc("OnColumnRemoveGroup", { "Column": this } ); return true; } ,isVisible:function (){var _iOb=_iY(this._iy); return (_ii0("kgrHidden",_iQ(_iOb))<0); } ,_il11:function (){var _iOb=_iY(this._iy); return (_ii0("kgrResizable",_iQ(_iOb))>-1); } ,_ii11:function (){var _iOb=_iY(this._iy); return (_ii0("kgrGroupable",_iQ(_iOb))>-1); } ,_iI11:function (_if){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); if (this._il11() && !_io12){_iO12=null; _iY(_iog._iy).style.cursor=""; _ig(document,"mousemove",_il12, false); }if (this._ii11() && !_ii12){_iI12=null; _io13= true; }_ilb._iIb("OnColumnMouseOut", { "Column": this,"Event":_if } ); } ,_iO13:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (this._il11() && !_io12){_iO12=this._iy; _il(document,"mousemove",_il12, false); }if (this._ii11() && !_ii12){_iI12=this._iy; }_ilb._iIb("OnColumnMouseOver", { "Column": this,"Event":_if } ); } ,_il13:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnColumnClick", { "Column": this,"Event":_if } ); } ,_ii13:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnColumnDblClick", { "Column": this,"Event":_if } ); } ,_iI13:function (_if){if (this._il11()){var _ion=_io1(_if); if (!_io12){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _io14=_iY(this._iy+"_hd"); var _iO14=_iO4(_io14); var _il14=_iO14._iI4; var _ii14=_iO14._top; var _iI14=_io14.offsetWidth; var _io15=_io14.offsetHeight; if ((_ion._ii1>_ii14 && _ion._ii1<_ii14+_io15) && (_ion._il1<_il14+_iI14 && _ion._il1>_il14+_iI14-5)){if (!_ilb._iIb("OnBeforeColumnResize", { "Column": this } ))return; _io12= true; _iO15=_ion._il1; this.setWidth(_iI14+"px"); _il(document,"mouseup",_il15, false); return; }}}if (this._ii11()){_ii12= true; _iI12=this._iy; _il(document,"mousemove",_ii15, false); _il(document,"mouseup",_iI15, false); var _iog=_iOg(_iY(this._iy)); var _io16=_iog._iO16(); _io16._iOd(); }} ,_il16:function (_if){var _ii16=_iY(this._iy+"_hd"); var _iI16=_iY(this._iy+"_hd_dummy"); var _ilb=_iib(_ii16); var _ion=_io1(_if); if (!_iO(_iI16)){var _iOn=_iY(_ilb._iy); var _iv=_iQ(_iOn).replace("KGR","DummyHeader"); _iI16=_iI("div",document.body); _iI16.className=_iv; _iI16.style.position="absolute"; _iI16.style.width=_ii16.offsetWidth+"px"; _iI16.style.height=_ii16.offsetHeight+"px"; _iI16.innerHTML=_ii16.innerHTML; _iI16.id=this._iy+"_hd_dummy"; }_iI16.style.left=(_ion._il1+1)+"px"; _iI16.style.top=(_ion._ii1+1)+"px"; } ,_io17:function (_if){_ig(document,"mousemove",_ii15, false); _ig(document,"mouseup",_iI15, false); var _iI16=_iY(this._iy+"_hd_dummy"); if (_iO(_iI16)){document.body.removeChild(_iI16); }_iI12=null; _ii12= false; var _iog=_iOg(_iY(this._iy)); var _io16=_iog._iO16(); _io16._ioe(this._iy); } ,_iO17:function (_if){if (this._il11()){var _ion=_io1(_if); if (!_io12){var _io14=_iY(this._iy+"_hd"); var _iO14=_iO4(_io14); var _il14=_iO14._iI4; var _ii14=_iO14._top; var _iI14=_io14.offsetWidth; var _io15=_io14.offsetHeight; var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); if ((_ion._ii1>_ii14 && _ion._ii1<_ii14+_io15) && (_ion._il1<_il14+_iI14 && _ion._il1>_il14+_iI14-7)){_iY(_iog._iy).style.cursor="w-resize"; }else {_iY(_iog._iy).style.cursor=""; }}else {_iOb=_iY(this._iy); var _il17=_ix(_iOb)+(_ion._il1-_iO15); _il17=(_il17<0)?0:_il17; this.setWidth(_il17+"px"); _iO15=_ion._il1; }}} ,_ii17:function (_if){if (this._il11()){if (_io12){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iog=_iOg(_iOb); var _io14=_iY(this._iy+"_hd"); _ig(document,"mouseup",_il15, false); _iY(_iog._iy).style.cursor=""; _io12= false; _ilb._iIb("OnColumnResize", { "Column": this } ); }}}};function GridTableView(_iy){ this._iy=_iy; this.id=_iy; }GridTableView.prototype= {_iic:function (_ilb){var _ilg=_ilb._iig(); var _iOb=_iY(this._iy); var _iox=_ilg[this._iy]["AllowScrolling"]; var _iI17=_ilg[this._iy]["VirtualScrolling"]; var _io18=_ilg[this._iy]["FrozenColumnsCount"]; var _io16=new _ilc(this._iy+"_gp"); _io16._iic(); if (_iox){var _iO18=_iu(_iY(this._iy+"_header")); var _il18=_iu(_iY(this._iy+"_data")); var _ii18=_iu(_iY(this._iy+"_footer")); var _iI18=_iY(this._iy+"_data"); if (_il18.offsetWidth>=_il18.scrollWidth){_il18.style.overflowX="hidden"; }if (_io18>0){_il18.style.overflowX="hidden"; var _io19=_iI("div",_iOb); _iOb.insertBefore(_io19,_ii18); _io19.id=this._iy+"_frozen_scroller"; _iq(_io19,"kgrFrozenScroller"); var _iO19=_iI("div",_io19); _iX(_iO19,_iI18.offsetWidth); }if (_iOb.style.height!=""){var _il19=_iW(_iOb); var _ii19=0; for (var i=0; i<_iOb.childNodes.length; i++)if (_iOb.childNodes[i].nodeName=="DIV" && _iQ(_iOb.childNodes[i])!="kgrPartData"){if (!isNaN(_iOb.childNodes[i].offsetHeight)){_ii19+=_iOb.childNodes[i].offsetHeight; }}var _iI19=_il19-_ii19; _iZ(_il18,_iI19); _ilg[this._iy]["PartDataHeight"]=_iI19; }if (_ii0("ie",_il5())>-1){_il(window,"load",eval("__=function(){_itch(\""+this._iy+"\");}"), false); }_il18.scrollTop=_ilg[this._iy]["scrollTop"]; if (_io18>0){_il(_io19,"scroll",_io1a, false); _io19.scrollLeft=_ilg[this._iy]["scrollLeft"]; _io19.setAttribute("getScrollLeftViewState", true); }else {_ii18.scrollLeft=_iO18.scrollLeft=_il18.scrollLeft=_ilg[this._iy]["scrollLeft"]; }_il(_il18,"scroll",_io1a, false); _ilb._iOs(_ilg); var _iO1a=_iw("div","kgrEditForm",_iOb); for (var i=0; i<_iO1a.length; i++){if (!isNaN(_iOb.offsetWidth)){_iX(_iO1a[i],_iOb.offsetWidth-((_iox)?26: 0)); }}var _il1a=_iw("div","kgrInsertForm",_iOb); for (var i=0; i<_il1a.length; i++){if (!isNaN(_iOb.offsetWidth)){_iX(_il1a[i],_iOb.offsetWidth-((_iox)?26: 0)); }}if (_iI17){var _ii1a=_ilg[this._iy+"_pg"]["_TotalPages"]; var _iI1a=_ilg[this._iy+"_pg"]["PageIndex"]; var _iOv=_ilg[this._iy]["RowsCount"]; var _io1b=_ilg[this._iy+"_pg"]["_TotalRows"]; var _iO1b=_iI18.offsetHeight; var _il1b=_iI("div",_il18); var _ii1b=_iI("div",_il18); var _iI1b=_il18.offsetHeight; _il18.insertBefore(_il1b,_iI18); if (_iI1a<_ii1a-1){_iZ(_il1b,(_iI1a)*_iO1b); _iZ(_ii1b,(_ii1a-_iI1a-1)*_iO1b); _il18.scrollTop=(_iI1a)*_iO1b; }else {_iZ(_il1b,(_iO1b*(_io1b-_iOv)/_iOv)); if (_iO1b<_iI1b){_iZ(_ii1b,_iI1b-_iO1b-17); }_il18.scrollTop=(_iO1b*(_io1b-_iOv)/_iOv); }}}} ,_io1c:function (){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iOb=_iY(this._iy); var _iox=_ilg[this._iy]["AllowScrolling"]; if (_iox){if (_iOb.style.height!=""){var _il18=_iu(_iY(this._iy+"_data")); var _il19=_iW(_iOb); var _ii19=0; for (var i=0; i<_iOb.childNodes.length; i++)if (_iOb.childNodes[i].nodeName=="DIV" && _iQ(_iOb.childNodes[i])!="kgrPartData"){if (!isNaN(_iOb.childNodes[i].offsetHeight)){_ii19+=_iOb.childNodes[i].offsetHeight; }}var _iI19=_il19-_ii19; _iZ(_il18,_iI19); _ilg[this._iy]["PartDataHeight"]=_iI19; _ilb._iOs(_ilg); }}} ,selectAllRows:function (){var _iO1c=this.getRows(); for (var i=0; i<_iO1c.length; i++){_iO1c[i].select(); }} ,deselectAllRows:function (){var _iO1c=this.getRows(); for (var i=0; i<_iO1c.length; i++){_iO1c[i].deselect(); }} ,_iis:function (){var _iOb=_iY(this._iy); var _il1c=_iw("input","kgrSelectAllRows",_iOb); if (_il1c.length>0){var _iO1c=this.getRows(); var _ii1c= true; for (var i=0; i<_iO1c.length; i++){if (!_iO1c[i].isSelected())_ii1c= false; }for (var i=0; i<_il1c.length; i++){_il1c[i].checked=_ii1c; }}} ,setWidth:function (_ilw,_iiw){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iox=_ilg[this._iy]["AllowScrolling"]; _iOb.style.width=_ilw; if (!_iox){var _iI1c=_iE(_iOb); _iI1c.style.width=(_ii0("%",_ilw)<0)?_ilw: "100%"; }if (_iiw)return; _ilg[this._iy]["Width"]=_ilw; _ilb._iOs(_ilg); } ,_iiy:function (_ily){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _io1d=_iY(this._iy+"_header"); var _iO1d=_iY(this._iy+"_data"); var _il1d=_iY(this._iy+"_footer"); var _ilw=0; if (_iO(_iO1d)){_ilw=_iO1d.offsetWidth+_ily; _iX(_iO1d,_ilw); }if (_iO(_io1d))_iX(_io1d,_ilw); if (_iO(_il1d))_iX(_il1d,_ilw); _ilg[this._iy]["TablePartWidth"]=_ilw+"px"; _ilb._iOs(_ilg); } ,getName:function (){var _ilb=_iib(_iY(this._iy)); var _ilg=_ilb._iig(); return _ilg[this._iy]["Name"]; } ,getRows:function (){var _iOy=new Array(); var _iOo=_iY(this._iy+"_r0"); while (_iO(_iOo)){if (_ii0("kgrRow",_iQ(_iOo))>-1){_iOy.push(new GridRow(_iOo.id)); }_iOo=_iU(_iOo); }return _iOy; } ,getColumns:function (){var _ii1d=new Array(); var _iI1d=_iY(this._iy+"_c0"); while (_iO(_iI1d)){_ii1d.push(new GridColumn(_iI1d.id)); _iI1d=_iU(_iI1d); }return _ii1d; } ,getSelectedRows:function (){var _io1e=new Array(); var _iOo=_iY(this._iy+"_r0"); while (_iO(_iOo)){if (_ii0("kgrRowSelected",_iQ(_iOo))>-1){_io1e.push(new GridRow(_iOo.id)); }_iOo=_iU(_iOo); }return _io1e; } ,goPage:function (_iI1a){var _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforePageChange", { "TableView": this,"PageIndex":_iI1a } ))return; _ilb._ioc(this._iy+"_pg","GoPage", { "PageIndex":_iI1a } ); _ilb._iOc("OnPageChange", { "TableView": this,"PageIndex":_iI1a } ); } ,changePageSize:function (_iO1e){var _ilb=_iib(_iY(this._iy)); _ilb._ioc(this._iy+"_pg","ChangePageSize", { "PageSize":_iO1e } ); } ,_il1e:function (_ii1e){var _ilb=_iib(_iY(this._iy)); _ilb._ioc(this._iy+"_pg","ChangePageOverlap", { "PageOverlap":_ii1e } ); } ,refresh:function (){var _ilb=_iib(_iY(this._iy)); _ilb._ioc(this._iy,"Refresh", {} ); } ,getPageIndex:function (){var _ilb=_iib(_iY(this._iy)); var _ilg=_ilb._iig(); return _ilg[this._iy+"_pg"]["PageIndex"]; } ,startInsert:function (){if (_is())return; var _ilb=_iib(_iY(this._iy)); if (_ilb._iIb("OnBeforeStartInsert", { "TableView": this } )){_ilb._ioc(this._iy,"StartInsert", {} ); _ilb._iOc("OnStartInsert", { "TableView": this } ); }} ,_iI1e:function (){var _io1f=[]; var _ior=this.getColumns(); var s=this.id+"_nr_"; for (var i=0; i<_ior.length; i+=1){var _ilr=_iY(s+_ior[i]._iy+"_input"); if (_ilr)_io1f.push(_ilr); }return _io1f; } ,confirmInsert:function (){if (_is())return; var _ilb=_iib(_iY(this._iy)); var _iO1f=this._iI1e(); for (var i=0; i<_iO1f.length; i+=1){var _ilr=_iO1f[i]; if (_ilr !== null){var _iir=eval(_ilr.getAttribute("getEditValue")); if (_iir !== null && _iir !== false){_ilr.value=_iir; }else if (_iir === false){return false; }}}if (_ilb._iIb("OnBeforeConfirmInsert", { "TableView": this } )){_ilb._ioc(this._iy,"ConfirmInsert", {} ); _ilb._iOc("OnConfirmInsert", { "TableView": this } ); }return true; } ,cancelInsert:function (){var _ilb=_iib(_iY(this._iy)); if (_ilb._iIb("OnBeforeCancelInsert", { "TableView": this } )){_ilb._ioc(this._iy,"CancelInsert", {} ); _ilb._iOc("OnCancelInsert", { "TableView": this } ); }} ,add_group:function (_iIg,_iO11){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (!_ilb._iIb("OnBeforeAddGroup", { "GroupField":_iIg,"Position":_iO11 } ))return; _ilb._ioc(this._iy,"AddGroup", { "GroupField":_iIg,"Position":_iO11 } ); _ilb._iOc("OnAddGroup", { "GroupField":_iIg,"Position":_iO11 } ); } ,change_group_order:function (_iIg,_iO11){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (!_ilb._iIb("OnBeforeChangeGroupOrder", { "GroupField":_iIg,"Position":_iO11 } ))return false; _ilb._ioc(this._iy,"ChangeGroupOrder", { "GroupField":_iIg,"Position":_iO11 } ); _ilb._iOc("OnChangeGroupOrder", { "GroupField":_iIg,"Position":_iO11 } ); return true; } ,remove_group:function (_iIg){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (!_ilb._iIb("OnBeforeRemoveGroup", { "GroupField":_iIg } ))return false; _ilb._ioc(this._iy,"RemoveGroup", { "GroupField":_iIg } ); _ilb._iOc("OnRemoveGroup", { "GroupField":_iIg } ); return true; } ,_iO16:function (){return (new _ilc(this._iy+"_gp")); } ,get_group_list:function (){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _il1f=_ilg[this._iy]["GroupSize"]; var _ii1f=new Array(); for (var i=0; i<_il1f; i++){_ii1f.push(_ilg[this._iy+"_gm"+i]["GroupField"]); }return _ii1f; } ,excuteDelete:function (_iop){} ,excuteUpdate:function (_iop){} ,excuteInsert:function (_iop){} ,_iI1f:function (_if){var _iO18=_iu(_iY(this._iy+"_header")); var _il18=_iu(_iY(this._iy+"_data")); var _ii18=_iu(_iY(this._iy+"_footer")); var _ilb=_iib(_iY(this._iy)); var _ilg=_ilb._iig(); var _io18=_ilg[this._iy]["FrozenColumnsCount"]; if (_io18>0){var _io19=_iY(this._iy+"_frozen_scroller"); if (_ilg[this._iy]["scrollLeft"]!=_io19.scrollLeft || _io19.getAttribute("getScrollLeftViewState")){_io19.removeAttribute("getScrollLeftViewState"); var _iO19=_iE(_io19); var _io1g=_ix(_iO19)-_io19.offsetWidth; var _ior=this.getColumns(); var _iO1g=_ior.length-_io18-1; if (_iO1g>0){var _il1g=(_io1g)/_iO1g; var _ii1g=Math.floor(_io19.scrollLeft/_il1g); for (var i=0; i<_ior.length-_io18-1; i++){var _iI1g=(i<_ii1g)? false : true; var col=_ior[_io18+i]; if (col.isVisible() !== _iI1g){col.setVisible(_iI1g); }}i=_ior.length-1; var col=_ior[i]; col.setWidth("100%", true); _io1h=_iY(this._iy+"_header"); _iI18=_iY(this._iy+"_data"); _iO1h=_iY(this._iy+"_footer"); _io1h.style.tableLayout="auto"; _iI18.style.tableLayout="auto"; _iO1h.style.tableLayout="auto"; _io1h.style.tableLayout="fixed"; _iI18.style.tableLayout="fixed"; _iO1h.style.tableLayout="fixed"; if (_ii0("ie",_il5())>-1){if (_iY(_ior[_ior.length-1].id).style.width!="100%"){_ior[_ior.length-1].setWidth("100%"); }}}}}if (_ilg[this._iy]["VirtualScrolling"] && _ilg[this._iy]["scrollTop"]!=_il18.scrollTop){if (_il1h){clearTimeout(_il1h); }_ii1h=this._iy; _il1h=setTimeout(_iI1h,750); var _ii1a=_ilg[this._iy+"_pg"]["_TotalPages"]; var _iI1a=_ilg[this._iy+"_pg"]["PageIndex"]; var _iOv=_ilg[this._iy]["RowsCount"]; var _io1b=_ilg[this._iy+"_pg"]["_TotalRows"]; var _iO1e=_ilg[this._iy+"_pg"]["PageSize"]; var _ii1e=_ilg[this._iy+"_pg"]["PageOverlap"]; var _iI18=_iY(this._iy+"_data"); var _iO1b=_iI18.offsetHeight; var _iI1b=_il18.offsetHeight; var _io1i=_il18.scrollTop; var _iO1i=_iI1a; if (_iI1a<_ii1a-1){if (_io1i<(_iO1b*_iI1a)){_iO1i=Math.floor((_io1i+60)/_iO1b); }else {_iO1i=Math.floor((_io1i+(_iI1b-60))/_iO1b); }}else {if (_io1i<(_iO1b*(_io1b-_iOv)/_iOv)){_iO1i=Math.floor((_io1i+60)/(_iO1b*(_iO1e-_ii1e)/_iOv)); }} this._il1i(1); var _ii1i=_iY(this._iy+"_scrolling_indicator"); var _iI1i="Page {page_number}"; _ii1i.innerHTML=_iI1i.replace("{page_number}",_iO1i+1); _ii1i.style.right="17px"; _ii1i.style.top=(_iO18.offsetHeight+((_iI1b-48)*(_iI1b-48)/(2*_il18.scrollHeight))+Math.round(_io1i*(_iI1b-48)/_il18.scrollHeight))+"px"; if (_io1j){clearTimeout(_io1j); }_io1j=setTimeout(_iO1j,2000); }_ii18.scrollLeft=_iO18.scrollLeft=_il18.scrollLeft; if (_ilg[_ilb._iy]["ClientSettings"]["Scrolling"]["SaveScrollingPosition"]){_ilg[this._iy]["scrollTop"]=_il18.scrollTop; _ilg[this._iy]["scrollLeft"]=(_io18>0)?_io19.scrollLeft:_il18.scrollLeft; _ilb._iOs(_ilg); }} ,_il1j:function (){var _il18=_iu(_iY(this._iy+"_data")); var _ilb=_iib(_iY(this._iy)); var _ilg=_ilb._iig(); var _ii1a=_ilg[this._iy+"_pg"]["_TotalPages"]; var _iI1a=_ilg[this._iy+"_pg"]["PageIndex"]; var _iOv=_ilg[this._iy]["RowsCount"]; var _io1b=_ilg[this._iy+"_pg"]["_TotalRows"]; var _iO1e=_ilg[this._iy+"_pg"]["PageSize"]; var _ii1e=_ilg[this._iy+"_pg"]["PageOverlap"]; var _iI18=_iY(this._iy+"_data"); var _iO1b=_iI18.offsetHeight; var _iI1b=_il18.offsetHeight; var _io1i=_il18.scrollTop; var _iO1i=_iI1a; if (_iI1a<_ii1a-1){if (_io1i<(_iO1b*_iI1a)){_iO1i=Math.floor((_io1i+60)/_iO1b); }else {_iO1i=Math.floor((_io1i+(_iI1b-60))/_iO1b); }}else {if (_io1i<(_iO1b*(_io1b-_iOv)/_iOv)){_iO1i=Math.floor((_io1i+60)/(_iO1b*(_iO1e-_ii1e)/_iOv)); }}if (_iO1i!=_iI1a){ this.goPage(_iO1i); _ilb.commit(); }} ,_il1i:function (_iIi){var _il18=_iu(_iY(this._iy+"_data")); var _ii1i=_iY(this._iy+"_scrolling_indicator"); if (!_ii1i){_ii1i=_iI("div",_il18); _ii1i.id=this._iy+"_scrolling_indicator"; _iq(_ii1i,"kgrScrollingIndicator"); }_iR(_ii1i,_iIi); }};var _il1h; var _io1j; var _ii1h; function _iI1h(){if (_iO(_ii1h)){ (new GridTableView(_ii1h))._il1j(); }}function _iO1j(){if (_iO(_ii1h)){ (new GridTableView(_ii1h))._il1i(0); }}function KoolGrid(_iy,_ii1j,_iI1j){ this._iy=_iy; this.id=_iy; this._ii1j=_ii1j; this._iI1j=_iI1j; this._io1k=new Array(); this._iic(); }KoolGrid.prototype= {_iic:function (){var _iOb=_iY(this._iy); var _iO1k=_iY(this._iy+"_cmd"); _iO1k.value=""; if (_il5()=="firefox" && this._ii1j){var _ilw=_iOb.style.width; if (_ii0("%",_ilw)>-1){var _il1k=_iY(this._iy+"_updatepanel"); _il1k.style.width=_ilw; _iOb.style.width="100%"; }}var _ii1k=_iw("th","kgrHeader",_iOb); for (var i=0; i<_ii1k.length; i++){var _io14=_ii1k[i]; _il(_io14,"mouseover",_iI1k, false); _il(_io14,"mouseout",_io1l, false); _il(_io14,"mousedown",_iO1l, false); _il(_io14,"click",_il1l, false); _il(_io14,"dblclick",_ii1l, false); _io14.onselectstart=_ili; _io14.ondragstart=_ili; _io14.onmousedown=_ili; _io14.style.MozUserSelect="none"; }var _iO1c=_iw("tr","kgrRow",_iOb); for (var i=0; i<_iO1c.length; i++){_il(_iO1c[i],"mouseover",_iI1l, false); _il(_iO1c[i],"mouseout",_io1m, false); _il(_iO1c[i],"click",_iO1m, false); _il(_iO1c[i],"dblclick",_il1m, false); var _iOr=_iw("td","kgrCell",_iO1c[i]); for (var _ii1m=0; _ii1m<_iOr.length; _ii1m++){_il(_iOr[_ii1m],"mouseover",_ioq, false); _il(_iOr[_ii1m],"mouseout",_iOq, false); _il(_iOr[_ii1m],"click",_ilq, false); }}var _iI1m=["span","div"]; for (var _ii1m=0; _ii1m<_iI1m.length; _ii1m++){var _io1n=_iw(_iI1m[_ii1m],"kgrECap",_iOb); for (var i=0; i<_io1n.length; i++){_il(_io1n[i],"click",_iF, false); }}var _iOt=_iw("div","kgrTableView",_iOb); for (var i=0; i<_iOt.length; i++){ (new GridTableView(_iOt[i].id))._iic(this ); }var _iO1n=_iw("input","kgrFiEnTr",_iOb); for (var i=0; i<_iO1n.length; i++){_il(_iO1n[i],"keypress",_il1n, false); }var _ii1n=_iw("input","kgrEnNoPo",_iOb); for (var i=0; i<_ii1n.length; i++){_il(_ii1n[i],"keypress",_iI1n, false); }if (_iO(_io1o[this._iy]) && _iO(_io1o[this._iy]["Focus"])){var _iO1o=_iY(_io1o[this._iy]["Focus"]); if (_iO(_iO1o)){try {_iO1o.focus(); }catch (_ii3){}}}var _il1o=_iw("div","kgrInputFocus",_iOb); if (_il1o.length>0){if (_ii0("kgrBlurGrid",_iQ(_il1o[0]))>0){var _ii1o=_iI("div",_iOb); _ii1o.style.position="absolute"; _ii1o.style.backgroundColor="white"; _ii1o.style.opacity="0.6"; _ii1o.style.filter="alpha(opacity=60)"; _ii1o.style.left="0px"; _ii1o.style.top="0px"; _iZ(_ii1o,_iOb.scrollHeight); _iX(_ii1o,_iOb.scrollWidth); var _iI1o=_iI("div",_iu(_il1o[0])); var _io1p=_il1o[0].offsetHeight; var _iO1p=_il1o[0].offsetWidth; _iZ(_iI1o,_io1p); _iX(_iI1o,_iO1p); _il1o[0].style.position="absolute"; _il1o[0].style.zIndex="1000"; _iZ(_il1o[0],_io1p-parseInt(_ii2(_il1o[0],"padding-top"))-parseInt(_ii2(_il1o[0],"padding-bottom"))); _iX(_il1o[0],_iO1p-parseInt(_ii2(_il1o[0],"padding-left"))-parseInt(_ii2(_il1o[0],"padding-right"))); }else {var _il1p=_iY(this._iy+"_mt"); _il1p.style.display="none"; _iOb.appendChild(_il1o[0]); }}var _ilg=this._iig(); var _ii1p=_ilg[this._iy]["ClientSettings"]["ClientEvents"]; for (var _il0 in _ii1p){if (typeof _ii1p[_il0]!="function")if (eval("typeof "+_ii1p[_il0]+" =='function'")){ this._io1k[_il0]=eval(_ii1p[_il0]); }}if (!_iO(_io1o[this._iy])){try { this._iIb("OnInit", {} ); }catch (_ii3){}}try { this._iIb("OnLoad", {} ); }catch (_ii3){}if (_iO(_io1o[this._iy])){_iI1p=_io1o[this._iy]["PostLoadEvent"]; for (_il0 in _iI1p){if (typeof _iI1p[_il0]!="function"){try { this._iIb(_il0,_iI1p[_il0]); }catch (_ii3){}}}}_io1o[this._iy]= { "PostLoadEvent":{}} ; } ,_ioc:function (_iy,_io1q,_iO1q){var _iO1k=_iY(this._iy+"_cmd"); var _il1q=new Object(); if (_iO1k.value!=""){_il1q=eval("__="+_ii8(_iO1k.value)); }_il1q[_iy]= { "Command":_io1q,"Args":_iO1q } ; _iO1k.value=_iIa(JSON.stringify(_il1q)); } ,_iig:function (){var _ii1q=_iY(this._iy+"_viewstate"); var _iI1q=JSON.parse(_ii8(_ii1q.value)); return _iI1q; } ,_iOs:function (_ilg){var _ii1q=_iY(this._iy+"_viewstate"); _ii1q.value=_iIa(JSON.stringify(_ilg)); } ,getMasterTable:function (){return (new GridTableView(this._iy+"_mt")); } ,refresh:function (){ this._ioc(this._iy,"Refresh", {} ); } ,attachData:function (_il0,_il10){if (this._ii1j){var _io1r=eval(this._iy+"_updatepanel"); _io1r.attachData(_il0,_il10); }} ,commit:function (){if (!this._iIb("OnBeforeGridCommit", {} ))return; if (this._ii1j){var _io1r=eval(this._iy+"_updatepanel"); _io1r.update((this._iI1j!="")?this._iI1j:null); }else {var _iO1r=_iY(this._iy); while (_iO1r.nodeName!="FORM"){if (_iO1r.nodeName=="BODY")return; _iO1r=_iu(_iO1r); }_iO1r.submit(); }var _il1r=_iw("div","kgrStatus",_iY(this._iy)); for (var i=0; i<_il1r.length; i++){_iM(_il1r[i],"kgrLoading"); } this._iOc("OnGridCommit", {} ); } ,_iIb:function (_il0,_ii1r){if (_is())return true; return (_iO(this._io1k[_il0]))?this._io1k[_il0](this,_ii1r): true; } ,_iOc:function (_il0,_ii1r){_io1o[this._iy]["PostLoadEvent"][_il0]=_ii1r; }};function _iib(_iOb){var _iOn=_iu(_iOb); while (_iOn.nodeName!="DIV" || _ii0("KGR",_iQ(_iOn))<0){_iOn=_iu(_iOn); if (_iOn.nodeName=="BODY")return null; }return eval(_iOn.id); }function _iOg(_iOb){var _iI1r=_iu(_iOb); while (_ii0("kgrTableView",_iQ(_iI1r))<0 && _ii0("kgrInsertForm",_iQ(_iI1r))<0){_iI1r=_iu(_iI1r); }var _iy=_iI1r.id; if (_ii0("kgrTableView",_iQ(_iI1r))<0){_iy=_iy.replace("_nr_insertform",""); }return (new GridTableView(_iy)); }function _io1s(_iOb){var _iI1r=_iu(_iOb); while (_ii0("kgrRow",_iQ(_iI1r))<0 && _ii0("kgrEditForm",_iQ(_iI1r))<0){_iI1r=_iu(_iI1r); }var _iy=_iI1r.id; if (_ii0("kgrRow",_iQ(_iI1r))<0){_iy=_iy.replace("_editform",""); }return (new GridRow(_iy)); }function get_row(_iOb){return _io1s(_iOb); }function get_tableview(_iOb){return _iOg(_iOb); }function get_grid(_iOb){return _iib(_iOb); }function grid_gopage(_iOb,_iI1a){_iOg(_iOb).goPage(_iI1a); _iib(_iOb).commit(); }function grid_pagesize_select_onchange(_iOb){var _iO1e=_iOb.options[_iOb.selectedIndex].value; _iOg(_iOb).changePageSize(_iO1e); _iib(_iOb).commit(); }function grid_pageoverlap_select_onchange(_iOb){var _ii1e=_iOb.options[_iOb.selectedIndex].value; _iOg(_iOb)._il1e(_ii1e); _iib(_iOb).commit(); }function grid_delete(_iOb){var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iO1s=_ilg[_ilb._iy]["ClientSettings"]["ClientMessages"]["DeleteConfirm"]; if (_iO1s!=""){if (confirm(_iO1s)){_io1s(_iOb).del(); _iib(_iOb).commit(); }}else {_io1s(_iOb).del(); _iib(_iOb).commit(); }}function grid_toggle_select(_iOb){if (_ii0("kgrSelectAllRows",_iQ(_iOb))>-1){var _iog=_iOg(_iOb); if (_iOb.checked){_iog.selectAllRows(); }else {_iog.deselectAllRows(); }}else if (_ii0("kgrSelectSingleRow",_iQ(_iOb))>-1){var _iOo=_io1s(_iOb); if (_iOb.checked){_iOo.select(); }else {_iOo.deselect(); }}}function grid_edit(_iOb){_io1s(_iOb).startEdit(); _iib(_iOb).commit(); }function grid_confirm_edit(_iOb){if (_io1s(_iOb).confirmEdit())_iib(_iOb).commit(); }function grid_cancel_edit(_iOb){_io1s(_iOb).cancelEdit(); _iib(_iOb).commit(); }function grid_confirm_insert(_iOb){if (_iOg(_iOb).confirmInsert())_iib(_iOb).commit(); }function grid_cancel_insert(_iOb){_iOg(_iOb).cancelInsert(); _iib(_iOb).commit(); }function grid_insert(_iOb){_iOg(_iOb).startInsert(); _iib(_iOb).commit(); }function grid_refresh(_iOb){var _ilb=_iib(_iOb); _ilb.refresh(); _ilb.commit(); }function tableview_refresh(_iOb){var _iog=_iOg(_iOb); _iog.refresh(); _iib(_iOb).commit(); }function grid_expand(_iOb){_io1s(_iOb).expand(); _iib(_iOb).commit(); }function grid_collapse(_iOb){_io1s(_iOb).collapse(); _iib(_iOb).commit(); }function grid_sort(_iy,_iIz,_io10){ (new GridColumn(_iy)).sort(_iIz,_io10); _iib(_iY(_iy)).commit(); }function grid_group_toogle(_iOb){var _ilt=_iu(_iOb,3); var _il1s=_iw("span","kgrExpand",_ilt); if (_il1s.length>0){ (new GridGroup(_ilt.id)).collapse(); }else { (new GridGroup(_ilt.id)).expand(); }_iib(_iOb).commit(); }function grid_groupitem_sort(_ii1s,_iI1s){var _io1t=_iY(_ii1s); var _ilb=_iib(_io1t); _ilb._ioc(_ii1s,"Sort", { "Sort":_iI1s } ); _ilb.commit(); }function grid_filter_trigger(_iIo,_iOb){var _ilb=_iib(_iOb); var _iof=new GridColumn(_iIo); var _iO1t=window["kac_"+_iOb.id]; var _il1t=["AddFilter","RemoveFilter"]; if (_ii0("_filter_select",_iOb.id)>0){var _iO10=_iOb.options[_iOb.selectedIndex].value; if (_il1t.indexOf(_iO10) === -1){_iof.filter(_iO10,null, true); _ilb.commit(); }else _ii1t(_iIo,_iOb,_iO10); }else if (!_iO1t || !_iO1t.isOpening()){var _iI1t=_iOb; while (_iI1t.className.indexOf("kgrIn") === -1)_iI1t=_iI1t.parentElement; var _io1u=_iI1t.getElementsByTagName("select")[0]; var _iO10=_io1u.options[_io1u.selectedIndex].value; if (_iO10!="No_Filter"){if (_iOb.nodeName=="INPUT" && _iOb.type=="text"){var _ilg=_ilb._iig(); var _iO1u=unescape(_ilg[_iIo]["Filter"]["Value"]); if (_iOb.value!=_iO1u){_iof.filter(_iO10,null, true); _ilb.commit(); }}else {_iof.filter(_iO10,null, true); _ilb.commit(); }}}}function _ii1t(_iIo,_il1u,_iO10){var _ilb=_iib(_il1u); var _iof=new GridColumn(_iIo); if (_iO10 === "AddFilter"){_iof._iI10(); _ilb.commit(); }else if (_iO10 === "RemoveFilter"){var _iI1t=_il1u; while (_iI1t.className.indexOf("kgrIn") === -1)_iI1t=_iI1t.parentElement; var _ii1u=_iI1t.parentElement; var _ii0=-1; for (var i=0; i<_ii1u.children.length; i+=1)if (_ii1u.children[i] === _iI1t){_ii0=i; break; }_iof._io11(_ii0); _ilb.commit(); }}function grid_autocomplete_filter_trigger(_iO1t){var _iI1u=_iO1t.getAttachTo(); if (_iI1u){var _io1v=_iI1u.id.replace("_filter_input",""); grid_filter_trigger(_io1v,_iI1u); }}function _il1n(_if){var _iO1v=_if.keyCode; if (_iO1v==13){var _ilb=_iib(this ); var _iIo=this.id.replace("_filter_input",""); _io1o[_ilb._iy]["Focus"]=this.id; grid_filter_trigger(_iIo,this ); return _iD(_if); }}function _iI1n(_if){if (_if.keyCode==13){return _iD(_if); }}var _iO12=null; var _io12= false; var _iO15=0; var _ii12= false; var _iI12=null; var _iId=null; var _ioh=null; function _iI1k(_if){var _iy=this.id.replace("_hd",""); (new GridColumn(_iy))._iO13(_if); }function _io1l(_if){var _iy=this.id.replace("_hd",""); (new GridColumn(_iy))._iI11(_if); }function _il1l(_if){var _iy=this.id.replace("_hd",""); (new GridColumn(_iy))._il13(_if); }function _ii1l(_if){var _iy=this.id.replace("_hd",""); (new GridColumn(_iy))._ii13(_if); }function _iO1l(_if){var _iy=this.id.replace("_hd",""); (new GridColumn(_iy))._iI13(_if); return false; }function _il15(_if){ (new GridColumn(_iO12))._ii17(_if); }function _il12(_if){ (new GridColumn(_iO12))._iO17(_if); }function _iI15(_if){ (new GridColumn(_iI12))._io17(_if); }function _ii15(_if){ (new GridColumn(_iI12))._il16(_if); }function _iI1l(_if){ (new GridRow(this.id))._iIt(_if); }function _io1m(_if){ (new GridRow(this.id))._iou(_if); }function _iO1m(_if){ (new GridRow(this.id))._iOu(_if); }function _il1m(_if){ (new GridRow(this.id))._ilu(_if); }function _io1a(_if){_iog=_iOg(this ); _iog._iI1f(_if); }function _itch(_ii1h){ (new GridTableView(_ii1h))._io1c(); }function grid_on_datetimepicker_open(_iy){var _iOb=_iY(_iy+"_bound"); var _il1v=_iu(_iOb); var _ii1v=_iu(_il1v); var _ilw=_ii1v.offsetWidth; _il1v.style.width=_ilw+"px"; _ii1v.style.width=_ilw+"px"; _iM(_ii1v,"kgrDateTimePickerOpening"); if (_il5()!="firefox"){var _iog=_iOg(_iOb); var _iI1v=_iu(_ii1v,2); var _io1w=_iu(_iY(_iog._iy+"_data")); _il1v.style.left=(_il1v.offsetLeft-_io1w.scrollLeft)+"px"; if (_iQ(_iI1v)!="kgrIn"){_il1v.style.top=(_il1v.offsetTop-_io1w.scrollTop)+"px"; }}}function grid_on_datetimepicker_close(_iy){var _iOb=_iY(_iy+"_bound"); var _il1v=_iu(_iOb); var _ii1v=_iu(_il1v); _iL(_ii1v,"kgrDateTimePickerOpening"); _il1v.style.width=_il1v.style.top=_il1v.style.left=""; _ii1v.style.width=""; }var ExpandList= function (_iy){var _iO1w=_iY(_iy); var _il1w=_iO1w.children,_iB=_il1w.length,i=0; var _ii1w= function (){var _iI1w=_il1w[i]; if (_iI1w)_iI1w.style.display=""; i+=1; if (i<_iB)setTimeout(_ii1w,10); else if (i === _iB){var _io1x=_iO1w.lastChild; _io1x.style.display="none"; var _iO1x=_iO1w.nextSibling; _iO1x.style.display="none"; _iO1x=_iO1x.nextSibling; _iO1x.style.display=""; }} ; setTimeout(_ii1w,10); } ; var CollapseList= function (_iy,_il1x){var _iO1w=_iY(_iy); var _il1w=_iO1w.children,_iB=_il1w.length,i=_iB-1; var _ii1x= function (){if (i>_il1x-1){var _iI1w=_il1w[i]; if (_iI1w)_iI1w.style.display="none"; if (i === _iB-1){var _io1x=_iO1w.lastChild; _io1x.style.display=""; }setTimeout(_ii1x,10); }else if (i === _il1x-1){var _iO1x=_iO1w.nextSibling; _iO1x.style.display=""; _iO1x=_iO1x.nextSibling; _iO1x.style.display="none"; }i-=1; } ; setTimeout(_ii1x,10); } ; var _io1o=new Array(); if (typeof(__KGRInits)!="undefined" && _iO(__KGRInits)){for (var i=0; i<__KGRInits.length; i++){__KGRInits[i](); }} <?php _iO5(); _ilo(); } if (!function_exists("\155one\171\137f\157\162ma\164")) { function money_format($_ilp,$_iOp) { $_ilq='/%((?:[\\^!\\-]|\\+|\\(|\\=.)*)([0-9]+)?'.'(?:#([0-9]+))?(?:\\.([0-9]+))?([in%])/'; if (setlocale(LC_MONETARY,0) == 'C') { setlocale(LC_MONETARY,''); } $_iOq=localeconv(); preg_match_all($_ilq,$_ilp,$_ilr,PREG_SET_ORDER); foreach ($_ilr as $_ils) { $value=floatval($_iOp); $_iOs=array('fillchar' => preg_match('/\\=(.)/',$_ils[1],$_ilt) ? $_ilt[1]: ' ','nogroup' => preg_match('/\\^/',$_ils[1])>0,'usesignal' => preg_match('/\\+|\\(/',$_ils[1],$_ilt) ? $_ilt[0]: '+','nosimbol' => preg_match('/\\!/',$_ils[1])>0,'isleft' => preg_match('/\\-/',$_ils[1])>0); $width=trim($_ils[2]) ? (int) $_ils[2]: 0; $_iOt=trim($_ils[3]) ? (int) $_ils[3]: 0; $_ilu=trim($_ils[4]) ? (int) $_ils[4]: $_iOq['int_frac_digits']; $_iOu=$_ils[5]; $_ilv=TRUE; if ($value<0) { $_ilv=FALSE; $value *= -1; } $_iOv=$_ilv ? 'p': 'n'; $_ilw=$_iOw=$_ilx=$_iOx=$_ily=''; $_ily=$_ilv ? $_iOq['positive_sign']: $_iOq['negative_sign']; switch (TRUE) { case $_iOq[ "{$_iOv}_si\147n_po\163\156" ] == 1 && $_iOs['usesignal'] == '+': $_ilw=$_ily; break; case $_iOq[ "{$_iOv}\137si\147\156_p\157sn" ] == 2 && $_iOs['usesignal'] == '+': $_iOw=$_ily; break; case $_iOq[ "{$_iOv}\137si\147\156_po\163n" ] == 3 && $_iOs['usesignal'] == '+': $_ilx=$_ily; break; case $_iOq[ "{$_iOv}_s\151\147n_\160\157sn" ] == 4 && $_iOs['usesignal'] == '+': $_iOx=$_ily; break; case $_iOs['usesignal'] == '(': case $_iOq[ "{$_iOv}\137\163ign_\160\157sn" ] == 0: $_ilw='('; $_iOw=')'; break; } if (!$_iOs['nosimbol']) { $_iOy=$_ilx.($_iOu == 'i' ? $_iOq['int_curr_symbol']: $_iOq['currency_symbol']).$_iOx; } else { $_iOy=''; } $_ilz=$_iOq[ "{$_iOv}\137sep_\142\171\137spa\143\145" ] ? ' ': ''; $value=number_format($value,$_ilu,$_iOq['mon_decimal_point'],$_iOs['nogroup'] ? '': $_iOq['mon_thousands_sep']); $value=@explode($_iOq['mon_decimal_point'],$value); $_iOz=strlen($_ilw)+strlen($_iOy)+strlen($value[0]); if ($_iOt>0 && $_iOt>$_iOz) { $value[0]=str_repeat($_iOs['fillchar'],$_iOt-$_iOz).$value[0]; } $value=implode($_iOq['mon_decimal_point'],$value); if ($_iOq[ "{$_iOv}\137cs_prec\145\144es" ]) { $value=$_ilw.$_iOy.$_ilz.$value.$_iOw; } else { $value=$_ilw.$value.$_ilz.$_iOy.$_iOw; } if ($width>0) { $value=str_pad($value,$width,$_iOs['fillchar'],$_iOs['isleft'] ? STR_PAD_RIGHT: STR_PAD_LEFT); } $_ilp=str_replace($_ils[0],$value,$_ilp); } return $_ilp; } } if (!class_exists("\113oolG\162\151d",FALSE)) { require_once (dirname( __FILE__).'/GridIValueMap.php'); function _il10($_iO10) { return _iO0("+"," ",urlencode($_iO10)); } function _il11($_iO10) { return urldecode(_iO0(" ","+",$_iO10)); } function _iO11($_iO10) { return stripslashes($_iO10); } function _il12($_iO10) { return addslashes($_iO10); } function _iO12($_iO10) { $_iO10=_iO0("\047","&apos\073",$_iO10); $_iO10=_iO0('"',"\046quot;",$_iO10); return $_iO10; } function _il13($_iO13,$_il14) { if (is_null($_il14)) { return array(); } $_iO14=explode("\054",$_il14); $_il15=array(); if ($_iO14 != NULL) { for ($_iO9=0; $_iO9<sizeof($_iO14); $_iO9 ++) { $_iO14[$_iO9]=trim($_iO14[$_iO9]); $_il15[$_iO14[$_iO9]]=$_iO13[$_iO14[$_iO9]]; } } return $_il15; } function _iO15($_iO13) { $_il3=""; foreach ($_iO13 as $_il16) { $_il3.=$_il16; } return md5($_il3); } function _iO16( &$_il17,$_iO17='strcmp',$_il18=NULL) { if (count($_il17)<2) return; $_iO18=count($_il17)/2; $_il19=array_slice($_il17,0,$_iO18); $_iO19=array_slice($_il17,$_iO18); _iO16($_il19,$_iO17,$_il18); _iO16($_iO19,$_iO17,$_il18); if (call_user_func($_iO17,end($_il19),$_iO19[0],$_il18)<1) { $_il17=array_merge($_il19,$_iO19); return; } $_il17=array(); $_il1a=$_iO1a=0; while ($_il1a<count($_il19) && $_iO1a<count($_iO19)) { if (call_user_func($_iO17,$_il19[$_il1a],$_iO19[$_iO1a],$_il18)<1) { $_il17[]=$_il19[$_il1a ++ ]; } else { $_il17[]=$_iO19[$_iO1a ++ ]; } } while ($_il1a<count($_il19)) $_il17[]=$_il19[$_il1a ++ ]; while ($_iO1a<count($_iO19)) $_il17[]=$_iO19[$_iO1a ++ ]; return; } function sortcmp($_il1b,$_iO1b,$_il1c) { if ($_il1b->_iO1c === $_iO1b->_iO1c) return 0; else { if ($_il1c === 'lcfs') return ($_il1b->_iO1c <$_iO1b->_iO1c) ? 1: -1; else if ($_il1c === 'fcfs') return ($_il1b->_iO1c <$_iO1b->_iO1c) ? -1: 1; } } class datasourcefilter { var $Field; var $Expression; var $Value; var $_il1d=FALSE; function __construct($_iO1d,$_il1e,$_iO1e,$_il1f=FALSE) { $this->Field =$_iO1d; $this->Expression =$_il1e; $this->Value =_il12($_iO1e); $this->_il1d =$_il1f; } } class datasourcesort { var $Field; var $Order; var $_iO1c; function __construct($_iO1d,$_iO1f="\101SC",$_il1g=0) { $this->Field =$_iO1d; $this->Order =$_iO1f; $this->_iO1c =$_il1g; } } class datasourcegroup { var $Field; function __construct($_iO1d) { $this->Field =$_iO1d; } } class datasource { var $Sorts=array(); var $Filters=array(); var $Groups=array(); protected $_iO1g=NULL; public function setvaluemap($_il1h) { $this->_iO1g =$_il1h; } public function getvaluemap() { return $this->_iO1g; } public function getmappedvalue($_iO1e,$_iO1h) { if ( isset ($this->_iO1g)) $_iO1e=$this->_iO1g->mapvalue($_iO1e,$_iO1h); return $_iO1e; } public function getinversemappedvalue($_iO1e,$_iO1h) { if ( isset ($this->_iO1g)) $_iO1e=$this->_iO1g->inversemapvalue($_iO1e,$_iO1h); return $_iO1e; } function count() { } function getfields() { } function getdata($_il1i=0,$_iO1i=046113177) { } function getaggregates($_il6) { } function insert($_il1j) { return FALSE; } function update($_il1j) { return FALSE; } function delete($_il1j) { return FALSE; } function addsort($_iO1j) { array_push($this->Sorts ,$_iO1j); } function addfilter($_il1k) { array_push($this->Filters ,$_il1k); } function addgroup($_iO1k) { array_push($this->Groups ,$_iO1k); } function clear() { $this->Sorts =array(); $this->Filters =array(); $this->Groups =array(); } function geterror() { return ""; } function setcharset($_il1l) { } function _iO1l($_il1m) { return $_il1m; } function getfilterexpression($_il1k) { $_il1e=""; $_iO1e=$this->_iO1l($_il1k->Value); switch ($_il1k->Expression) { case "\105qu\141\154": $_il1e="\075"; break; case "No\164\137Equ\141\154": $_il1e="\074>"; break; case "Gr\145\141ter_T\150\141n": $_il1e="\076"; break; case "Les\163_Than": $_il1e="<"; break; case "Gre\141\164er_\124\150a\156\137O\162_Eq\165al": $_il1e="\076="; break; case "\114\145ss\137\124han\137\117r_\105qua\154": $_il1e="\074="; break; case "\103ont\141\151n": $_il1e="\114IK\105"; $_iO1e="\045".$_iO1e."%"; break; case "No\164_Cont\141\151n": $_il1e="NO\124 LIKE"; $_iO1e="\045".$_iO1e."\045"; break; case "\123tart_W\151\164h": $_il1e="\114IKE"; $_iO1e=$_iO1e."\045"; break; case "E\156\144_W\151\164h": $_il1e="\114IKE"; $_iO1e="%".$_iO1e; break; default : $_il1e=""; } if (!empty($_il1e)) { $_il1m=$_il1k->Field."\040".$_il1e."\040\047".$_iO1e."\047"; if ($_il1k->_il1d && empty($_il1k->Value)) $_il1m='('.$_il1m.' or '.$_il1k->Field."\040is nul\154\051"; } else $_il1m=""; return $_il1m; } function arrangesorts($MultiSortingOrder) { $_il1c=strtolower($MultiSortingOrder); if ($_il1c === 'right-left') $this->Sorts =array_reverse($this->Sorts); else if ($_il1c === 'fcfs' || $_il1c === 'lcfs') { _iO16($this->Sorts ,'sortcmp',$_il1c); } } } class mysqldatasource extends datasource { var $SelectCommand; var $UpdateCommand; var $InsertCommand; var $DeleteCommand; var $_iO1m; function __construct($_il1n) { $this->_iO1m =$_il1n; } function _iO1l($_il1m) { return mysql_real_escape_string($_il1m); } function count() { $_iO1n="SELE\103\124 COUN\124\050*) FR\117\115 (".$this->SelectCommand."\051 AS _TM\120\040\173whe\162\145}"; $_il1o=""; $_iO1o=$this->Filters; for ($_iO9=0; $_iO9<sizeof($_iO1o); $_iO9 ++) { $_il1p=$this->getfilterexpression($_iO1o[$_iO9]); if (!empty($_il1p)) $_il1o.="\040\141nd ".$_il1p; } if ($_il1o != "") { $_il1o="\127HERE ".substr($_il1o,5); } $_iO1n=_iO0("\173\167\150ere}",$_il1o,$_iO1n); $_iO1p=mysql_query($_iO1n,$this->_iO1m); $_il1q=mysql_result($_iO1p,0,0); mysql_free_result($_iO1p); return $_il1q; } function getfields() { $_iO1q=array(); $_iO1p=mysql_query($this->SelectCommand ,$this->_iO1m); while ($_il1r=mysql_fetch_field($_iO1p)) { $_iO1d=array("N\141\155e" => $_il1r->name ,"\124\171pe" => $_il1r->type ,"Not_N\165\154\154" => $_il1r->not_null); array_push($_iO1q,$_iO1d); } mysql_free_result($_iO1p); return $_iO1q; } function _iO1r() { $_iO1p=mysql_query($this->SelectCommand ,$this->_iO1m); $_il1s=array(); while ($_iO1s=mysql_fetch_assoc($_iO1p)) { array_push($_il1s,$_iO1s); } mysql_free_result($_iO1p); return $_il1s; } function getdata($_il1t=0,$_il1q=046113177) { $_iO1t="SELECT\040\052 FRO\115\040(\173S\145\154ectCo\155\155and})\040\101S \137\124MP \173\167\150ere\175\040\173ord\145\162by} \173\147roupb\171\175 \173l\151\155it}"; $_il1o=""; $_iO1o=$this->Filters; for ($_iO9=0; $_iO9<sizeof($_iO1o); $_iO9 ++) { $_il1p=$this->getfilterexpression($_iO1o[$_iO9]); if (!empty($_il1p)) $_il1o.=" and\040".$_il1p; } if ($_il1o != "") { $_il1o="\127HERE ".substr($_il1o,5); } $_il1u=""; $_iO1u=$this->Sorts; for ($_iO9=0; $_iO9<sizeof($_iO1u); $_iO9 ++) { $_il1u.="\054 ".$_iO1u[$_iO9]->Field."\040".$_iO1u[$_iO9]->Order; } if ($_il1u != "") { $_il1u="\117RDER BY\040".substr($_il1u,2); } $_il1v=""; $_iO1v=$this->Groups; for ($_iO9=0; $_iO9<sizeof($_iO1v); $_iO9 ++) { $_il1v.=", ".$_iO1v[$_iO9]->Field; } if ($_il1v != "") { $_il1v="\107ROUP B\131\040".substr($_il1v,2); } $_il1w="\114\111MIT ".$_il1t." ,\040".$_il1q; $_iO1w=_iO0("\173\123\145lectC\157\155mand}",$this->SelectCommand ,$_iO1t); $_iO1w=_iO0("\173wher\145\175",$_il1o,$_iO1w); $_iO1w=_iO0("\173\157\162derby\175",$_il1u,$_iO1w); $_iO1w=_iO0("\173\147\162oupby\175",$_il1v,$_iO1w); $_iO1w=_iO0("\173limit}",$_il1w,$_iO1w); $_iO1p=mysql_query($_iO1w,$this->_iO1m); $_il1s=array(); while ($_iO1s=mysql_fetch_assoc($_iO1p)) { foreach ($_iO1s as $_iO1h => &$_iO1e) $_iO1e=$this->getmappedvalue($_iO1e,$_iO1h); array_push($_il1s,$_iO1s); } mysql_free_result($_iO1p); return $_il1s; } function exportdata($_il1x,$_iO1x,$_il1y,$_il1t=0,$_il1q=046113177) { $_iO1y=''; $_il1z=TRUE; foreach ($_iO1x as $_iO1h) { if (!$_il1z) $_iO1y.="\054"; $_iO1y.="\042".$_iO1h['HeaderText']."\042 \141\163 ".$_iO1h['DataField']; $_il1z=FALSE; } $_iO1y.="\015\n"; $_iO1t="\123ELEC\124\040".$_iO1y."\040UNION S\105\114ECT *\040\106ROM\040\050\173Se\154\145ctCo\155\155and\175\051 AS \137\124MP \173\167\150ere} \173\157rderb\171\175 \173\147\162oupby\175\040\173li\155\151t}"; $_il1o=""; $_iO1o=$this->Filters; for ($_iO9=0; $_iO9<sizeof($_iO1o); $_iO9 ++) { $_il1p=$this->getfilterexpression($_iO1o[$_iO9]); if (!empty($_il1p)) $_il1o.="\040and\040".$_il1p; } if ($_il1o != "") { $_il1o="\127\110ERE ".substr($_il1o,5); } $_il1u=""; $_iO1u=$this->Sorts; for ($_iO9=0; $_iO9<sizeof($_iO1u); $_iO9 ++) { $_il1u.=", ".$_iO1u[$_iO9]->Field." ".$_iO1u[$_iO9]->Order; } if ($_il1u != "") { $_il1u="\117RDER B\131\040".substr($_il1u,2); } $_il1v=""; $_iO1v=$this->Groups; for ($_iO9=0; $_iO9<sizeof($_iO1v); $_iO9 ++) { $_il1v.=", ".$_iO1v[$_iO9]->Field; } if ($_il1v != "") { $_il1v="\107\122OUP BY\040".substr($_il1v,2); } $_il1w="L\111\115IT ".$_il1t." , ".$_il1q; $_iO1w=_iO0("\173Selec\164\103\157mma\156\144}",$this->SelectCommand ,$_iO1t); $_iO1w=_iO0("\173\167here}",$_il1o,$_iO1w); $_iO1w=_iO0("\173\157rderby\175",$_il1u,$_iO1w); $_iO1w=_iO0("\173\147\162oupby\175",$_il1v,$_iO1w); $_iO1w=_iO0("\173limit}",$_il1w,$_iO1w); $_iO1w.=" \111\116TO OUTF\111\114E '".$_il1y."' F\111\105\114DS T\105\122\115INA\124\105D BY \047".$_il1x->_iO1z."\047 ENCL\117\123ED BY \047".$_il1x->_il20."\047\073"; $_iO1p=mysql_query($_iO1w,$this->_iO1m); } function getaggregates($_il6) { $_iO1t="SELEC\124\040\173te\170\164\175 FR\117\115 (\173\123\145lectC\157\155ma\156\144}) AS\040\137TMP \173\167\150ere\175\040\173ord\145\162by} \173\147roupb\171\175"; $_il3=""; $_iO20=array(); foreach ($_il6 as $_il21) { if (strpos("-|mi\156\174max|fi\162\163\164|la\163\164|coun\164\174sum|\141\166g|","\174".strtolower($_il21["Agg\162\145\147ate"])."|")>0) { $_il3.="\054 ".$_il21["Aggreg\141\164\145"]."(".$_il21["\104\141\164aFiel\144"]."\051 as ".$_il21["Key"]; } } if ($_il3 != "") { $_il3=substr($_il3,2); $_il1o=""; $_iO1o=$this->Filters; for ($_iO9=0; $_iO9<sizeof($_iO1o); $_iO9 ++) { $_il1p=$this->getfilterexpression($_iO1o[$_iO9]); if (!empty($_il1p)) $_il1o.="\040and\040".$_il1p; } if ($_il1o != "") { $_il1o="WHE\122\105 ".substr($_il1o,5); } $_il1u=""; $_iO1u=$this->Sorts; for ($_iO9=0; $_iO9<sizeof($_iO1u); $_iO9 ++) { $_il1u.="\054\040".$_iO1u[$_iO9]->Field."\040".$_iO1u[$_iO9]->Order; } if ($_il1u != "") { $_il1u="\117RDER\040\102Y ".substr($_il1u,2); } $_il1v=""; $_iO1v=$this->Groups; for ($_iO9=0; $_iO9<sizeof($_iO1v); $_iO9 ++) { $_il1v.=",\040".$_iO1v[$_iO9]->Field; } if ($_il1v != "") { $_il1v="\107ROUP \102\131 ".substr($_il1v,2); } $_iO1w=_iO0("\173Selec\164\103\157mma\156\144}",$this->SelectCommand ,$_iO1t); $_iO1w=_iO0("\173\164ext}",$_il3,$_iO1w); $_iO1w=_iO0("\173where\175",$_il1o,$_iO1w); $_iO1w=_iO0("\173\157rderb\171\175",$_il1u,$_iO1w); $_iO1w=_iO0("\173gr\157\165\160by}",$_il1v,$_iO1w); $_iO1p=mysql_query($_iO1w,$this->_iO1m); $_iO20=mysql_fetch_assoc($_iO1p); foreach ($_iO20 as $_iO1h => &$_iO1e) $_iO1e=$this->getmappedvalue($_iO1e,$_iO1h); mysql_free_result($_iO1p); } return $_iO20; } function insert($_il1j,$_iO21=array(),&$_il22=array()) { $_iO22=explode(";",$this->InsertCommand); foreach ($_il1j as $_ilk => $_iO1e) { $_iO1e=$this->getinversemappedvalue($_iO1e,$_ilk); for ($_iO9=0; $_iO9<sizeof($_iO22); $_iO9 ++) { $_iO22[$_iO9]=preg_replace("/(@".$_ilk."\051([\134\051\134'\042]\052\133\134s\073\054])/",preg_quote(addslashes($_iO1e))."\044\062",$_iO22[$_iO9]); $_iO22[$_iO9]=preg_replace("\057(@".$_ilk.")([\134)\134\047\042]*\044\051/",preg_quote(addslashes($_iO1e))."\044\062",$_iO22[$_iO9]); } } foreach ($_iO22 as $_il23) { $_il23=trim($_il23); if (!empty($_il23)) if (mysql_query($_il23,$this->_iO1m) == FALSE) { return FALSE; } } foreach ($_iO21 as $_iO23) { if ( isset ($_il1j[$_iO23->IdColumn ])) { array_push($_il22,$_il1j[$_iO23->IdColumn ]); } else { array_push($_il22,mysql_insert_id($this->_iO1m)); } } return TRUE; } function update($_il1j) { $_il24=explode("\073",$this->UpdateCommand); foreach ($_il1j as $_ilk => $_iO1e) { $_iO1e=$this->getinversemappedvalue($_iO1e,$_ilk); for ($_iO9=0; $_iO9<sizeof($_il24); $_iO9 ++) { $_il24[$_iO9]=preg_replace("/(@".$_ilk.")([\134\051\134'\042\135\052[\134\163\073,])/",preg_quote(addslashes($_iO1e))."\044\062",$_il24[$_iO9]); $_il24[$_iO9]=preg_replace("/(@".$_ilk."\051\050[\134)\134\047\042]*\044\051/",preg_quote(addslashes($_iO1e))."\044\062",$_il24[$_iO9]); } } foreach ($_il24 as $_iO24) { if (mysql_query($_iO24,$this->_iO1m) == FALSE) { return FALSE; } } return TRUE; } function delete($_il1j) { $_il25=explode("\073",$this->DeleteCommand); foreach ($_il1j as $_ilk => $_iO1e) { $_iO1e=$this->getinversemappedvalue($_iO1e,$_ilk); for ($_iO9=0; $_iO9<sizeof($_il25); $_iO9 ++) { $_il25[$_iO9]=preg_replace("/(@".$_ilk.")(\133\134)\134'\042\135*[\134s\073\054])/",preg_quote(addslashes($_iO1e))."\044\062",$_il25[$_iO9]); $_il25[$_iO9]=preg_replace("\057(@".$_ilk.")([\134\051\134'\042\135\052\044)\057",preg_quote(addslashes($_iO1e))."\0442",$_il25[$_iO9]); } } foreach ($_il25 as $_iO25) { if (mysql_query($_iO25,$this->_iO1m) == FALSE) { return FALSE; } } return TRUE; } function geterror() { return mysql_error($this->_iO1m); } function setcharset($_il1l) { mysql_set_charset($_il1l,$this->_iO1m); } } class arraydatasource extends datasource { var $_il26; function __construct($_iO26) { $this->_il26 =$_iO26; } function count() { return sizeof($this->_il26); } function getfields() { $_iO1q=array(); $_il27=$this->_il26[0]; foreach ($_il27 as $_iO27 => $_il28) { $_iO1d=array("Nam\145" => $_iO27,"\124\171pe" => "","\116\157t_Null" => FALSE); array_push($_iO1q,$_iO1d); } return $_iO1q; } function getdata($_il1i=0,$_iO1i=046113177) { $_iO28=array(); if ($_il1i>$this->count()) return $_iO28; if ($_il1i+$_iO1i>$this->count()) { $_iO1i=$this->count()-$_il1i; } for ($_iO9=0; $_iO9<$_iO1i; $_iO9 ++) { array_push($_iO28,$this->_il26[$_il1i+$_iO9]); } return $_iO28; } } interface _il29 { function _iO29(); function _il2a(); } class _iO2a { var $_il2b; var $_il26; var $_iO2b=TRUE; var $_il2c=FALSE; function _iO2c($_il2d) { $this->_il2b =$_il2d; $this->_il2c =$_il2d->KeepViewStateInSession; $_iO2d=( isset ($_POST[$this->_il2b->_il2e."\137viewst\141\164\145"])) ? $_POST[$this->_il2b->_il2e."\137viewsta\164\145"]: ""; if ($this->_il2c && $_iO2d == "") { $_iO2d=( isset ($_SESSION[$this->_il2b->_il2e."_vi\145\167\163tat\145"])) ? $_SESSION[$this->_il2b->_il2e."_vi\145\167state"]: ""; $this->_il2b->_iO2e->_il2f =TRUE; } if ($_iO2d != "" && $this->_iO2b) { $_iO2d=base64_decode($_iO2d); } $_iO2d=_iO0("\134","",$_iO2d); $this->_il26 =json_decode($_iO2d,TRUE); } function _iO2f() { if (strnatcmp(phpversion(),'5.4.0')>=0) $_il2g=json_encode($this->_il26 ,JSON_UNESCAPED_UNICODE); else $_il2g=json_encode($this->_il26); if ($this->_iO2b) { $_il2g=base64_encode($_il2g); } if ($this->_il2c) { $_SESSION[$this->_il2b->_il2e."_vi\145\167state"]=$_il2g; } $_iO2g="\074\151nput i\144\075'\173id\175\047 nam\145\075'\173i\144\175' t\171\160e='h\151\144den'\040\166alue=\047\173value\175\047 aut\157\143ompl\145\164e='of\146\047 />"; $_il2h=_iO0("\173\151d}",$this->_il2b->_il2e."\137viewst\141\164e",$_iO2g); $_il2h=_iO0("\173\166\141lue}",$_il2g,$_il2h); return $_il2h; } } class _iO2h { var $_il2i; var $_iO2i; function __construct() { $this->_il2i =array("Inser\164" => "A\144\144\040New\040\122ecord","\104elet\145" => "\104elet\145","\103\157nfirm" => "Confi\162\155","\105dit" => "\105\144it","Can\143\145\154" => "Cance\154","Refresh" => "\122\145fresh","\104\157ne" => "Do\156\145","\114\157\141ding" => "Loadin\147\056..","Go" => "\107\157","Next" => "N\145\170\164","Pre\166" => "\120rev","\114\141st" => "Last","\106\151rst" => "Firs\164","No_Fil\164\145\162" => "[No \106\151lter]","\105\161ual" => "Equal","No\164\137\105qual" => "N\157\164\040Equa\154","Gre\141\164\145r_Th\141\156" => "\107reater \124\150\141n","\114\145ss_Than" => "Less Th\141\156","Greate\162\137Than_O\162\137\105qu\141\154" => "G\162\145ater Th\141\156 Or E\161\165al","L\145\163\163_Tha\156\137\117r_E\161\165al" => "Less\040\124han Or\040\105qual","\103ontain" => "Contai\156","Not_Con\164\141in" => "Not\040\103ontain","\123\164art_Wit\150" => "Start W\151\164\150","End_Wi\164\150" => "End Wit\150","Fil\164\145\162" => "\106ilter","\101ction" => "\101\143tion","Ad\144\106\151lter" => "\101\144d Filte\162","AddFi\154\164\145r" => "\101dd Filt\145\162","R\145\155\157veFi\154\164\145r" => "\122\145move F\151\154ter",); $this->_iO2i =array("\104\145leteCo\156\146irm" => "Ar\145\040you sur\145\040to de\154\145\164e t\150\151s row\077","PageIn\146\157\124empl\141\164e" => "Page <s\164\162\157ng>\173\120\141geIn\144\145x}</o\156\163tron\147\076 i\156\040<stro\156\147>\173T\157\164alPage\163\175</str\157\156g>,\040\151tems \074\163trong\076\173First\111\156dexI\156\120age}<\057\163trong\076\040to <\163\164rong>\173\114astIn\144\145xIn\120\141ge}<\057\163trong\076\040of <\163\164rong\076\173Total\122\157ws}<\057\163tron\147\076.","Manual\120\141gerTem\160\154\141te" => "\103hange\040\160age: \173\124\145xtBo\170\175 (of \173\124otal\120\141ge}\040\160ages\051\040\173Go\120\141geBut\164\157n}","\120\141geSizeT\145\170\164" => "\120age Siz\145\072","\120ageOver\154\141\160Tex\164" => "\120age \117\166\145rlap\072","\116\145xtPageT\157\157lTip" => "Next P\141\147e","\120\162evPa\147\145\124oolT\151\160" => "Previo\165\163\040Pag\145","\106\151rstPa\147\145ToolTi\160" => "Fi\162\163\164 Pag\145","LastPa\147\145\124oolT\151\160" => "L\141\163\164 Pag\145","\123\157rtHea\144\145\162Tool\124\151p" => "\103lick her\145\040to so\162\164","\123ortAsc\124\157\157lTip" => "\123\157rt As\143","\123\157rtDesc\124\157olTip" => "\123\157rt De\163\143","\123\157rtNoneTo\157\154Tip" => "No sor\164","\117rder" => "\117rder","Insert\106\157\162m_Co\156\146irmBu\164\164onToo\154\124ip" => "Con\146\151\162m In\163\145rt","\111\156sert\106\157\162m_Ca\156\143elBut\164\157nTool\124\151p" => "Canc\145\154\040Ins\145\162t","\105\144\151tForm\137\103onfirm\102\165ttonT\157\157lTip" => "\103\157nfirm\040\103hanges","E\144\151\164Form_\103\141ncelBu\164\164onToo\154\124ip" => "Cancel \103\150anges","\122equire\144\106\151eldV\141\154idato\162\137Error\115\145ssag\145" => "Field \151\163\040requ\151\162ed!","Regu\154\141\162Expr\145\163sionVa\154\151dator\137\105rror\115\145ssag\145" => "\116\157\164 vali\144\041","RangeVa\154\151\144ato\162\137\105rro\162\115essag\145" => "\126\141lue m\165\163\164 be \151\156 rang\145\040[\173M\151\156Valu\145\175,\173\115\141xValu\145\175]","Gro\165\160\120anel\107\165ideTe\170\164" => "Dr\141\147\040a c\157\154\165mn \150\145\141der\040\141nd d\162\157p it\040\150ere\040\164o gro\165\160 by t\150\141t col\165\155n","\107\162oupItemT\157\157lTip" => "\104\162ag out\040\157f the \142\141r to \165\156group","\126\151rtualScr\157\154lingPa\147\145ToolT\151\160" => "\120age \173\160\141ge_in\144\145x}"); } function load($_il2j) { $_iO2j=new domdocument(); $_iO2j->load($_il2j); $_il2k=$_iO2j->getelementsbytagname("\143ommands"); if ($_il2k->length >0) { foreach ($_il2k->item(0)->attributes as $_iO2k) { $this->_il2i[$_iO2k->name ]=$_iO2k->value; } } $_il2k=$_iO2j->getelementsbytagname("\155essag\145\163"); if ($_il2k->length >0) { foreach ($_il2k->item(0)->attributes as $_iO2k) { $this->_iO2i[$_iO2k->name ]=$_iO2k->value; } } } } class _il2l { var $_il2e; var $_il2b; var $_il2i; function __construct($_il2d) { $this->_il2e =$_il2d->_il2e."\137\143md"; $this->_iO2l(); } function _iO2l() { if ( isset ($_POST[$this->_il2e ])) { $_iO2d=$_POST[$this->_il2e ]; $_iO2d=base64_decode($_iO2d); $_iO2d=_iO0("\134","",$_iO2d); $this->_il2i =json_decode($_iO2d,TRUE); } } function _iO2f() { $_il2m="<inp\165\164 id='\173\151\144}' \156\141me='\173\151\144}' \164\171pe=\047\150idde\156\047 val\165\145\075'' \057\076"; $_ilm=_iO0("\173\151\144}",$this->_il2e ,$_il2m); return $_ilm; } } class gridrow implements _il29 { var $_il2e; var $_iO2m; var $_il2n; var $_iO2n=array(); var $_il2o; var $DataItem; var $Selected=FALSE; var $Expand=FALSE; var $EditMode=FALSE; var $TableView; var $CssClass=""; var $_iO2o=FALSE; function _iO2c($_il2p) { $this->_il2n =$_il2p; $this->TableView =$_il2p; $this->_iO2m =$_il2p->_iO2m; } function getuniqueid() { return $this->_il2e; } function _iO29() { if ( isset ($this->_iO2m->_il26[$this->_il2e ])) { $_iO2p=$this->_iO2m->_il26[$this->_il2e ]; $this->Selected =$_iO2p["Se\154\145cted"]; $this->Expand =$_iO2p["E\170\160\141nd"]; $this->EditMode =$_iO2p["EditMode"]; $_il2q=$_iO2p["DataI\164\145\155"]; $this->DataItem =array(); foreach ($_il2q as $_iO2q => $_il2r) { $this->DataItem[$_iO2q]=_il11($_il2r); } } } function _il2a() { $_il2q=array(); foreach ($this->DataItem as $_iO2q => $_il2r) { $_il2q[$_iO2q]=_il10($_il2r); } $this->_iO2m->_il26[$this->_il2e ]=array("Selecte\144" => $this->Selected ,"\105xpan\144" => $this->Expand ,"\104\141taItem" => $_il2q,"Ed\151\164\115ode" => $this->EditMode); foreach ($this->_iO2n as $_iO2r) { $_iO2r->_il2a(); } } function _il2s($_il2p) { $_il2p->_il2e =$this->_il2e."_dt".sizeof($this->_iO2n); array_push($this->_iO2n ,$_il2p); } function getinstancedetailtables() { return $this->_iO2n; } function gettableview() { return $this->_il2n; } function _iO2s() { $this->_iO29(); if ($this->EditMode) { $this->_il2o =$this->_il2n->EditSettings->_il2t(); $this->_il2o->_iO2c($this->_il2n); $this->_il2o->_iO2t =$this; } if ($this->Expand) { foreach ($this->_il2n->_il2u as $_iO2r) { $_iO2u=$_iO2r->_il2t(); $this->_il2s($_iO2u); $_iO2u->_iO2c($this->_il2n->_il2b ,$this); $_iO2u->_iO2s(); } } } function _il2v($_ilm) { if ( isset ($_ilm->_il2i[$this->_il2e ])) { $_iO2v=$_ilm->_il2i[$this->_il2e ]; switch ($_iO2v["Com\155\141nd"]) { case "Se\154\145ct": $this->Selected =TRUE; break; case "\125nsele\143\164": $this->Selected =FALSE; break; case "E\170pand": if ($this->_il2n->_il2b->EventHandler->onbeforedetailtablesexpand($this,array()) == TRUE) { $this->Expand =TRUE; $this->_il2n->_il2b->EventHandler->ondetailtablesexpand($this,array()); } break; case "C\157\154lapse": if ($this->_il2n->_il2b->EventHandler->onbeforedetailtablescollapse($this,array()) == TRUE) { $this->Expand =FALSE; $this->_iO2n =array(); $this->_il2n->_il2b->EventHandler->ondetailtablescollapse($this,array()); } break; case "\123tartE\144\151t": if ($this->_il2n->AllowEditing) { if ($this->_il2n->_il2b->EventHandler->onbeforerowstartedit($this,array()) == TRUE) { $this->EditMode =TRUE; $this->_il2o =$this->_il2n->EditSettings->_il2t(); $this->_il2o->_il2w ="StartE\144\151\164"; $this->_il2o->_iO2c($this->_il2n); $this->_il2o->_iO2t =$this; $this->_il2n->_il2b->EventHandler->onrowstartedit($this,array()); } } break; case "C\157\156\146irmE\144\151t": if ($this->EditMode) { $this->_il2o->_il2w ="\103onfirm\105\144it"; $this->_il2o->_iO2w(); } break; case "CancelE\144\151\164": if ($this->_il2n->_il2b->EventHandler->onbeforerowcanceledit($this,array()) == TRUE) { $this->EditMode =FALSE; $this->_il2n->_il2b->EventHandler->onrowcanceledit($this,array()); } break; case "Delete": if ($this->_il2n->AllowDeleting) { if ($this->_il2n->_il2b->EventHandler->onbeforerowdelete($this,array()) == TRUE) { $_ilm->_il2i[$this->_il2e ]["Comma\156\144"]="NoMore"; $_il2x=$this->_il2n->DataSource->delete($this->DataItem); $this->_il2n->_il2f =TRUE; $_iO2x=$this->_il2n->DataSource->geterror(); if ($_iO2x != "") $this->_il2n->_il2b->EventHandler->ondatasourceerror($this,array("\105rro\162" => $_iO2x)); $this->_il2n->_il2b->EventHandler->onrowdelete($this,array("Suc\143\145ssful" => $_il2x,"Error" => $_iO2x)); } } break; } } $this->_il2n->_il2b->EventHandler->onrowprerender($this,array()); if ($this->Expand && sizeof($this->_iO2n) == 0) { foreach ($this->_il2n->_il2u as $_iO2r) { $_iO2u=$_iO2r->_il2t(); $this->_il2s($_iO2u); $_iO2u->_iO2c($this->_il2n->_il2b ,$this); } } foreach ($this->_iO2n as $_iO2r) { $_iO2r->_il2v($_ilm); } } function _iO2f() { $_il2y="<tr i\144\075'\173r\157\167id}' \143\154ass='\153\147rRow \173\141lt\175\040\173se\154\145cted}\040\173cssc\154\141ss}'>\173\164ds}</\164\162>"; $_iO2y="<\164\162><td cl\141\163s='kg\162\103ell \173\141\154t}'\076\046#16\060\073</t\144\076<td \143\157lspan\075\047\173co\154\163pan}\047\040clas\163\075'kgr\104\145tailT\141\142lesPa\156\145l'>\173\164\141bles\175\074/td><\057\164r>"; $_il2z="\074\144iv cla\163\163='kgr\104\145sc'>\173\164\145xt}\074\057div\076"; $_iO2z=""; if ($this->EditMode) { $_iO2z=$this->_il2o->_iO2f(); } else { $_il30=""; for ($_iO9=0; $_iO9<sizeof($this->_il2n->_iO30); $_iO9 ++) { $_il31=$this->_il2n->_iO30[$_iO9]; $_iO31=$_il31->_iO2f($this); $_il30.=$_iO31; } $_iO2z=_iO0("\173tds}",$_il30,$_il2y); } $_iO2z=_iO0("\173rowi\144\175",$this->_il2e ,$_iO2z); $_iO2z=_iO0("\173s\145\154\145cted\175",$this->Selected ? "\153\147rRowSe\154\145c\164ed": "",$_iO2z); $_iO2z=_iO0("\173\141lt}",$this->_iO2o ? "kgrAlt\122\157\167": "",$_iO2z); $_iO2z=_iO0("\173csscl\141\163s}",$this->CssClass ,$_iO2z); if (sizeof($this->_iO2n)>0) { $_il32=""; foreach ($this->_iO2n as $_iO2r) { $_iO32=""; if ($_iO2r->_il33 !== NULL) { $_iO32=_iO0("\173te\170\164\175",$_iO2r->_il33 ,$_il2z); foreach ($this->DataItem as $_iO27 => $_il28) { $_iO32=_iO0("\173".$_iO27."\175",$_il28,$_iO32); } } $_iO33=$_iO32.$_iO2r->_iO2f(); $_il32.=$_iO33; } $_il34=_iO0("\173cols\160\141n}",sizeof($this->_il2n->_iO30)-1,$_iO2y); $_il34=_iO0("\173alt}",$this->_iO2o ? "kg\162\101\154tRow": "",$_il34); $_il34=_iO0("\173tabl\145\163\175",$_il32,$_il34); $_iO2z.=$_il34; } return $_iO2z; } } class _iO34 { var $Wrap; var $Align; var $Valign; function _iO2c($_il31) { if ($this->Wrap === NULL) $this->Wrap =$_il31->Wrap; if ($this->Align === NULL) $this->Align =$_il31->Align; if ($this->Valign === NULL) $this->Valign =$_il31->Valign; } function _il35() { return "whit\145\055space:".(($this->Wrap) ? "\156\157\162mal": "nowrap")."\073"; } function _iO35() { return ($this->Align) ? "\164ext-ali\147\156\072".$this->Align."\073": ""; } function _il36() { return ($this->Valign) ? "\166\141lign='".$this->Valign."\047 ": ""; } } class gridvalidator { var $ErrorMessage; function validate($_iO1e,$_il2q=NULL,$_iO1s=NULL,$_il31=NULL) { return TRUE; } } class requiredfieldvalidator extends gridvalidator { function validate($_iO1e,$_il2q=NULL,$_iO1s=NULL,$_il31=NULL) { if ($_iO1e === NULL || $_iO1e == "") { if ($this->ErrorMessage === NULL) $this->ErrorMessage =$_il31->_il2n->_il2b->Localization->_iO2i["\122equired\106\151eldVal\151\144ator\137\105rrorM\145\163sage"]; return FALSE; } return TRUE; } } class regularexpressionvalidator extends gridvalidator { var $ValidationExpression=""; function validate($_iO1e,$_il2q=NULL,$_iO1s=NULL,$_il31=NULL) { if (!preg_match($this->ValidationExpression ,$_iO1e)) { if ($this->ErrorMessage === NULL) $this->ErrorMessage =$_il31->_il2n->_il2b->Localization->_iO2i["\122\145gularEx\160\162ession\126\141lida\164\157r_Err\157\162Mes\163\141ge"]; return FALSE; } return TRUE; } } class rangevalidator extends gridvalidator { var $MinValue; var $MaxValue; function __construct($_iO36=NULL,$_il37=NULL) { if ($_iO36 !== NULL) $this->MinValue =$_iO36; if ($_il37 !== NULL) $this->MaxValue =$_il37; } function validate($_iO1e,$_il2q=NULL,$_iO1s=NULL,$_il31=NULL) { if ($_iO1e>$this->MaxValue || $_iO1e<$this->MinValue) { if ($this->ErrorMessage === NULL) $this->ErrorMessage =$_il31->_il2n->_il2b->Localization->_iO2i["\122ang\145\126\141lid\141\164\157r_E\162\162orMes\163\141ge"]; $this->ErrorMessage =_iO0("\173Min\126\141\154ue}",$this->MinValue ,$this->ErrorMessage); $this->ErrorMessage =_iO0("\173\115axValue}",$this->MaxValue ,$this->ErrorMessage); return FALSE; } return TRUE; } } class customvalidator extends gridvalidator { var $ValidateFunction; function validate($_iO1e,$_il2q=NULL,$_iO1s=NULL,$_il31=NULL) { $_iO37=$this->ValidateFunction; if ($_iO37 !== NULL) { $_il38=$_iO37($_iO1e); if ($_il38 !== NULL) { $this->ErrorMessage =$_il38; return FALSE; } } return TRUE; } } class gridcolumn implements _il29 { var $_il2e; var $_iO2m; var $_il2n; var $_iO38; var $ReadOnly=FALSE; var $TableView; var $AllowSorting; var $AllowResizing; var $AllowFiltering; var $AllowGrouping; var $AllowExporting=TRUE; var $Width; var $Visible=TRUE; var $Filter; var $FilterOptions; var $FilterActions; var $MultiFilters; var $HeaderText; var $FooterText; var $DataField; var $DataFieldPrefix; var $Sort=0; var $_iO1c=0; var $Group=FALSE; var $GroupIndex=0; var $GroupSettings; var $HeaderStyle; var $ItemStyle; var $FooterStyle; var $Wrap; var $Align; var $Valign; var $CssClass=""; var $DefaultValue=NULL; var $NullDisplayText; var $Aggregate; var $_il39; var $_il1d=FALSE; function __construct() { $this->HeaderStyle =new _iO34(); $this->FooterStyle =new _iO34(); $this->ItemStyle =new _iO34(); $this->_iO38 =array(); $this->GroupSettings =new _iO39(); } function getuniqueid() { return $this->_il2e; } function _iO2c($_il2p) { $this->_il2n =$_il2p; $this->TableView =$_il2p; $this->_iO2m =$_il2p->_iO2m; if ($this->AllowSorting === NULL) $this->AllowSorting =$this->_il2n->AllowSorting; if ($this->AllowResizing === NULL) $this->AllowResizing =$this->_il2n->AllowResizing; if ($this->AllowFiltering === NULL) $this->AllowFiltering =$this->_il2n->AllowFiltering; if ($this->AllowGrouping === NULL) $this->AllowGrouping =$this->_il2n->AllowGrouping; if ($this->Width === NULL) $this->Width =$this->_il2n->ColumnWidth; if ($this->Wrap === NULL) $this->Wrap =$this->_il2n->ColumnWrap; if ($this->Align === NULL) $this->Align =$this->_il2n->ColumnAlign; if ($this->Valign === NULL) $this->Valign =$this->_il2n->_il3a; if ($this->FilterOptions === NULL) $this->FilterOptions =$this->_il2n->FilterOptions; if ($this->FilterActions === NULL) $this->FilterActions =$this->_il2n->FilterActions; $this->HeaderStyle->_iO2c($this); $this->FooterStyle->_iO2c($this); $this->ItemStyle->_iO2c($this); if ($this->Filter === NULL) { $this->Filter =array("V\141\154ue" => "","Ex\160" => "No_F\151\154\164er"); } if ($this->MultiFilters === NULL) { $this->MultiFilters =array($this->Filter); } $this->GroupSettings->_iO3a =$this; } function addvalidator($_il3b) { array_push($this->_iO38 ,$_il3b); } function _iO29() { if ( isset ($this->_iO2m->_il26[$this->_il2e ])) { $_iO2p=$this->_iO2m->_il26[$this->_il2e ]; $this->Sort =$_iO2p["Sor\164"]; $this->_iO1c =$_iO2p["SortO\162\144\145r"]; $this->Group =$_iO2p["Gr\157\165\160"]; $this->Width =$_iO2p["\127\151dth"]; $this->Visible =$_iO2p["Visib\154\145"]; $this->_il39 =_il11($_iO2p["\101ggRes"]); $_il1k=$_iO2p["F\151\154\164er"]; $_il1k["\126\141lue"]=_il11($_il1k["V\141\154\165e"]); $this->Filter =$_il1k; $_iO3b=$_iO2p["Mult\151\106ilter\163"]; foreach ($_iO3b as $_il3c) { $_il3c["Va\154ue"]=_il11($_il3c["V\141\154ue"]); } $this->MultiFilters =$_iO3b; } } function _il2a() { $_il1k=$this->Filter; $_il1k["Val\165\145"]=_il10($_il1k["\126\141lue"]); $_iO3b=$this->MultiFilters; foreach ($_iO3b as $_il3c) { $_il3c["\126alue"]=_il10($_il3c["\126\141lue"]); } $this->_iO2m->_il26[$this->_il2e ]=array("Nam\145" => $this->DataField ,"\123\157rt" => $this->Sort ,"SortOr\144\145\162" => $this->_iO1c ,"Gr\157\165\160" => $this->Group ,"\126isibl\145" => $this->Visible ,"\106ilter" => $_il1k,"\115\165ltiFi\154\164ers" => $_iO3b,"\127\151dth" => $this->Width ,"Ag\147\122\145s" => _il10($this->_il39)); } function _il2v($_ilm) { $_iO3c=$this->_il2n; $_il2d=$_iO3c->_il2b; $_il3d=$_il2d->EventHandler; if ( isset ($_ilm->_il2i[$this->_il2e ])) { $_iO2v=$_ilm->_il2i[$this->_il2e ]; switch ($_iO2v["Co\155\155and"]) { case "Sort": if ($_il3d->onbeforecolumnsort($this,array("New\123\157rt" => $_iO2v["A\162\147s"]["So\162\164"])) == TRUE) { if ($_iO3c->SingleColumnSorting) { foreach ($_iO3c->_iO30 as $_il31) { $_il31->Sort =0; } $_iO3c->DataSource->Sorts =array(); } $this->Sort =$_iO2v["A\162\147\163"]["\123\157rt"]; $this->_iO1c =$_iO2v["Args"]["SortO\162\144\145r"]; $_iO3c->_il2f =TRUE; $_il3d->oncolumnsort($this,array()); } break; case "\106ilter": if ($_il3d->onbeforecolumnfilter($this,array("\106ilterV\141\154\165e" => $_iO2v["A\162\147s"]["\106\151\154ter"]["\126\141lue"],"Filter\105\170p" => $_iO2v["\101\162\147s"]["Filte\162"]["\105xp"])) == TRUE) { $this->Filter["Exp"]=$_iO2v["Args"]["Fi\154\164\145r"]["Ex\160"]; if ($_iO2v["\101rgs"]["Post"]) { $this->MultiFilters =$this->_iO3d(); $this->Filter["\126alue"]=$this->getfiltervalue(); } else { $this->Filter["\126\141lue"]=_il11($_iO2v["\101\162gs"]["Filter"]["V\141\154ue"]); } $_iO3c->_il2f =TRUE; $_il3d->oncolumnfilter($this,array()); } break; case "AddFil\164\145r": array_push($this->MultiFilters ,array("\126alue" => "","E\170\160" => "\116\157\137Filt\145\162")); break; case "RemoveF\151\154\164er": array_splice($this->MultiFilters ,$_iO2v["Args"]["\111\156dex"],1); $_iO3c->_il2f =TRUE; break; case "\107roup": if ($this->Group == FALSE) { $_il3e=$_iO2v["Args"]["\120osition"]; if ($_il3d->onbeforecolumngroup($this,array("\120ositio\156" => $_il3e)) == TRUE && $_il3d->onbeforeaddgroup($_iO3c,array("\120\157sition" => $_il3e)) == TRUE) { $_iO3e=$this->GroupSettings; $_iO3e->_iO2c($_iO3c); if ($_il3e === NULL || ($_il3e>=sizeof($this->TableView->_il3f))) { array_push($_iO3c->_il3f ,$_iO3e); } else { $_iO3f=array(); for ($_iO9=0; $_iO9<sizeof($_iO3c->_il3f); $_iO9 ++) { if ($_il3e == $_iO9) { array_push($_iO3f,$_iO3e); } array_push($_iO3f,$_iO3c->_il3f[$_iO9]); } $_iO3c->_il3f =$_iO3f; } for ($_iO9=0; $_iO9<sizeof($_iO3c->_il3f); $_iO9 ++) { $_iO3c->_il3f[$_iO9]->_il2e =$_iO3c->_il2e."_gm".$_iO9; } $this->Group =TRUE; $_il3d->oncolumngroup($this,array("Posit\151\157n" => $_il3e)); $_il3d->onaddgroup($_iO3c,array("\120ositi\157\156" => $_il3e)); $_iO3c->_il2f =TRUE; } } break; case "UnGrou\160": if ($_il3d->onbeforecolumnremovegroup($this,array()) == TRUE && $_il3d->onbeforeremovegroup($_iO3c,array("Group\106\151eld" => $this->DataField)) == TRUE) { $_iO3f=array(); for ($_iO9=0; $_iO9<sizeof($_iO3c->_il3f); $_iO9 ++) { if ($_iO3c->_il3f[$_iO9]->GroupField != $this->DataField) { array_push($_iO3f,$_iO3c->_il3f[$_iO9]); } } $_iO3c->_il3f =$_iO3f; for ($_iO9=0; $_iO9<sizeof($_iO3c->_il3f); $_iO9 ++) { $_iO3c->_il3f[$_iO9]->_il2e =$_iO3c->_il2e."\137gm".$_iO9; } $this->Group =FALSE; $_il3d->oncolumnremovegroup($this,array()); $_il3d->onremovegroup($_iO3c,array("\107roupFie\154\144" => $this->DataField)); $_iO3c->_il2f =TRUE; } break; } } if ($_iO3c->_il3g <$this->_iO1c) $_iO3c->_il3g =$this->_iO1c; if ($_iO3c->_iO3g >$this->_iO1c) $_iO3c->_iO3g =$this->_iO1c; if ($this->Sort != 0) { $_iO3c->DataSource->addsort(new datasourcesort($this->DataFieldPrefix.$this->DataField ,($this->Sort <0) ? "DESC": "\101SC",$this->_iO1c)); } if (count($this->MultiFilters)>0) { foreach ($this->MultiFilters as $_il1k) { $_il3h=new datasourcefilter($this->DataFieldPrefix.$this->DataField ,$_il1k["Exp"],$_il1k["\126alue"],$this->_il1d); if ($_il1k["E\170\160"] !== "\116\157_Filt\145\162") $_iO3c->DataSource->addfilter($_il3h); } } } function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new gridcolumn(); } $_iO3h->ReadOnly =$this->ReadOnly; $_iO3h->HeaderText =$this->HeaderText; $_iO3h->FooterText =$this->FooterText; $_iO3h->DataField =$this->DataField; $_iO3h->DataFieldPrefix =$this->DataFieldPrefix; $_iO3h->AllowSorting =$this->AllowSorting; $_iO3h->AllowResizing =$this->AllowResizing; $_iO3h->AllowFiltering =$this->AllowFiltering; $_iO3h->AllowGrouping =$this->AllowGrouping; $_iO3h->AllowExporting =$this->AllowExporting; $_iO3h->Width =$this->Width; $_iO3h->Visible =$this->Visible; $_iO3h->Sort =$this->Sort; $_iO3h->Filter =$this->Filter; $_iO3h->MultiFilters =$this->MultiFilters; $_iO3h->FilterOptions =$this->FilterOptions; $_iO3h->FilterActions =$this->FilterActions; $_iO3h->Wrap =$this->Wrap; $_iO3h->Align =$this->Align; $_iO3h->Valign =$this->Valign; $_iO3h->HeaderStyle =$this->HeaderStyle; $_iO3h->FooterStyle =$this->FooterStyle; $_iO3h->ItemStyle =$this->ItemStyle; $_iO3h->CssClass =$this->CssClass; $_iO3h->_iO38 =$this->_iO38; $_iO3h->Aggregate =$this->Aggregate; $_iO3h->DefaultValue =$this->DefaultValue; $_iO3h->NullDisplayText =$this->NullDisplayText; $_iO3h->_il1d =$this->_il1d; $_iO3h->Group =$this->Group; $_iO3h->GroupIndex =$this->GroupIndex; $_iO3h->GroupSettings =$this->GroupSettings->_il2t(); return $_iO3h; } function inlineeditrender($_iO1s) { return $this->render($_iO1s); } function formeditrender($_iO1s) { return $this->inlineeditrender($_iO1s); } function format($_iO1e) { return mb_check_encoding($_iO1e,'UTF-8') ? $_iO1e: utf8_encode($_iO1e); } function render($_iO1s) { return $this->format($_iO1s->DataItem[$this->DataField ]); } function renderexport($_iO1s) { return $this->render($_iO1s); } function _iO2f($_iO1s) { $_il3i="<td\040\151d='\173\151\144}' c\154\141ss='\153\147\162\103el\154 \173\163\157rted\175\040\173vi\163\151ble} \173\143sscla\163\163} \173\143\163scla\163\163es}' \173\166align\175\076<div \143\154ass='\153\147rIn' \163\164yle='\173\167rap}\173\141\154ign\175\047>\173\143\145ll}</\144\151v></t\144\076"; $_iO31=_iO0("\173id\175",$_iO1s->_il2e."\137".$this->_il2e ,$_il3i); $_iO3i=strtolower($_SERVER["\110TTP_\125\123ER_AGE\116\124"]); $_il3j=(strpos($_iO3i,"\155sie \066") !== FALSE) && (strpos($_iO3i,"\155\163ie 7") === FALSE) && (strpos($_iO3i,"\155\163ie 8") === FALSE) && (strpos($_iO3i,"\157\160era") === FALSE); $_iO3j=(strpos($_iO3i,"msie\040\067") !== FALSE) && (strpos($_iO3i,"oper\141") === FALSE); $_iO31=_iO0("\173v\151\163\151ble}",($this->Visible || $_il3j || $_iO3j) ? "": "kgr\110\151\144den",$_iO31); $_iO31=_iO0("\173\167\162ap}",$this->ItemStyle->_il35(),$_iO31); $_iO31=_iO0("\173a\154\151gn}",$this->ItemStyle->_iO35(),$_iO31); $_iO31=_iO0("\173\166alig\156\175",$this->ItemStyle->_il36(),$_iO31); $_iO31=_iO0("\173s\157\162ted\175",($this->Sort != 0) ? "kgrS\157rted": "",$_iO31); $_iO31=_iO0("\173\143ss\143\154ass}",$this->CssClass ,$_iO31); $_il3k=$this->_il2n->CssClasses; $_iO31=_iO0("\173cs\163\143la\163\163es\175",isset ($_il3k['cell']) ? $_il3k['cell']: '',$_iO31); if ($this->DataField !== NULL && $this->NullDisplayText !== NULL) { $_iO31=_iO0("\173\143el\154\175",($_iO1s->DataItem[$this->DataField ] === NULL) ? $this->NullDisplayText : $this->render($_iO1s),$_iO31); } else { $_iO31=_iO0("\173cell\175",$this->render($_iO1s),$_iO31); } return $_iO31; } function _iO3k($_iO1s) { $_il3i="<\164\144 id='\173\151\144}' cl\141\163s='kg\162\103ell \173\166isi\142\154e} \173\143\163scl\141\163ses}'\040\173valig\156\175><di\166\040clas\163\075'kgrI\156\047 styl\145\075'\173w\162\141\160}\173\141\154ign}\047\040>\173c\145\154l}</d\151\166></td\076"; $_iO31=_iO0("\173\151\144\175",$_iO1s->_il2e."\137".$this->_il2e ,$_il3i); $_iO31=_iO0("\173cel\154\175",$this->inlineeditrender($_iO1s),$_iO31); $_iO3i=strtolower($_SERVER["\110TTP_\125\123ER_A\107\105NT"]); $_il3j=(strpos($_iO3i,"\155sie 6") !== FALSE) && (strpos($_iO3i,"\155\163ie 7") === FALSE) && (strpos($_iO3i,"msie 8") === FALSE) && (strpos($_iO3i,"op\145\162\141") === FALSE); $_iO3j=(strpos($_iO3i,"m\163\151\145 7") !== FALSE) && (strpos($_iO3i,"\157\160era") === FALSE); $_iO31=_iO0("\173visibl\145\175",($this->Visible || $_il3j || $_iO3j) ? "": "\153grHidde\156",$_iO31); $_iO31=_iO0("\173\167\162ap}",$this->ItemStyle->_il35(),$_iO31); $_iO31=_iO0("\173\141\154ign}",$this->ItemStyle->_iO35(),$_iO31); $_iO31=_iO0("\173v\141\154\151gn}",$this->ItemStyle->_il36(),$_iO31); $_il3k=$this->_il2n->CssClasses; $_iO31=_iO0("\173\143ssclass\145\163}",isset ($_il3k['cell']) ? $_il3k['cell']: '',$_iO31); return $_iO31; } function _il3l($_iO1s) { $_il2y="<tr\040style\075'whi\164e-sp\141ce:\156\157w\162\141p\047><t\144 v\141lig\156='\164\157p\047\040s\164\171l\145\075'\167\151dt\150:2p\170;'>\074lab\145\154 c\154ass=\047kgr\103\141p\164\151o\156\047 \146\157r\075'\173\151\144}\047\076\173\164ex\164\175:\074/la\142el>\074/td\076<td\040val\151gn=\047top\047\076<\144iv \143las\163\075'\153grI\156\160u\164'>\173\151np\165\164}\074/di\166\076<\057td>\074/tr\076"; $_iO2z=_iO0("\173\164e\170\164}",$this->HeaderText ,$_il2y); $_iO2z=_iO0("\173\151\144}",$_iO1s->_il2e."_".$this->_il2e."\137inp\165\164",$_iO2z); $_iO2z=_iO0("\173input\175",$this->formeditrender($_iO1s),$_iO2z); return $_iO2z; } function geteditvalue($_iO1s) { $_iO1e=$_POST[$_iO1s->_il2e."_".$this->_il2e."\137\151nput"]; if ($this->_il2n->_il2b->AjaxEnabled === TRUE) { $_iO1e=iconv("UTF-8",$this->_il2n->_il2b->CharSet ,$_iO1e); } return $_iO1e; } function _iO3l() { $_il3m="\074col i\144\075'\173i\144\175' nam\145\075'\173i\144\175' st\171\154e='\173\167idth}\047\040clas\163\075'\173r\145\163izabl\145\175 \173v\151\163ible}\040\173grou\160\141ble}'\057\076"; $_il31=_iO0("\173i\144\175",$this->_il2e ,$_il3m); $_il31=_iO0("\173\162\145siza\142\154e}",($this->AllowResizing) ? "k\147\162\122esiz\141\142le": "",$_il31); $_il31=_iO0("\173grou\160\141\142le}",($this->AllowGrouping) ? "kg\162\107\162oupa\142\154e": "",$_il31); $_il31=_iO0("\173\167idth}",($this->Width != NULL) ? "\167idth:".$this->Width."\073": "",$_il31); $_il31=_iO0("\173visible\175",($this->Visible) ? "": "\153grHidde\156",$_il31); return $_il31; } function renderheader() { $_iO3c=$this->_il2n; $_iO3m=$_iO3c->_il2b->Localization->_iO2i; $_il3n="\074\164h id='\173\151d}' cl\141\163s='k\147\162Heade\162\040\173v\151\163ibl\145\175 \173so\162\164ed} \173\143\163scl\141\163ses}\047\040\173va\154\151gn}><\144\151v cla\163\163='kg\162\111\156' s\164\171le='\173\167\162ap}\173\141lign}\047\076\173t\145\170t}&#\061\0660;\173\163\151gn}<\057\144iv><\057\164h>"; $_iO3n="<a href\075\047javas\143\162ipt:v\157\151d 0' \143\154ass='\153\147rSo\162\164Head\145\162Text'\040\157nclic\153\075'grid\137\163ort(\042\173\151d}\042\054\173sor\164\175, \173s\157\162tOrde\162\175)' ti\164\154e='\173\164\151tle}\047\076\173te\170\164}</a\076"; $_il3o="\074input\040\164ype='\142\165tton'\040\143lass=\047\156odec\157\162 kgr\123\157rt\173\144\151r}' o\156\143lick=\047\147rid_s\157\162t(\042\173\151d}\042\054\173sort}\054\040\173so\162\164Order\175\051' ti\164\154\145='\173\164\151tle}\047\040/>"; $_iO3o=_iO0("\173id}",$this->_il2e."\137hd",$_il3n); if ($this->AllowSorting) { $_iO1j=0; $_il1g=$_iO3c->_il3g +1; $_il3p="\116one"; switch ($this->Sort) { case 0: $_iO1j=1; $_il3p="None"; break; case 1: $_iO1j=-1; $_il3p="\101sc"; break; case -1: $_iO1j=0; $_il3p="De\163\143"; break; } $_iO3p=_iO0("\173id}",$this->_il2e ,$_iO3n); $_iO3p=_iO0("\173sor\164\175",$_iO1j,$_iO3p); $_iO3p=_iO0("\173\163\157\162tOrd\145\162}",$_il1g,$_iO3p); $_iO3p=_iO0("\173\164\145xt}",$this->HeaderText ,$_iO3p); $_iO3p=_iO0("\173t\151\164\154e}",$_iO3m["\123\157rtHeade\162\124oolTip"],$_iO3p); $_il3q=_iO0("\173\151d}",$this->_il2e ,$_il3o); $_il3q=_iO0("\173s\157\162\164}",$_iO1j,$_il3q); $_il3q=_iO0("\173\163ortOrd\145\162}",$_il1g,$_il3q); $_il3q=_iO0("\173\144ir}",$_il3p,$_il3q); $_il3q=_iO0("\173t\151\164le}",$_iO3m["\123\157rt".$_il3p."ToolTip"].($this->Sort !== 0 ? ' '.$_iO3m["Order"].' '.$this->_iO1c : ''),$_il3q); $_iO3o=_iO0("\173text}",$_iO3p,$_iO3o); $_iO3o=_iO0("\173sign}",$_il3q,$_iO3o); } else { $_iO3o=_iO0("\173text\175",$this->HeaderText ,$_iO3o); $_iO3o=_iO0("\173sign}","",$_iO3o); } $_iO3i=strtolower($_SERVER["\110\124TP_USE\122\137AGENT"]); $_il3j=(strpos($_iO3i,"m\163\151e 6") !== FALSE) && (strpos($_iO3i,"m\163\151e 7") === FALSE) && (strpos($_iO3i,"\155sie\040\070") === FALSE) && (strpos($_iO3i,"\157pera") === FALSE); $_iO3j=(strpos($_iO3i,"m\163\151e 7") !== FALSE) && (strpos($_iO3i,"\157pera") === FALSE); $_iO3o=_iO0("\173vis\151\142\154e}",($this->Visible || $_il3j || $_iO3j) ? "": "\153grHidde\156",$_iO3o); $_iO3o=_iO0("\173\163\157rted}",($this->Sort != 0) ? "kg\162\123orted": "",$_iO3o); $_iO3o=_iO0("\173\167\162ap}",$this->HeaderStyle->_il35(),$_iO3o); $_iO3o=_iO0("\173\141\154\151gn}",$this->HeaderStyle->_iO35(),$_iO3o); $_iO3o=_iO0("\173valign}",$this->HeaderStyle->_il36(),$_iO3o); $_il3k=$this->_il2n->CssClasses; $_iO3o=_iO0("\173csscl\141\163\163es}",isset ($_il3k['header']) ? $_il3k['header']: '',$_iO3o); return $_iO3o; } function renderfooter() { $_iO3q="\074td id=\047\173id}' c\154\141ss='\153\147\162Foo\164\145r \173\166\151sib\154\145}' \173\166\141lign\175\076<div \143\154ass=\047\153grIn\047\040styl\145\075'\173w\162\141p}\173a\154\151gn}'>\074\163pan \143\154\141ss=\047\153grFo\157\164erTex\164\047>\173\164\145xt}&\043\06160;<\057\163pan>\074\057div>\074\057td>"; $_il3r=_iO0("\173id}",$this->_il2e."_ft",$_iO3q); $_il3=$this->FooterText; if ($this->Aggregate !== NULL) { $_iO3r=new gridrow(); $_iO3r->DataItem[$this->DataField ]=$this->_il39; $_il3.=$this->render($_iO3r); } $_il3r=_iO0("\173\164\145xt}",$_il3,$_il3r); $_iO3i=strtolower($_SERVER["H\124\124\120_USE\122\137\101GEN\124"]); $_il3j=(strpos($_iO3i,"ms\151\145\0406") !== FALSE) && (strpos($_iO3i,"msi\145\0407") === FALSE) && (strpos($_iO3i,"m\163\151\145 8") === FALSE) && (strpos($_iO3i,"\157\160era") === FALSE); $_iO3j=(strpos($_iO3i,"msi\145\0407") !== FALSE) && (strpos($_iO3i,"opera") === FALSE); $_il3r=_iO0("\173\166isible\175",($this->Visible || $_il3j || $_iO3j) ? "": "kgrH\151\144den",$_il3r); $_il3r=_iO0("\173\167\162ap}",$this->FooterStyle->_il35(),$_il3r); $_il3r=_iO0("\173\141lign}",$this->FooterStyle->_iO35(),$_il3r); $_il3r=_iO0("\173\166align}",$this->FooterStyle->_il36(),$_il3r); return $_il3r; } function renderfilter($_il1k=NULL) { if (!$_il1k) $_il1k=$this->Filter; $_il3s="<di\166\040class='\153\147\162Edi\164\111\156'><i\156\160ut cl\141\163s='k\147\162FiEnTr\047\040type=\047\164\145xt' \151\144\075'\173\151\144}' na\155\145\075'\173\151\144\175[]' \166\141lue='\173\164\145xt}' \157\156blur='\147\162\151d_fi\154\164er_tri\147\147er(\042\173\143olid}\042\054this)\047\040style\075\047width\072\06100%;'\040\057></di\166\076"; $_iO3s=_iO0("\173id}",$this->_il2e."\137\146il\164\145r_inp\165\164",$_il3s); $_iO3s=_iO0("\173\143olid}",$this->_il2e ,$_iO3s); $_iO3s=_iO0("\173text}",_iO12($_il1k["\126alue"]),$_iO3s); return $_iO3s; } function _iO3d() { $_il3t=$this->_il2e."\137\146ilter_in\160\165t"; $_iO3t=$this->_il2e."_f\151\154\164er_se\154\145\143t"; $_il3u=$_POST[$_il3t]; $_iO3u=$_POST[$_iO3t]; $_iO1o=array(); foreach ($_il3u as $_iO2q => $_il3v) { $_il3v=$this->getfiltervalue($_il3v); array_push($_iO1o,array("\126alue" => $_il3v,"Ex\160" => $_iO3u[$_iO2q])); } return $_iO1o; } function getfiltervalue($_iO1e=NULL) { if ($_iO1e === NULL) { $_iO1e=$_POST[$this->_il2e."_filter\137\151\156put"][0]; } if ($this->_il2n->_il2b->AjaxEnabled === TRUE) { $_iO1e=iconv("\125\124F-8",$this->_il2n->_il2b->CharSet ,$_iO1e); } return $_iO1e; } function _iO3v() { $_il3w="<td id\075\047\173id}\047\040clas\163\075'kgrFi\154\164erCel\154\040\173v\151\163ible} \173\143ssclas\163\145\163}'>\173\143\157nte\156\164\175</td\076"; $_iO3w="\046#160;"; $_iO3i=strtolower($_SERVER["HTT\120\137\125SER_A\107\105NT"]); $_il3j=(strpos($_iO3i,"\155\163ie 6") !== FALSE) && (strpos($_iO3i,"msie 7") === FALSE) && (strpos($_iO3i,"\155sie\040\070") === FALSE) && (strpos($_iO3i,"\157\160era") === FALSE); $_iO3j=(strpos($_iO3i,"\155sie 7") !== FALSE) && (strpos($_iO3i,"\157\160era") === FALSE); $_il3x=_iO0("\173\151\144}",$this->_il2e."_\146\154\164",$_il3w); $_il3x=_iO0("\173visib\154\145\175",($this->Visible || $_il3j || $_iO3j) ? "": "kgrHid\144\145n",$_il3x); if ($this->AllowFiltering) { $_iO3x="<div\040\143\154ass=\047\153\147rIn\047\076<div>\173\151\156put}\074\057div\076\074div>\173\163\145lect\175\074\057div>\074\057div>"; $_il3y="\074select i\144\075\047\173i\144\175' name\075\047\173id}\133\135' on\143\150ange=\047\147rid_fi\154\164\145r_tr\151\147\147er(\042\173\143olid\175\042,this\051\047 style\075\047width\072\06100%'><\157\160tgrou\160\040\154abel\075\047".$this->_il2n->_il2b->Localization->_il2i['Filter']."'>\173\157\160\164ions\175\074/optgr\157\165p>\173F\151\154\164erA\143\164ions}\074\057selec\164\076"; $_iO3y="<optgr\157\165\160 lab\145\154\075'".$this->_il2n->_il2b->Localization->_il2i['Action']."'>\173\157\160\164ions\175\074\057optg\162\157\165p>"; $_il3z="\074optio\156\040\166alue\075\047\173valu\145\175' \173s\145\154ecte\144\175\040>\173\164\145xt}</o\160\164\151on>"; $_iO3z=$this->FilterOptions; $_il40=$this->FilterActions; $_iO1o=$this->MultiFilters; foreach ($_iO1o as $_il1k) { $_iO40=""; for ($_iO9=0; $_iO9<sizeof($_iO3z); $_iO9 ++) { $_il41=_iO0("\173v\141\154\165e}",$_iO3z[$_iO9],$_il3z); $_il41=_iO0("\173text\175",$this->_il2n->_il2b->Localization->_il2i[$_iO3z[$_iO9]],$_il41); $_il41=_iO0("\173select\145\144}",($_il1k["Ex\160"] == $_iO3z[$_iO9]) ? "se\154\145cte\144": "",$_il41); $_iO40.=$_il41; } $_iO41=_iO0("\173\151d}",$this->_il2e."_\146\151lter\137\163el\145\143t",$_il3y); $_iO41=_iO0("\173\143\157lid}",$this->_il2e ,$_iO41); $_iO41=_iO0("\173\157\160tions\175",$_iO40,$_iO41); $_il42=""; if (count($_il40)>0) { $_il42=$_iO3y; $_iO40=""; for ($_iO9=0; $_iO9<sizeof($_il40); $_iO9 ++) { $_il41=_iO0("\173va\154\165e}",$_il40[$_iO9],$_il3z); $_il41=_iO0("\173t\145\170\164}",$this->_il2n->_il2b->Localization->_il2i[$_il40[$_iO9]],$_il41); $_iO40.=$_il41; } $_il42=_iO0("\173option\163\175",$_iO40,$_il42); } $_iO41=_iO0("\173Filter\101\143\164ion\163\175",$_il42,$_iO41); $_iO3w=_iO0("\173\163elect}",$_iO41,$_iO3x); $_iO3w=_iO0("\173input}",$this->renderfilter($_il1k),$_iO3w); $_il3x=_iO0("\173content\175",$_iO3w."\173conte\156\164\175",$_il3x); } } $_il3x=_iO0("\173co\156\164\145nt}","",$_il3x); $_il3k=$this->_il2n->CssClasses; $_il3x=_iO0("\173\143\163sclas\163\145s}",isset ($_il3k['filter cell']) ? $_il3k['filter cell']: '',$_il3x); return $_il3x; } } class _iO42 extends gridcolumn { var $AllowHtmlRender=FALSE; function render($_iO1s) { $_il43=$this->format($_iO1s->DataItem[$this->DataField ]); if (!$this->AllowHtmlRender) { $_il43=_iO0("\074","&#60;",$_il43); $_il43=_iO0("\076","\046\04362;",$_il43); } return $_il43; } function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new _iO42(); } parent::createinstance($_iO3h); $_iO3h->AllowHtmlRender =$this->AllowHtmlRender; return $_iO3h; } } class gridboundcolumn extends _iO42 { var $MaxLength=-1; var $_iO43=''; var $_il44=NULL; function _iO2c($_il2p) { parent::_iO2c($_il2p); if ($this->MaxLength >-1) { $_iO44=new regularexpressionvalidator(); $_iO44->ValidationExpression = "/^.\173\060\054$this->MaxLength\175\044/"; if (!empty($this->_iO43)) $_iO44->ErrorMessage =$this->_iO43; else $_iO44->ErrorMessage = "\120lease e\156\164er les\163\040tha\156\040or eq\165\141l to\040$this->MaxLength ch\141\162\141cter\163\056"; $this->addvalidator($_iO44); $this->_il44 =$_iO44; } } function setlengtherrormessage($_il45) { $this->_iO43 =$_il45; if ( isset ($this->_il44)) $this->_il44->ErrorMessage =$_il45; } function inlineeditrender($_iO1s) { if (!$this->ReadOnly) { $_iO45="\074div\040\143lass='\153\147rEdi\164\111\156 kg\162\105Cap'\076\074inp\165\164 id=\047\173id}'\040\143lass=\047\153grEnN\157\120o' \156\141me='\173\151\144}' t\171\160e='te\170\164' val\165\145='\173v\141\154ue}'\040\173maxle\156\147th}  \163\164yle=\047\167idth\072\06100%\047\040/></\144\151v>"; $_il46=_iO0("\173id}",$_iO1s->_il2e."\137".$this->_il2e."\137\151nput",$_iO45); $_il46=_iO0("\173m\141\170\154eng\164\150}",$this->MaxLength >-1 ? "\155\141xlength\075$this->MaxLength" : "",$_il46); $_il46=_iO0("\173value}",_iO12($this->format($_iO1s->DataItem[$this->DataField ])),$_il46); return $_il46; } else { return $this->render($_iO1s); } } function formeditrender($_iO1s) { $_iO45="<i\156\160\165t id\075\047\173id\175\047 cla\163\163='kgr\105\156NoP\157\047 nam\145\075'\173i\144\175' typ\145\075'text\047\040valu\145\075'\173v\141\154ue}' \173\155axlen\147\164h} st\171\154e='wi\144\164h:90%\047\040/>"; $_il46=_iO0("\173\151\144}",$_iO1s->_il2e."\137".$this->_il2e."_in\160\165\164",$_iO45); $_il46=_iO0("\173ma\170\154en\147\164h}",$this->MaxLength >-1 ? "ma\170\154eng\164\150=$this->MaxLength" : "",$_il46); $_il46=_iO0("\173val\165\145}",_iO12($this->format($_iO1s->DataItem[$this->DataField ])),$_il46); return $_il46; } function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new gridboundcolumn(); } parent::createinstance($_iO3h); $_iO3h->MaxLength =$this->MaxLength; $_iO3h->_iO43 =$this->_iO43; return $_iO3h; } } class gridcalculatedcolumn extends gridboundcolumn { var $Expression; function _iO2c($_il2p) { parent::_iO2c($_il2p); $this->ReadOnly =TRUE; $this->Aggregate =NULL; } function render($_iO1s) { $_il1e=$this->Expression; foreach ($_iO1s->DataItem as $_iO27 => $_il28) { $_il1e=_iO0("\173".$_iO27."}",$_il28,$_il1e); } return eval ("re\164\165rn ".$_il1e."\073"); } function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new gridcalculatedcolumn(); } parent::createinstance($_iO3h); $_iO3h->Expression =$this->Expression; return $_iO3h; } } class gridcalculatedcustomcolumn extends gridcalculatedcolumn { var $InlineEditExpression; function inlineeditrender($_iO1s) { $_il1e=$this->InlineEditExpression; foreach ($_iO1s->DataItem as $_iO27 => $_il28) { $_il1e=_iO0("\173".$_iO27."}",$_il28,$_il1e); } return eval ("\162\145tur\156\040".$_il1e.";"); } function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new gridcalculatedcustomcolumn(); } parent::createinstance($_iO3h); $_iO3h->InlineEditExpression =$this->InlineEditExpression; return $_iO3h; } } class gridnumbercolumn extends gridboundcolumn { var $DecimalNumber=0; var $DecimalPoint="."; var $ThousandSeperate=","; var $FormatString="\173\156}"; function format($_iO1e) { $_iO46= (double) $_iO1e; return _iO0("\173\156\175",number_format($_iO46,$this->DecimalNumber ,$this->DecimalPoint ,$this->ThousandSeperate),$this->FormatString); } function render($_iO1s) { $_il43=$this->format($_iO1s->DataItem[$this->DataField ]); if (!$this->AllowHtmlRender) { $_il43=_iO0("<","&#6\060\073",$_il43); $_il43=_iO0(">","\046\04362;",$_il43); } return $_il43; } function inlineeditrender($_iO1s) { if (!$this->ReadOnly) { $_iO45="<div c\154\141ss='k\147\162EditI\156\040kgrE\103\141p'><\151\156put\040\151d='\173\151\144}' \143\154ass='k\147\162EnNoP\157\047 na\155\145='\173i\144\175' typ\145\075'text\047\040valu\145\075'\173v\141\154ue}'\040\163tyle=\047\167idth\072\06100%'\040\057></\144\151v>"; $_il46=_iO0("\173\151d}",$_iO1s->_il2e."_".$this->_il2e."_in\160ut",$_iO45); $_il43=$this->format($_iO1s->DataItem[$this->DataField ]); $_il46=_iO0("\173v\141\154ue}",$_il43,$_il46); return $_il46; } else { return $this->render($_iO1s); } } function formeditrender($_iO1s) { $_iO45="\074i\156\160\165t i\144\075'\173\151\144}' cl\141\163s='kg\162\105nNo\120\157' na\155\145='\173\151\144\175' t\171\160\145='t\145\170t' va\154\165e='\173\166\141lue}\047\040styl\145\075'widt\150\07290%' \057\076"; $_il46=_iO0("\173\151d}",$_iO1s->_il2e."_".$this->_il2e."_inp\165\164",$_iO45); $_il43=$this->format($_iO1s->DataItem[$this->DataField ]); $_il46=_iO0("\173\166alue}",$_il43,$_il46); return $_il46; } function geteditvalue($_iO1s) { $_iO1e=$_POST[$_iO1s->_il2e."\137".$this->_il2e."_inpu\164"]; $_iO1e=floatval(str_replace($this->DecimalPoint ,'.',preg_replace('/[^\\d'.preg_quote($this->DecimalPoint).']/','',$_iO1e))); return $_iO1e; } function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new gridnumbercolumn(); } parent::createinstance($_iO3h); $_iO3h->DecimalNumber =$this->DecimalNumber; $_iO3h->DecimalPoint =$this->DecimalPoint; $_iO3h->ThousandSeperate =$this->ThousandSeperate; $_iO3h->FormatString =$this->FormatString; return $_iO3h; } } class gridcurrencycolumn extends gridboundcolumn { var $Locale="en\137US"; var $FormatString="%i"; function format($_iO1e) { setlocale(LC_MONETARY,$this->Locale); return money_format($this->FormatString ,$_iO1e); } function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new gridcurrencycolumn(); } parent::createinstance($_iO3h); $_iO3h->Locale =$this->Locale; $_iO3h->FormatString =$this->FormatString; return $_iO3h; } } class gridtextareacolumn extends _iO42 { var $BoxHeight; function inlineeditrender($_iO1s) { if (!$this->ReadOnly) { $_iO45="<\144iv c\154ass=\047kgr\105dit\111n k\147rEC\141p'>\074te\170\164\141re\141\040\151\144=\047\173i\144}' \143\154a\163\163=\047kg\162EnN\157Po'\040nam\145\075'\173id}\047 st\171le=\047wid\164h:1\0600%;\173hei\147\150t\175'>\173\166al\165\145}\074/te\170tar\145a>\074/di\166>"; $_il46=_iO0("\173\151d}",$_iO1s->_il2e."_".$this->_il2e."\137inpu\164",$_iO45); $_il46=_iO0("\173v\141\154ue\175",_iO12($this->format($_iO1s->DataItem[$this->DataField ])),$_il46); $_il46=_iO0("\173\150eight\175",($this->BoxHeight) ? "he\151\147ht\072".$this->BoxHeight."\073": "",$_il46); return $_il46; } else { return $this->render($_iO1s); } } function formeditrender($_iO1s) { $_iO45="\074\164\145xt\141\162ea\040id=\047\173i\144}' \143las\163\075'\153gr\105nN\157Po'\040nam\145='\173\151d}'\040sty\154\145='\167idt\150:90\045\073\173\150ei\147ht}\047>\173\166al\165\145}<\057tex\164\141r\145\141>"; $_il46=_iO0("\173id}",$_iO1s->_il2e."_".$this->_il2e."_in\160\165t",$_iO45); $_il46=_iO0("\173v\141\154ue\175",_iO12($this->format($_iO1s->DataItem[$this->DataField ])),$_il46); $_il46=_iO0("\173he\151\147ht\175",($this->BoxHeight) ? "\150e\151\147ht:".$this->BoxHeight."\073": "",$_il46); return $_il46; } function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new gridtextareacolumn(); } parent::createinstance($_iO3h); $_iO3h->BoxHeight =$this->BoxHeight; return $_iO3h; } } class griddropdowncolumn extends gridcolumn { var $_il47=array(); function render($_iO1s) { $_iO1e=$_iO1s->DataItem[$this->DataField ]; $_il3=$_iO1s->DataItem[$this->DataField ]; for ($_iO9=0; $_iO9<sizeof($this->_il47); $_iO9 ++) { if ($_iO1e == $this->_il47[$_iO9][1]) { $_il3=$this->_il47[$_iO9][0]; break; } } return $_il3; } function additem($_il3,$_iO1e=NULL) { if ($_iO1e === NULL) $_iO1e=$_il3; array_push($this->_il47 ,array($_il3,$_iO1e)); } function clear() { $this->_il47 =array(); } function _iO47($_iO1s,$_il3y) { $_il3z="<\157\160tion v\141\154ue='\173\166alue\175\047 \173\163\145lect\145\144}>\173\164\145xt}\074\057optio\156\076"; $_iO40=""; foreach ($this->_il47 as $_il16) { $_il41=_iO0("\173\164ext}",$_il16[0],$_il3z); $_il41=_iO0("\173valu\145\175",_iO12($_il16[1]),$_il41); $_il41=_iO0("\173selec\164\145d}",($_il16[1] == $_iO1s->DataItem[$this->DataField ]) ? "\163\145lected": "",$_il41); $_iO40.=$_il41; } $_iO41=_iO0("\173id}",$_iO1s->_il2e."_".$this->_il2e."_input",$_il3y); $_iO41=_iO0("\173\157\160tions}",$_iO40,$_iO41); return $_iO41; } function inlineeditrender($_iO1s) { if (!$this->ReadOnly) { $_il3y="<span \143\154\141ss=\047\153grE\103\141p'><s\145\154ect \151\144='\173\151\144}' \156\141me='\173\151\144}' s\164\171le='wi\144\164h:1\060\060%'>\173\157\160tion\163\175</sel\145\143t></s\160\141n>"; return $this->_iO47($_iO1s,$_il3y); } else { return $this->render($_iO1s); } } function formeditrender($_iO1s) { $_il3y="\074sel\145\143\164 id\075\047\173id\175\047 name\075\047\173i\144\175' s\164\171le='w\151\144\164h:9\060\045'>\173\157\160tions\175\074/sel\145\143t>"; return $this->_iO47($_iO1s,$_il3y); } function renderfilter($_il1k=NULL) { if (!$_il1k) $_il1k=$this->Filter; $_il3y="<span\040\143lass='\153\147rECap\047\076<sel\145\143t id=\047\173id}\047\040nam\145\075'\173i\144\175[]' s\164\171le='w\151\144th:10\060\045' on\143\150ange=\047\147rid_\146\151lter_\164\162\151gge\162\050\042\173\143\157lid}\042\054this)\047\076\173o\160\164ion\163\175</sel\145\143t></\163\160an>"; $_il3z="<option\040\166alue=\047\173value\175\047 \173s\145\154ecte\144\175>\173\164\145xt}</\157\160tion>"; $_iO40=""; foreach ($this->_il47 as $_il16) { $_il41=_iO0("\173\164\145\170t}",$_il16[0],$_il3z); $_il41=_iO0("\173\166alue}",$_il16[1],$_il41); $_il41=_iO0("\173sele\143\164ed}",($_il16[1] == $_il1k["Val\165\145"]) ? "\163elect\145\144": "",$_il41); $_iO40.=$_il41; } $_iO41=_iO0("\173i\144\175",$this->_il2e."_filte\162\137\151nput",$_il3y); $_iO41=_iO0("\173c\157\154\151d}",$this->_il2e ,$_iO41); $_iO41=_iO0("\173optio\156\163}",$_iO40,$_iO41); return $_iO41; } function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new griddropdowncolumn(); } parent::createinstance($_iO3h); $_iO3h->_il47 =$this->_il47; return $_iO3h; } } class gridrowselectcolumn extends gridcolumn { var $Align="\143\145nter"; function _iO2c($_il2p) { parent::_iO2c($_il2p); $this->AllowSorting =FALSE; $this->AllowResizing =FALSE; $this->AllowFiltering =FALSE; $this->AllowGrouping =FALSE; $this->AllowExporting =FALSE; $this->ReadOnly =TRUE; $this->Aggregate =NULL; } function render($_iO1s) { $_il48="\074span cl\141\163s='kgr\105\103ap'>\074\151nput\040\164ype='\143\150ec\153\142ox' c\154\141ss='k\147\162Selec\164\123ingle\122\157w' \173\143\150eck\145\144} onc\154\151ck='g\162\151d_tog\147\154e_sel\145\143t(thi\163\051' />\074\057span\076"; $_iO48=_iO0("\173ch\145\143\153ed}",$_iO1s->Selected ? "\143hecked": "",$_il48); return $_iO48; } function _iO3l() { $_il3m="<co\154\040id='\173\151\144}' na\155\145='\173\151\144}' s\164\171le=\047\173widt\150\175' cla\163\163='kgr\103\157lumnS\145\154ect \173\162esiza\142\154e} \173\166\151sible\175\047/>"; $_il31=_iO0("\173id\175",$this->_il2e ,$_il3m); $_il31=_iO0("\173\162esizabl\145\175",($this->AllowResizing) ? "kgrRe\163\151zab\154\145": "",$_il31); $_il31=_iO0("\173\167idth\175",($this->Width != NULL) ? "width\072".$this->Width."\073": "",$_il31); $_il31=_iO0("\173visi\142\154e}",($this->Visible) ? "": "\153\147rH\151\144den",$_il31); return $_il31; } function renderheader() { $_il48="\074span \143\154ass='k\147\162ECap'\076\074inpu\164\040type=\047\143hec\153\142ox' \143\154ass='\153\147\162Sel\145\143tAllRo\167\163' \173\143\150ecke\144\175\040onc\154\151ck='g\162\151d_tog\147\154e_sel\145\143t(thi\163\051' /><\057\163pan>"; $_il1s=$this->_il2n->_il49; $_iO49=TRUE; for ($_iO9=0; $_iO9<sizeof($_il1s); $_iO9 ++) { if (!$_il1s[$_iO9]->Selected) { $_iO49=FALSE; break; } } $this->HeaderText =_iO0("\173c\150\145\143ked\175",$_iO49 ? "checke\144": "",$_il48); return parent::renderheader(); } function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new gridrowselectcolumn(); } parent::createinstance($_iO3h); return $_iO3h; } } class gridbooleancolumn extends gridcolumn { var $TrueText="\124rue"; var $FalseText="Fa\154\163\145"; var $UseCheckBox=FALSE; var $FilterActions=array(); function render($_iO1s) { $_il46=""; if ($this->UseCheckBox) { $_iO45="<\151\156put ty\160\145='chec\153\142ox' \173\143hecke\144\175 di\163\141bled\040\057>"; $_il46=_iO0("\173c\150\145\143ked}",($_iO1s->DataItem[$this->DataField ]) ? "ch\145\143ked": "",$_iO45); } else { $_il46=($_iO1s->DataItem[$this->DataField ]) ? $this->TrueText : $this->FalseText; } return $_il46; } function inlineeditrender($_iO1s,$_il4a=FALSE) { if (!$this->ReadOnly) { $_il46=""; if ($this->UseCheckBox) { $_iO45="\074span \143\154ass='k\147\162ECap'\076\074inpu\164\040 id=\047\173id}\047\040name\075'\173\151d}'\040\164yp\145\075'c\150\145ck\142ox' \173\143he\143\153ed} /\076\074/span\076"; $_il46=_iO0("\173id}",$_iO1s->_il2e."\137".$this->_il2e."\137\151nput",$_iO45); $_il46=_iO0("\173\143hecke\144\175",($_iO1s->DataItem[$this->DataField ]) ? "\143hecked": "",$_il46); } else { $_il3y="<sp\141\156 class=\047\153grECa\160\047><se\154\145ct i\144\075'\173\151\144}' n\141\155e='\173\151\144}' s\164\171\154e='\167\151dth:\173\167idth}\047\076\173op\164\151ons}<\057\163elec\164\076</spa\156\076"; $_il3z="<opt\151\157\156 val\165\145='\173v\141\154ue}' \173\163elec\164\145d}>\173\164ext}<\057\157ption\076"; $_iO4a=_iO0("\173\166\141lue}","1",$_il3z); $_iO4a=_iO0("\173\163\145lected\175",($_iO1s->DataItem[$this->DataField ]) ? "s\145\154\145cted": "",$_iO4a); $_iO4a=_iO0("\173t\145\170t}",$this->TrueText ,$_iO4a); $_il4b=_iO0("\173v\141\154ue}","0",$_il3z); $_il4b=_iO0("\173se\154\145cted}",(!$_iO1s->DataItem[$this->DataField ]) ? "\163\145lecte\144": "",$_il4b); $_il4b=_iO0("\173text}",$this->FalseText ,$_il4b); $_il46=_iO0("\173id}",$_iO1s->_il2e."_".$this->_il2e."_inpu\164",$_il3y); $_il46=_iO0("\173\157ptions\175",$_iO4a.$_il4b,$_il46); $_il46=_iO0("\173wid\164\150\175",($_il4a) ? "\071\060%": "100%",$_il46); } return $_il46; } else { return $this->render($_iO1s); } } function formeditrender($_iO1s) { return $this->inlineeditrender($_iO1s,TRUE); } function geteditvalue($_iO1s) { if ($this->UseCheckBox) { return isset ($_POST[$_iO1s->_il2e."_".$this->_il2e."\137inpu\164"]) ? 1: 0; } else { return parent::geteditvalue($_iO1s); } } function renderfilter($_il1k=NULL) { if (!$_il1k) $_il1k=$this->Filter; $_il46=""; if ($this->UseCheckBox) { $_iO45="<i\156\160ut \040id=\047\173id\175' n\141\155e\075\047\173\151d}\047 t\171\160e\075'che\143kbox\047 \173\143\150ec\153\145d}\040onch\141\156ge\075'gri\144\137fi\154\164er\137\164ri\147\147er\050\042\173\143ol\151\144}\042\054t\150\151s)\047 />\074/spa\156>"; $_il46=_iO0("\173\151\144}",$this->_il2e."_filt\145\162_in\160ut",$_iO45); $_il46=_iO0("\173\143\157\154id}",$this->_il2e ,$_il46); $_il46=_iO0("\173che\143\153\145d}",($_il1k["\126\141\154ue"]) ? "\143\150\145cked": "",$_il46); } else { $_il3y="<sp\141\156\040cla\163\163\075'k\147\162ECap'\076\074sele\143\164 id\075\047\173i\144\175' nam\145\075'\173i\144\175' sty\154\145='wid\164\150:100%\047\040onch\141\156ge='g\162\151d_fil\164\145\162_tr\151\147ger(\042\173\143oli\144\175\042,t\150\151s)'>\173\157ption\163\175</se\154\145ct></\163\160an>"; $_il3z="<option\040\166alue=\047\173value\175\047 \173s\145\154ecte\144\175>\173\164\145xt}<\057\157ption\076"; $_iO4a=_iO0("\173value}","\061",$_il3z); $_iO4a=_iO0("\173\163elected\175",($_il1k["Va\154\165e"]) ? "sel\145\143\164ed": "",$_iO4a); $_iO4a=_iO0("\173t\145\170t}",$this->TrueText ,$_iO4a); $_il4b=_iO0("\173\166alue\175","\060",$_il3z); $_il4b=_iO0("\173sele\143\164ed}",(!$_il1k["\126\141lue"]) ? "se\154\145\143ted": "",$_il4b); $_il4b=_iO0("\173\164ext}",$this->FalseText ,$_il4b); $_il46=_iO0("\173\151\144}",$this->_il2e."_f\151\154\164er_i\156\160\165t",$_il3y); $_il46=_iO0("\173colid\175",$this->_il2e ,$_il46); $_il46=_iO0("\173op\164\151on\163\175",$_iO4a.$_il4b,$_il46); } return $_il46; } function _iO3d() { $_il3t=$this->_il2e."_\146\151lter_i\156\160ut"; $_iO3t=$this->_il2e."\137fil\164\145r_s\145\154ect"; $_il3v= isset ($_POST[$_il3t]) ? 1: 0; $_iO4b=$_POST[$_iO3t][0]; $_iO1o=array(array("Valu\145" => $this->getfiltervalue($_il3v),"\105\170p" => $_iO4b)); return $_iO1o; } function getfiltervalue($_iO1e=NULL) { if ($this->UseCheckBox) { if ($_iO1e === NULL) { $_iO1e= isset ($_POST[$this->_il2e."\137filter\137\151\156put"]) ? 1: 0; } return $_iO1e; } else { return parent::getfiltervalue(); } } function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new gridbooleancolumn(); } parent::createinstance($_iO3h); $_iO3h->TrueText =$this->TrueText; $_iO3h->FalseText =$this->FalseText; $_iO3h->UseCheckBox =$this->UseCheckBox; return $_iO3h; } } class gridimagecolumn extends gridcolumn { var $ImageFolder=""; var $CssClass=""; function render($_iO1s) { $_iO45="<\151\155g src='\173\163rc}' \143\154ass=\047\173clas\163\175' a\154\164='' \057\076"; $_il46=_iO0("\173\163\162c}",(($this->ImageFolder != "") ? ($this->ImageFolder."\057"): "").$_iO1s->DataItem[$this->DataField ],$_iO45); $_il46=_iO0("\173\143\154ass}",$this->CssClass ,$_il46); return $_il46; } function inlineeditrender($_iO1s) { return $this->render($_iO1s); } function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new gridimagecolumn(); } parent::createinstance($_iO3h); $_iO3h->ImageFolder =$this->ImageFolder; $_iO3h->CssClass =$this->CssClass; return $_iO3h; } } class gridcustomcolumn extends gridcolumn { var $ItemTemplate; var $EditItemTemplate; var $AllowSorting=FALSE; function _iO2c($_il2p) { parent::_iO2c($_il2p); $this->ReadOnly =TRUE; } function render($_iO1s) { $_il46=$this->ItemTemplate; foreach ($_iO1s->DataItem as $_iO27 => $_il28) { $_il46=_iO0("\173".$_iO27."\175",$_il28,$_il46); } return $_il46; } function inlineeditrender($_iO1s) { $_il46=$this->EditItemTemplate; foreach ($_iO1s->DataItem as $_iO27 => $_il28) { $_il46=_iO0("\173".$_iO27."\175",$_il28,$_il46); } return $_il46; } function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new gridcustomcolumn(); } parent::createinstance($_iO3h); $_iO3h->ItemTemplate =$this->ItemTemplate; $_iO3h->EditItemTemplate =$this->EditItemTemplate; return $_iO3h; } } class gridcommandcolumn extends gridcolumn { var $CommandText="\103ommand"; var $OnClick=""; var $CssClass=""; function _iO2c($_il2p) { parent::_iO2c($_il2p); $this->AllowSorting =FALSE; $this->AllowFiltering =FALSE; $this->AllowGrouping =FALSE; $this->AllowExporting =FALSE; $this->ReadOnly =TRUE; $this->Aggregate =NULL; } function render($_iO1s) { $_iO45="\074sp\141\156 c\154\141ss\075'kg\162\105C\141\160'>\074\151n\160ut\040typ\145='bu\164\164on\047 cla\163\163='\173\143la\163\163}\047 va\154\165e='\173text\175\047 \157\156cl\151\143k=\047\173on\143\154i\143\153}'\040\057>\074\057s\160\141n>"; $_il46=_iO0("\173clas\163\175",$this->CssClass ,$_iO45); $_il3=$this->CommandText; $_il4c=$this->OnClick; foreach ($_iO1s->DataItem as $_iO27 => $_il28) { $_il3=_iO0("\173".$_iO27."\175",$_il28,$_il3); $_il4c=_iO0("\173".$_iO27."}",$_il28,$_il4c); } $_il46=_iO0("\173text}",$_il3,$_il46); $_il46=_iO0("\173\157\156click\175",$_il4c,$_il46); return $_il46; } function inlineeditrender($_iO1s) { return $this->render($_iO1s); } function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new gridcommandcolumn(); } parent::createinstance($_iO3h); $_iO3h->CommandText =$this->CommandText; $_iO3h->OnClick =$this->OnClick; $_iO3h->CssClass =$this->CssClass; return $_iO3h; } } class grideditdeletecolumn extends gridcolumn { var $ButtonType="\101uto"; var $EditButtonText; var $DeleteButtonText; var $ConfirmButtonText; var $CancelButtonText; var $EditButtonImageUrl=""; var $DeleteButtonImageUrl=""; var $ConfirmButtonImageUrl=""; var $CancelButtonImageUrl=""; var $EditButtonCssClass=""; var $ConfirmButtonCssClass=""; var $CancelButtonCssClass=""; var $DeleteButtonCssClass=""; var $ShowEditButton=TRUE; var $ShowDeleteButton=TRUE; function _iO2c($_il2p) { parent::_iO2c($_il2p); $this->AllowSorting =FALSE; $this->AllowResizing =FALSE; $this->AllowFiltering =FALSE; $this->AllowGrouping =FALSE; $this->AllowExporting =FALSE; $this->ReadOnly =TRUE; $this->Aggregate =NULL; if ($this->EditButtonText === NULL) $this->EditButtonText =$_il2p->_il2b->Localization->_il2i["Edit"]; if ($this->DeleteButtonText === NULL) $this->DeleteButtonText =$_il2p->_il2b->Localization->_il2i["\104\145lete"]; if ($this->ConfirmButtonText === NULL) $this->ConfirmButtonText =$_il2p->_il2b->Localization->_il2i["\103onfi\162\155"]; if ($this->CancelButtonText === NULL) $this->CancelButtonText =$_il2p->_il2b->Localization->_il2i["\103ancel"]; } function render($_iO1s) { $_il3m="\074span cl\141\163s='kgr\105\103ap'>\173\145\144it}\040\173dele\164\145}</\163\160an>"; $_iO4c=""; switch (strtolower($this->ButtonType)) { case "\141\165to": $_il3m="<span c\154\141\163s='k\147\162ECap\047\040styl\145\075'whi\164\145-spa\143\145:now\162\141p;'>\173\145\144it}\173\144\145lete\175\074/spa\156\076"; $_iO4c="\074\141 type='\142\165tton'\040\143lass=\047\173auto\143\154ass}\040\173cla\163\163}' on\143\154\151ck=\047\173oncli\143\153}' h\162\145f='ja\166\141scrip\164\072void \060\047>\173t\145\170t}</a\076"; break; case "li\156\153": $_iO4c="\074\141 type\075\047butto\156\047 cla\163\163='\173c\154\141ss}'\040\157ncl\151\143k='\173\157\156clic\153\175\047 hr\145\146='jav\141\163cript\072\166oid 0\047\076\173te\170\164}<\057\141>"; break; case "i\155\141\147e": $_iO4c="\074img \163\162c='\173\163\162c}' o\156\143\154ick\075\047\173o\156\143lic\153\175' cla\163\163='\173c\154\141ss}' \057\076"; break; case "\142\165tton": default : $_iO4c="\074input c\154\141ss='\173\143\154ass}\047\040type=\047\142utto\156\047 va\154\165e='\173\164\145xt}'\040\157nclic\153\075'\173o\156\143lick}\047\040/>"; break; } $_il4d=_iO0("\173\164\145xt}",$this->EditButtonText ,$_iO4c); $_il4d=_iO0("\173a\165\164\157clas\163\175","\153grLinkE\144\151\164",$_il4d); $_il4d=_iO0("\173\143\154ass}",$this->EditButtonCssClass ,$_il4d); $_il4d=_iO0("\173s\162\143}",$this->EditButtonImageUrl ,$_il4d); $_il4d=_iO0("\173on\143\154\151ck}","gr\151\144\137edit\050\164his)",$_il4d); $_iO4d=_iO0("\173\164ext}",$this->DeleteButtonText ,$_iO4c); $_iO4d=_iO0("\173\141utocl\141\163s}","\153\147rLi\156\153Dele\164\145",$_iO4d); $_iO4d=_iO0("\173\143lass}",$this->DeleteButtonCssClass ,$_iO4d); $_iO4d=_iO0("\173src}",$this->DeleteButtonImageUrl ,$_iO4d); $_iO4d=_iO0("\173\157ncli\143\153}","\147rid\137\144elet\145\050t\150\151s)",$_iO4d); $_il31=_iO0("\173ed\151\164}",($this->ShowEditButton) ? $_il4d: "",$_il3m); $_il31=_iO0("\173d\145\154ete\175",($this->ShowDeleteButton) ? $_iO4d: "",$_il31); return $_il31; } function inlineeditrender($_iO1s) { if ($this->ShowEditButton) { $_il3m="\074span \143\154ass='\153\147rECa\160\047>\173c\157\156firm\175\040\173\143\141ncel}\074\057span\076"; $_iO4c=""; switch (strtolower($this->ButtonType)) { case "a\165\164o": $_il3m="<s\160\141n class\075\047kgrE\103\141p' st\171\154e='wh\151\164e-sp\141\143e:n\157\167rap;'\076\173confi\162\155}\173c\141\156\143el\175\074/spa\156\076"; $_iO4c="\074a typ\145\075'butto\156\047 cla\163\163='\173a\165\164ocla\163\163} \173\143\154ass}\047\040oncl\151\143\153='\173\157\156cli\143\153}' hr\145\146='jav\141\163cript\072\166oid \060\047>\173t\145\170t}</a\076"; break; case "\154ink": $_iO4c="\074\141 type='\142\165tton\047\040cla\163\163='\173\143\154ass}\047\040on\143\154ick='\173\157nclic\153\175' hre\146\075'java\163\143ript\072\166oid 0\047\076\173te\170\164}</a\076"; break; case "image": $_iO4c="\074input \164\171pe='i\155\141ge' s\162\143='\173\163\162c}' o\156\143lic\153\075'\173o\156\143lick}\047\040clas\163\075'\173c\154\141ss}'\040\057>"; break; case "butt\157\156": default : $_iO4c="\074\151nput c\154\141ss='\173\143\154ass}\047\040type\075\047but\164\157n' v\141\154ue='\173\164\145xt}\047\040oncli\143\153='\173\157\156click\175\047 />"; break; } $_il4e=_iO0("\173text}",$this->ConfirmButtonText ,$_iO4c); $_il4e=_iO0("\173\141utocl\141\163s}","kgrLink\103\157\156firm",$_il4e); $_il4e=_iO0("\173cla\163\163\175",$this->ConfirmButtonCssClass ,$_il4e); $_il4e=_iO0("\173\163rc}",$this->ConfirmButtonImageUrl ,$_il4e); $_il4e=_iO0("\173oncl\151\143\153}","\147\162id_con\146\151\162m_ed\151\164(thi\163\051",$_il4e); $_iO4e=_iO0("\173\164\145xt}",$this->CancelButtonText ,$_iO4c); $_iO4e=_iO0("\173au\164\157\143lass\175","kgrLink\103\141\156cel",$_iO4e); $_iO4e=_iO0("\173\143lass}",$this->CancelButtonCssClass ,$_iO4e); $_iO4e=_iO0("\173src}",$this->CancelButtonImageUrl ,$_iO4e); $_iO4e=_iO0("\173\157nclic\153\175","\147rid_\143\141\156cel_\145\144it(th\151\163)",$_iO4e); $_il31=_iO0("\173\143\157\156firm\175",$_il4e,$_il3m); $_il31=_iO0("\173\143ance\154\175",$_iO4e,$_il31); return $_il31; } else { return $this->render($_iO1s); } } function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new grideditdeletecolumn(); } parent::createinstance($_iO3h); $_iO3h->ButtonType =$this->ButtonType; $_iO3h->ReadOnly =$this->ReadOnly; $_iO3h->EditButtonText =$this->EditButtonText; $_iO3h->DeleteButtonText =$this->DeleteButtonText; $_iO3h->ConfirmButtonText =$this->ConfirmButtonText; $_iO3h->CancelButtonText =$this->CancelButtonText; $_iO3h->EditButtonImageUrl =$this->EditButtonImageUrl; $_iO3h->DeleteButtonImageUrl =$this->DeleteButtonImageUrl; $_iO3h->ConfirmButtonImageUrl =$this->ConfirmButtonImageUrl; $_iO3h->CancelButtonImageUrl =$this->CancelButtonImageUrl; $_iO3h->EditButtonCssClass =$this->EditButtonCssClass; $_iO3h->DeleteButtonCssClass =$this->DeleteButtonCssClass; $_iO3h->ConfirmButtonCssClass =$this->ConfirmButtonCssClass; $_iO3h->CancelButtonCssClass =$this->CancelButtonCssClass; $_iO3h->ShowEditButton =$this->ShowEditButton; $_iO3h->ShowDeleteButton =$this->ShowDeleteButton; return $_iO3h; } } class gridexpanddetailcolumn extends gridcolumn { function _iO2c($_il2p) { parent::_iO2c($_il2p); $this->AllowSorting =FALSE; $this->AllowResizing =FALSE; $this->AllowFiltering =FALSE; $this->AllowGrouping =FALSE; $this->AllowExporting =FALSE; $this->ReadOnly =TRUE; $this->Aggregate =NULL; } function render($_iO1s) { $_il3m="\074\163pan c\154\141\163s='\153\147r\173s\164\141tus} \153\147rEC\141\160' on\143\154ick='\147\162id_\173\143\157mmand\175\050this\051\047> </\163\160an>"; $_il31=_iO0("\173statu\163\175",($_iO1s->Expand) ? "E\170\160\141nd": "\103ollaps\145",$_il3m); $_il31=_iO0("\173\143ommand\175",($_iO1s->Expand) ? "\143\157llaps\145": "ex\160\141\156d",$_il31); return $_il31; } function _iO3l() { $_il3m="<co\154\040id='\173\151\144}' na\155\145='\173\151\144}' st\171\154e='\173\167idth}\047\040clas\163\075'kgrC\157\154umnEx\160\141nd \173\162\145siza\142\154e} \173\166\151sible\175\047/>"; $_il31=_iO0("\173id}",$this->_il2e ,$_il3m); $_il31=_iO0("\173resiz\141\142le}",($this->AllowResizing) ? "kgrRe\163\151zable": "",$_il31); $_il31=_iO0("\173\167\151\144th}",($this->Width != NULL) ? "wid\164\150\072".$this->Width."\073": "",$_il31); $_il31=_iO0("\173visi\142\154e}",($this->Visible) ? "": "\153\147rHidden",$_il31); return $_il31; } function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new gridexpanddetailcolumn(); } parent::createinstance($_iO3h); return $_iO3h; } } class _il4f extends gridcolumn { function _iO2c($_il2p) { parent::_iO2c($_il2p); $this->AllowSorting =FALSE; $this->AllowResizing =FALSE; $this->AllowFiltering =FALSE; $this->AllowGrouping =FALSE; $this->ReadOnly =TRUE; $this->Aggregate =NULL; $this->AllowExporting =FALSE; } function _iO3l() { $_il3m="<\143\157l id='\173\151d}' na\155\145='\173\151\144}' s\164\171le='\173\167idth\175\047 cla\163\163='kgr\103\157lumnG\162\157up'/>"; $_il31=_iO0("\173id}",$this->_il2e ,$_il3m); $_il31=_iO0("\173wi\144\164\150}",($this->Width != NULL) ? "\167idt\150\072".$this->Width."\073": "",$_il31); return $_il31; } function _iO2f($_iO1s) { $_il3i="\074td id\075\047\173id}\047\040clas\163\075'kgrC\145\154l kg\162\107roup\103\157l'><\144\151\166 cl\141\163s='kgr\111\156' sty\154\145=''>\046\043160;\074\057div><\057\164d>"; $_iO31=_iO0("\173id}",$_iO1s->_il2e."\137".$this->_il2e ,$_il3i); return $_iO31; } function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new _il4f(); } parent::createinstance($_iO3h); return $_iO3h; } } class griddatetimecolumn extends gridcolumn { var $Picker; var $FormatString; var $DatabaseFormatString="\131-m-d\040\110:i:s"; var $EmptyDate; function _iO2c($_il2p) { parent::_iO2c($_il2p); if ($this->FormatString === NULL) { $this->FormatString ="m\057d/Y\040\147:i\040\101"; if ($this->Picker !== NULL) { switch (strtolower(get_class($this->Picker))) { case "\153\157oldatet\151\155epicke\162": $this->FormatString =$this->Picker->DateFormat."\040".$this->Picker->TimeFormat; break; case "koolda\164\145picker": $this->FormatString =$this->Picker->DateFormat; break; case "\153ooltim\145\160icker": $this->FormatString =$this->Picker->TimeFormat; break; } } } } function inlineeditrender($_iO1s) { if (!$this->ReadOnly) { $_iO4f=$_iO1s->DataItem[$this->DataField ]; $_il4g=strtotime($_iO4f); $_iO4g=($_il4g == NULL || mb_strpos($_iO4f,'0000-00-00') !== FALSE); if ($this->Picker !== NULL) { $_il4h="\155/d/Y g\072\151 A"; switch (strtolower(get_class($this->Picker))) { case "\153\157\157ldate\164\151mepic\153\145r": $_il4h=$this->Picker->DateFormat." ".$this->Picker->TimeFormat; break; case "\153\157oldat\145\160\151cker": $_il4h=$this->Picker->DateFormat; break; case "ko\157\154timepic\153\145r": $_il4h=$this->Picker->TimeFormat; break; } $this->Picker->id =$_iO1s->_il2e."_".$this->_il2e."_inp\165\164"; $this->Picker->Width ="100\045"; $this->Picker->ClientEvents =array(); if ($this->_il2n->AllowScrolling == TRUE) { $this->Picker->ClientEvents["\117nBefore\104\141\164ePic\153\145rOpen"]=$this->Picker->id."_onbef\157\162\145open"; $this->Picker->ClientEvents["\117\156Befor\145\124imePic\153\145rOpen"]=$this->Picker->id."_onb\145\146\157reop\145\156"; $this->Picker->ClientEvents["OnD\141\164\145Pick\145\162Close"]=$this->Picker->id."_oncl\157\163\145"; $this->Picker->ClientEvents["On\124\151mePicke\162\103lose"]=$this->Picker->id."\137onclo\163\145"; } $this->Picker->init(); if ($_iO4g) { $this->Picker->Value =""; } else { $this->Picker->Value =date($_il4h,$_il4g); } $_iO45="<div c\154\141ss='kgr\105\103ap'>\173\160\151cke\162\175\173js\137\145dit_\157\166erfl\157\167}</di\166\076"; if ($this->_il2n->AllowScrolling == TRUE) { $_iO45="\074\144iv cla\163\163='kgrE\103\141p'>\173\152\163_ini\164\137open\143\154ose}\074\144iv c\154\141ss='k\147\162DateT\151\155\145Pi\143\153erOut\047\076<div \143\154ass='\153\147rDate\124\151mePic\153\145rIn'>\173\160icker\175\074/div>\074\057div>\173\152s_e\144\151t_ov\145\162flow}\074\057div>"; } $_iO4h="\074script \164\171\160e='t\145\170t/jav\141\163cript\047\076fun\143\164ion\040\173id}_o\156\142efore\157\160en()\173\147\162id_\157\156_date\164\151mepic\153\145r_ope\156\050'\173i\144\175\047);r\145\164urn t\162\165e;} f\165\156ction\040\173id}_\157\156clos\145\050)\173grid\137\157n_\144\141te\164\151me\160\151ck\145\162_c\154\157se(\047\173id}'\051\073} </\163\143ript>"; $_il4i="<scrip\164\040type='\164\145xt/ja\166\141scrip\164\047>doc\165\155ent.\147\145tEle\155\145ntByI\144\050'\173id\175\047).cl\141\163sName\053\075' kg\162\105nNoPo'\073\166ar _\141\147\145nt=\156\141vigat\157\162.user\101\147ent.t\157\114owerC\141\163e();i\146\050!((\137\141gent.\151\156dexO\146\050'msie\040\066')!=\055\061 || \137\141gent\056\151ndex\117\146('msi\145\0407')!\075\0551)&&\137\141gent\056\151ndex\117\146('msi\145\0408')=\075\0551 &\046\137agen\164\056inde\170\117f('o\160\145ra')=\075\0551))\173\144o\143\165ment\056\147etE\154\145ment\102\171Id('\173\151d}_b\157\165nd')\056\160aren\164\116ode.\160\141ren\164\116ode.\163\164yle.\157\166erfl\157\167='vi\163\151ble'\073\175</s\143\162ipt>"; $_iO4i=_iO0("\173\151\144\175",$this->Picker->id ,$_il4i); $_il4j=_iO0("\173\151\144}",$this->Picker->id ,$_iO4h); $_il46=_iO0("\173pi\143\153\145r}",$this->Picker->render(),$_iO45); $_il46=_iO0("\173js\137\151\156it_o\160\145nclos\145\175",$_il4j,$_il46); $_il46=_iO0("\173js_e\144\151t_over\146\154\157w}",$_iO4i,$_il46); return $_il46; } else { if ($_iO4g) { $_iO4j=""; } else { $_iO4j=date($this->FormatString ,$_il4g); } $_iO45="<div\040\143lass\075\047kgrE\144\151tIn k\147\162ECap'\076\074in\160\165t id\075\047\173i\144\175' cla\163\163='kgr\105\156NoPo'\040\156ame\075\047\173id\175\047 type\075\047text\047\040valu\145\075'\173va\154\165e}' \163\164yle='\167\151dth:1\060\060%' /\076\074/di\166\076"; $_il46=_iO0("\173\151d}",$_iO1s->_il2e."_".$this->_il2e."_\151\156\160ut",$_iO45); $_il46=_iO0("\173\166\141lue}",($_iO4f != "") ? _iO12($_iO4j): "",$_il46); return $_il46; } } else { return $this->render($_iO1s); } } function formeditrender($_iO1s) { $_iO4f=$_iO1s->DataItem[$this->DataField ]; $_il4g=strtotime($_iO4f); $_iO4g=($_il4g == NULL || mb_strpos($_iO4f,'0000-00-00') !== FALSE); if ($this->Picker !== NULL) { $_il4h="m/d\057\131 g:i \101"; switch (strtolower(get_class($this->Picker))) { case "kooldat\145\164imepic\153\145r": $_il4h=$this->Picker->DateFormat." ".$this->Picker->TimeFormat; break; case "\153oolda\164\145picker": $_il4h=$this->Picker->DateFormat; break; case "kooltim\145\160\151cker": $_il4h=$this->Picker->TimeFormat; break; } $this->Picker->id =$_iO1s->_il2e."_".$this->_il2e."_inp\165\164"; $this->Picker->Width ="\0710%"; $this->Picker->ClientEvents =array(); $this->Picker->init(); if ($_iO4g) { $_iO4j=""; } else { $_iO4j=date($_il4h,$_il4g); } $this->Picker->Value =$_iO4j; $_iO45="\074div \143\154\141ss=\047\153grECa\160\047>\173p\151\143ker}\173\152s_e\144\151t_ove\162\146low}<\057\144iv>"; $_il4i="\074scrip\164\040\164ype=\047\164ext/j\141\166ascri\160\164'>do\143\165ment\056\147etEl\145\155entBy\111\144\050'\173\151\144}').\143\154assNa\155\145+=' k\147\162EnNoP\157\047;</s\143\162\151pt>"; $_iO4i=_iO0("\173id}",$this->Picker->id ,$_il4i); $_il46=_iO0("\173\160\151cker}",$this->Picker->render(),$_iO45); $_il46=_iO0("\173\152\163_edit_\157\166erflo\167\175",$_iO4i,$_il46); return $_il46; } else { if ($_iO4g) { $_iO4j=""; } else { $_iO4j=date($_il4h,$_il4g); } $_iO45="\074div cl\141\163\163='k\147\162EditIn\040\153grEC\141\160'><i\156\160ut \151\144='\173\151\144}' cl\141\163s='kg\162\105nNoPo\047\040nam\145\075'\173i\144\175' typ\145\075'text\047\040valu\145\075'\173v\141\154ue}' \163\164yle='\167\151dth:\071\060%' /\076\074/di\166\076"; $_il46=_iO0("\173\151d}",$_iO1s->_il2e."\137".$this->_il2e."_\151\156\160ut",$_iO45); $_il46=_iO0("\173value\175",($_iO4f != "") ? _iO12($_iO4j): "",$_il46); return $_il46; } } function renderfilter($_il1k=NULL) { if ($_il1k === NULL) $_il1k=$this->Filter; $_iO4f=$_il1k["Value"]; $_il4g=strtotime($_iO4f); if ($this->Picker !== NULL) { $_il4h="m/d/Y\040\147:i A"; switch (strtolower(get_class($this->Picker))) { case "koold\141\164etimep\151\143ker": $_il4h=$this->Picker->DateFormat."\040".$this->Picker->TimeFormat; break; case "kool\144\141\164epi\143\153\145r": $_il4h=$this->Picker->DateFormat; break; case "\153ooltim\145\160icker": $_il4h=$this->Picker->TimeFormat; break; } $_il4k=$this->Picker->id =$this->_il2e."_f\151\154ter_in\160\165\164"; $this->Picker->Width ="100%"; if ($this->_il2n->AllowScrolling == TRUE) { $this->Picker->ClientEvents["\117\156Before\104\141tePick\145\162Open"]=$this->Picker->id."_onb\145\146oreopen"; $this->Picker->ClientEvents["\117nBefor\145\124\151mePi\143\153erOpe\156"]=$this->Picker->id."_onb\145\146\157reop\145\156"; $this->Picker->ClientEvents["\117\156\104ateP\151\143\153erC\154\157se"]=$this->Picker->id."_oncl\157\163\145"; $this->Picker->ClientEvents["OnT\151\155\145Pick\145\162Close"]=$this->Picker->id."\137\157nclose"; } $this->Picker->ClientEvents["OnSe\154\145\143t"]=$this->Picker->id."_\157\156\163elect"; $this->Picker->init(); $this->Picker->Value =($_iO4f != "" && $_iO4f != $this->EmptyDate) ? date($_il4h,$_il4g): ""; $_iO45="\074\144iv cl\141\163s='kgr\105\103ap'>\173\160icker\175\173js_i\156\151t_o\156\163elec\164\175</div\076"; if ($this->_il2n->AllowScrolling == TRUE) { $_iO45="<di\166\040class='\153\147rECap\047\076<div\040\143lass=\047\153grD\141\164eTim\145\120icke\162\117ut'><d\151\166 clas\163\075'kg\162\104ateTi\155\145Picke\162\111n'>\173\152\163_init\137\157pencl\157\163e}\173p\151\143ker}\173\152\163_in\151\164\137ons\145\154ect\175\074/div\076\074/div\076\074/div\076"; } $_iO4k="<s\143\162\151pt t\171\160\145='t\145\170t/jav\141\163cript\047\076fu\156\143tion \173\151d}_on\163\145lect(\051\173grid_\146\151lter\137\164rigge\162\050\042\173\143\157lid}\042\054docum\145\156t.get\105\154ement\102\171Id('\173\151\144}'))\175\073var \137\151nput\040\075 doc\165\155ent.\147\145tElem\145\156tById\050\047\173i\144\175');_i\156\160ut.c\154\141ssNam\145\053='kg\162\106iEnT\162\047; va\162\040_agen\164\075navig\141\164or\056\165ser\101\147ent.\164\157Lower\103\141se()\073\151f(!(\050\137agen\164.in\144\145xOf(\047\155sie \066\047)!=\055\061 ||\040\137agen\164\056ind\145\170Of('\155\163ie 7\047\051!=-\061\051&&_a\147\145nt.\151\156dexO\146\050'ms\151\145 8')\075\075-1 \046\046_ag\145\156t.in\144\145xOf\050\047ope\162\141')==\055\061))\173\144\157cu\155\145nt.g\145\164Ele\155\145ntBy\111\144('\173\151\144}_b\157\165nd')\056\160are\156\164Nod\145\056par\145\156tNod\145\056par\145\156tNo\144\145.st\171\154e.ov\145\162flo\167\075'vi\163\151ble\047\073}</\163\143rip\164\076"; $_iO4h="<script\040\164\171pe=\047\164ext/j\141\166ascri\160\164'>fun\143\164ion\040\173id}_\157\156befor\145\157pen()\173\147\162id_\157\156_dat\145\164imepi\143\153er_op\145\156\050'\173\151\144}');r\145\164urn t\162\165e;} f\165\156ctio\156\040\173id}\137\157nclo\163\145()\173\147\162id_o\156\137datet\151\155epick\145\162_clos\145\050'\173i\144\175');}\074\057scri\160\164>"; $_il4l=_iO0("\173id}",$this->Picker->id ,$_iO4k); $_il4l=_iO0("\173colid}",$this->_il2e ,$_il4l); $_il4j=_iO0("\173id}",$this->Picker->id ,$_iO4h); $_il46=_iO0("\173\160icker\175",$this->Picker->render(),$_iO45); $_il46=_iO0( "\156ame='$_il4k\047" ,"\156ame='$_il4k"."\133]'",$_il46); $_il46=_iO0( "name=\042$_il4k\042" ,"name\075\042$_il4k"."\133\135\042",$_il46); $_il46=_iO0("\173\152\163_init_\157\156\163ele\143\164}",$_il4l,$_il46); $_il46=_iO0("\173\152s_init_\157\160\145nclo\163\145}",$_il4j,$_il46); return $_il46; } else { $_il3s="<div \143\154\141ss='\153\147rEdit\111\156'><in\160\165t cl\141\163s='\153\147rFiEn\124\162' typ\145\075'tex\164\047 id='\173\151d}' \156\141me='\173\151\144}[]'\040\166alue\075\047\173te\170\164}' on\142\154ur='g\162\151d_fi\154\164er_tr\151\147ger(\042\173coli\144\175\042,t\150\151s)' \163\164yle='\167\151dth:\061\0600%;'\040\057></d\151\166>"; $_iO3s=_iO0("\173\151d}",$this->_il2e."_filter\137\151nput",$_il3s); $_iO3s=_iO0("\173\143olid}",$this->_il2e ,$_iO3s); $_iO3s=_iO0("\173t\145\170\164}",($_iO4f != "") ? _iO12(date($this->FormatString ,$_il4g)): "",$_iO3s); return $_iO3s; } } function render($_iO1s) { $_iO4f=$_iO1s->DataItem[$this->DataField ]; $_il4g=strtotime($_iO4f); $_iO4g=($_il4g == NULL || mb_strpos($_iO4f,'0000-00-00') !== FALSE); if ($_iO4g) { return $this->NullDisplayText; } else { $_iO1e=date($this->FormatString ,$_il4g); return $_iO1e; } } function geteditvalue($_iO1s) { $_iO4l=$_iO1s->_il2e."_".$this->_il2e."_inp\165\164"; $_il4m=_iO11($_POST[$_iO4l]); if (trim($_il4m) == "") { return $this->EmptyDate; } else { $_il4h=$this->FormatString.'|'; if ($this->Picker !== NULL) { switch (strtolower(get_class($this->Picker))) { case "kool\144\141tetim\145\160icker": $_il4h=$this->Picker->DateFormat." ".$this->Picker->TimeFormat; break; case "\153\157oldate\160\151\143ker": $_il4h=$this->Picker->DateFormat.'|'; break; case "kooltim\145\160icker": $_il4h=$this->Picker->TimeFormat; break; } } if (strnatcmp(phpversion(),'5.3.7')>=0 && $_il4h !== "") { $_il4g=datetime::createfromformat($_il4h,$_il4m); if ($_il4g) $_il4g=$_il4g->gettimestamp(); else $_il4g=strtotime($_il4m); } else { $_il4g=strtotime($_il4m); } $_il2=date($this->DatabaseFormatString ,$_il4g); return $_il2; } } function getfiltervalue($_iO1e=NULL) { if (!$_iO1e) $_iO1e=_iO11($_POST[$this->_il2e."\137filt\145\162_inpu\164"][0]); if (trim($_iO1e) == "") { return $this->EmptyDate; } else { $_il4h=$this->FormatString.'|'; if ($this->Picker !== NULL) { switch (strtolower(get_class($this->Picker))) { case "ko\157\154dateti\155\145picker": $_il4h=$this->Picker->DateFormat."\040".$this->Picker->TimeFormat; break; case "\153oolda\164\145picker": $_il4h=$this->Picker->DateFormat.'|'; break; case "k\157\157\154time\160\151cker": $_il4h=$this->Picker->TimeFormat; break; } } if (strnatcmp(phpversion(),'5.3.7')>=0 && $_il4h !== "") { $_il4g=datetime::createfromformat($_il4h,$_iO1e); if ($_il4g) $_il4g=$_il4g->gettimestamp(); else $_il4g=strtotime($_iO1e); } else { $_il4g=strtotime($_iO1e); } $_iO4m=date($this->DatabaseFormatString ,$_il4g); return $_iO4m; } } function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new griddatetimecolumn(); } parent::createinstance($_iO3h); $_iO3h->Picker =$this->Picker; $_iO3h->FormatString =$this->FormatString; $_iO3h->DatabaseFormatString =$this->DatabaseFormatString; $_iO3h->EmptyDate =$this->EmptyDate; return $_iO3h; } } class gridautocompletecolumn extends gridcolumn { var $serviceFunction=''; var $itemTemplate='{text}'; var $saveTemplate=''; var $defaultSave=''; var $footerTemplate=''; var $KoolAutoCompleteFolder=''; var $HiddenDataField=''; var $ClientEvents=array(); function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new gridautocompletecolumn(); } parent::createinstance($_iO3h); $_iO3h->serviceFunction =$this->serviceFunction; $_iO3h->itemTemplate =$this->itemTemplate; $_iO3h->saveTemplate =$this->saveTemplate; $_iO3h->defaultSave =$this->defaultSave; $_iO3h->footerTemplate =$this->footerTemplate; $_iO3h->KoolAutoCompleteFolder =$this->KoolAutoCompleteFolder; $_iO3h->HiddenDataField =$this->HiddenDataField; $_iO3h->ClientEvents =$this->ClientEvents; return $_iO3h; } function _il4n($_iO1s) { $_il4k=$_iO1s->_il2e."_".$this->_il2e."\137\151nput"; $_iO1e=$_iO1s->DataItem[$this->DataField ]; $_il1m=''; $_il1m.= "<i\156\160\165t t\171\160e=tex\164\040id='$_il4k' name\075\047$_il4k\047 val\165\145\075'$_iO1e' aut\157\143\157mple\164\145='off\047\040styl\145\075'wid\164\150:90%\047\076"; if (!empty($this->HiddenDataField)) { $_iO4n= isset ($_iO1s->DataItem[$this->HiddenDataField ]) ? $_iO1s->DataItem[$this->HiddenDataField ]: $this->defaultSave; $_il4o=$_iO1s->_il2e."\137".$this->_il2e."_hidd\145\156\137inpu\164"; $_il1m.= "<\151\156\160ut t\171\160\145=hi\144\144en id\075\047$_il4o\047\040name\075\047$_il4o' va\154\165\145='$_iO4n\047>"; } $_iO4o="kac_".$_iO1s->_il2e."\137".$this->_il2e; $_il4p=new koolautocomplete($_iO4o); $_il4p->styleFolder =$this->KoolAutoCompleteFolder.'styles/default'; $_il4p->attachTo =$_il4k; if (!empty($_il4o)) { $_il4p->saveTo =$_il4o; $_il4p->saveTemplate =$this->saveTemplate; $_il4p->defaultSave =$this->defaultSave; } $_il4p->serviceFunction =$this->serviceFunction; $_il4p->itemTemplate =$this->itemTemplate; $_il4p->footerTemplate =$this->footerTemplate; $_il4p->ClientEvents =$this->ClientEvents; $_il1m.=$_il4p->render(); return $_il1m; } function inlineeditrender($_iO1s) { return $this->_il4n($_iO1s); } function formeditrender($_iO1s) { return $this->_il4n($_iO1s); } function _iO4p($_iO1s) { $_iO1e=$_POST[$_iO1s->_il2e."\137".$this->_il2e."_\150\151\144den_\151\156\160ut"]; if ($this->_il2n->_il2b->AjaxEnabled === TRUE) { $_iO1e=iconv("U\124\106\0558",$this->_il2n->_il2b->CharSet ,$_iO1e); } return $_iO1e; } function renderfilter($_il1k=NULL) { if (!$_il1k) $_il1k=$this->Filter; $_il4k=$this->_il2e."_fil\164\145\162_in\160\165\164"; $_il3s="\074div cla\163\163\075'kg\162\105ditIn\047\076<inp\165\164 cla\163\163='k\147\162FiEnT\162\047 type\075\047text\047\040id='\173\151d}' n\141\155e='\173\151\144}[]'\040\166alue=\047\173text}\047\040onbl\165\162='gri\144\137filte\162\137trigg\145\162(\042\173\143olid\175\042,this\051\047 au\164\157compl\145\164e='o\146\146' sty\154\145='wid\164\150:100\045\073' />\074\057div>"; $_iO3s=_iO0("\173\151d}",$_il4k,$_il3s); $_iO3s=_iO0("\173\143olid}",$this->_il2e ,$_iO3s); $_iO3s=_iO0("\173\164ext}",_iO12($_il1k["Va\154\165e"]),$_iO3s); $_iO4o="kac_".$_il4k; $_il4p=new koolautocomplete($_iO4o); $_il4p->styleFolder =$this->KoolAutoCompleteFolder.'styles/default'; $_il4p->attachTo =$_il4k; $_il4p->serviceFunction =$this->serviceFunction; $_il4p->itemTemplate =$this->itemTemplate; $_il4p->footerTemplate =$this->footerTemplate; $_il4p->ClientEvents =$this->ClientEvents; $_il4p->ClientEvents['OnSelectAndClose']='grid_autocomplete_filter_trigger'; $_il4p->ClientEvents['OnBlurAndClose']='grid_autocomplete_filter_trigger'; $_iO3s.=$_il4p->render(); return $_iO3s; } } class gridoptionscolumn extends gridcolumn { var $ChoiceType='Checkboxes'; var $Options=array(); var $DefaultOptions=array(); var $Delimiter=','; function addoption($_il1m) { if (is_string($_il1m)) $_iO40=explode($this->Delimiter ,$_il1m); else if (is_array($_il1m)) $_iO40=$_il1m; $this->Options =array_merge($this->Options ,$_iO40); return $this; } function adddefaultoption($_il1m) { if (is_string($_il1m)) $_iO40=explode($this->Delimiter ,$_il1m); else if (is_array($_il1m)) $_iO40=$_il1m; $this->DefaultOptions =array_merge($this->DefaultOptions ,$_iO40); return $this; } function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new gridoptionscolumn(); } parent::createinstance($_iO3h); $_iO3h->ChoiceType =$this->ChoiceType; $_iO3h->Options =$this->Options; $_iO3h->DefaultOptions =$this->DefaultOptions; $_iO3h->Delimiter =$this->Delimiter; return $_iO3h; } function render($_iO1s) { $_il4q=$_iO1s->DataItem[$this->DataField ]; $_il4q=explode($this->Delimiter ,$_il4q); $_iO4q="<u\154\040style\075\047none\047\076\173i\164\145m}</\165\154>"; $_il4r="\074\154i>\173n\141\155e}</li\076"; foreach ($_il4q as $_il16) { $_iO4r=str_replace("\173\156ame}",$_il16,$_il4r); $_iO4q=str_replace("\173ite\155\175",$_iO4r."\173item}",$_iO4q); } $_iO4q=str_replace("\173i\164\145\155}","",$_iO4q); return $_iO4q; } function formeditrender($_iO1s) { $_il4s=$_iO1s->_il2e."_".$this->_il2e."_input"; $_il4q=$_iO1s->DataItem[$this->DataField ]; if (empty($_il4q)) $_il4q=$this->DefaultOptions; else $_il4q=explode($this->Delimiter ,$_il4q); $_il1m="\074div>\173\143\150oice}\074\057div>"; $_iO4s=$this->ChoiceType === 'RadioButtons' ? 'radio': 'checkbox'; $_il4r= "<\154\141\142el c\154\141\163s='\157\160tion-\143\157lumn'\076\074in\160\165t cl\141\163s='op\164\151on-co\154\165\155n' \164\171pe='$_iO4s' valu\145\075'\173op\164\151\157n}'\040\156ame='\173\151d}[]\047\040\173c\150\145cked\175\040/>\173\157\160\164ion\175\074/labe\154\076"; foreach ($this->Options as $_il41) { $_iO4r=str_replace("\173\157ption}",$_il41,$_il4r); $_iO4r=str_replace("\173\151d}",$_il4s,$_iO4r); $_iO4r=str_replace("\173checked\175",in_array($_il41,$_il4q) ? "che\143\153\145d": "",$_iO4r); $_il1m=str_replace("\173ch\157\151ce\175",$_iO4r."\173choice}",$_il1m); } $_il1m=str_replace("\173cho\151\143\145}","",$_il1m); return $_il1m; } function inlineeditrender($_iO1s) { return $this->formeditrender($_iO1s); } function geteditvalue($_iO1s) { $_il4s=$_iO1s->_il2e."_".$this->_il2e."_\151\156put"; $_il4q=$_POST[$_il4s]; $_il4q=implode($this->Delimiter ,$_il4q); return $_il4q; } } class gridfilecolumn extends gridcolumn { var $BaseDirectory; var $TableName; var $IdColumn; var $UploadHandlePage; var $MustHaveFiles; var $MaxFileSize=046113200; var $AllowedExtension="\147if,j\160\147,doc,p\144\146,txt"; var $AllowDelete=FALSE; var $AllowDownload=TRUE; var $AutoUpload=FALSE; var $InitialShownFiles=3; var $ShowDescription=FALSE; var $MultipleUpload=TRUE; var $KoolUploaderFolder='kooluploader'; function _il4t($_iO4t) { $_il4u=substr(strrchr($_iO4t,'.'),1); $_iO4u=array('pdf' => 'pdf_2-16','zip' => 'zip_2-16','rar' => 'zip_2-16','7z' => 'zip_2-16','doc' => 'word_2-16','docx' => 'word_2-16','jpg' => 'image_2-16','jpeg' => 'image_2-16','png' => 'image_2-16','xls' => 'excel_2-16','xlsx' => 'excel_2-16','ppt' => 'powerpoint_2-16','pptx' => 'powerpoint_2-16','txt' => 'text_2-16'); if (array_key_exists($_il4u,$_iO4u)) $_il4v=$_iO4u[$_il4u]; else $_il4v='file_2-16'; return $_il4v; } function render($_iO1s) { $_il4k='ul_'.$_iO1s->_il2e."_".$this->_il2e; $_il1m= "<\165\154 class=\047\153grFi\154\145List\047\040id='$_il4k\047 >"; $_iO4v="<s\160\141\156 cl\141\163s='koo\154\160hpfil\145\146orma\164\040\173c\154\141ss}'\076\074/spa\156\076"; $_iO4v.=$this->AllowDownload ? "<a h\162\145f='\173f\151\154epath\175\047 down\154\157ad>\173\144\151spl\141\171}</a\076": "\173di\163\160lay}"; $_il4w=$_iO1s->DataItem[$this->DataField ]; if (get_magic_quotes_gpc()) $_il4w=stripslashes($_il4w); $_il4w=json_decode($_il4w,TRUE); $_iO4w=0; if (is_array($_il4w)) foreach ($_il4w as $_il4x) { if ($_iO4w<$this->InitialShownFiles) $_iO4x=''; else $_iO4x='none'; $_il3c=$_iO4v; $_il4y=$_il4x['name']; if (!empty($_il4x['description'])) $_iO32=$_il4x['description']; else $_iO32=$_il4y; if ($this->ShowDescription) { $_iO4y=$_iO32; $_il4z=$_il4y; } else { $_iO4y=$_il4y; $_il4z=$_iO32; } $_il3c=str_replace("\173\144isplay}",$_iO4y,$_il3c); $_iO4z=$this->BaseDirectory.'/'.$this->TableName.'/'.$_iO1s->DataItem[$this->IdColumn ].'/'.$_il4y; $_il3c=str_replace("\173filepa\164\150}",$_iO4z,$_il3c); $_il3c=str_replace("\173\143lass}",'koolphp-'.$this->_il4t($_il4y),$_il3c); $_il1m.="<\154\151 title=\047".$_il4z."\047 sty\154\145='dis\160\154ay:".$_iO4x."'\076".$_il3c."\074\057li>"; $_iO4w ++; } if (count($_il4w)>$this->InitialShownFiles) { $_il1m.="\074li><sp\141\156 class\075\047kgrF\151\154eForm\141\164 kgrf\151\154e'\076\074/spa\156\076...</\154\151></ul\076"; $_il1m.= "<a st\171\154\145='c\165\162sor:p\157\151nter;\040\146ont-w\145\151ght\072\142old\073\047 oncl\151\143k=Exp\141\156dList\050\047$_il4k\047\051>>><\057\141><a st\171\154e='cu\162\163or:po\151\156ter; \146\157nt-\167\145ight:\142\157ld; d\151\163\160lay\072\156one'\040\157ncli\143\153=\042Co\154\154apseL\151\163t('$_il4k', $this->InitialShownFiles\051\042\076\074<</a>"; } return $_il1m; } function formeditrender($_iO1s) { $_il50="\153ul_".$_iO1s->_il2e."\137".$this->_il2e; $_iO50=$_iO1s->_il2e."_".$this->_il2e."_inp\165\164"; $_il1m=''; $_il1m.="<input\040\164ype=hi\144\144en id\075\173id} n\141\155e=\173\151\144} g\145\164Edit\126\141lue='\173\153ulId}\056\147etIte\155\163Statu\163\050)'>"; $_il1m=_iO0("\173\151d}",$_iO50,$_il1m); $_il1m=_iO0("\173kulId\175",$_il50,$_il1m); $_il6=array(); $_il4w=$_iO1s->DataItem[$this->DataField ]; if (get_magic_quotes_gpc()) $_il4w=stripslashes($_il4w); $_il4w=json_decode($_il4w,TRUE); if (is_array($_il4w)) foreach ($_il4w as $_il4x) { $_iO32=''; if ( isset ($_il4x['description'])) $_iO32=$_il4x['description']; array_push($_il6,array('name' => $_il4x['name'],'description' => $_iO32)); } $_il51=new kooluploader($_il50); $_il51->styleFolder =$this->KoolUploaderFolder.'styles/default'; $_il51->allowedExtension =$this->AllowedExtension; $_il51->maxFileSize =$this->MaxFileSize; $_il51->allowDelete =$this->AllowDelete; $_il51->allowDownload =$this->AllowDownload; $_il51->autoUpload =$this->AutoUpload; $_il51->multipleUpload =$this->MultipleUpload; $_il51->progressTracking =FALSE; $_il51->updateProgressInterval =024; $_il51->targetFolder =$this->BaseDirectory.'/'.$this->TableName.'/'.$_iO1s->DataItem[$this->IdColumn ]; $_il51->currentFiles =$_il6; $_il51->width ='90%'; $_il51->mustHaveFiles =$this->MustHaveFiles; $_il1m.=$_il51->render(); return $_il1m; } function createinstance($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new gridfilecolumn(); } parent::createinstance($_iO3h); $_iO3h->BaseDirectory =$this->BaseDirectory; $_iO3h->TableName =$this->TableName; $_iO3h->IdColumn =$this->IdColumn; $_iO3h->UploadHandlePage =$this->UploadHandlePage; $_iO3h->MustHaveFiles =$this->MustHaveFiles; $_iO3h->AllowDelete =$this->AllowDelete; $_iO3h->AllowDownload =$this->AllowDownload; $_iO3h->AllowedExtension =$this->AllowedExtension; $_iO3h->AutoUpload =$this->AutoUpload; $_iO3h->InitialShownFiles =$this->InitialShownFiles; $_iO3h->ShowDescription =$this->ShowDescription; $_iO3h->MultipleUpload =$this->MultipleUpload; return $_iO3h; } } class _iO51 implements _il29 { var $_il2e; var $_il2n; var $_iO2m; var $TableView; var $PageIndex=0; var $_il52; var $_iO52; var $PageSize; var $ShowPageInfo=TRUE; var $PageInfoTemplate; var $ShowPageSize=FALSE; var $PageSizeText; var $PageSizeOptions="\065,10,20\054\0640"; var $Position="bott\157\155"; var $ShowPageOverlap=FALSE; var $PageOverlap=0; var $PageOverlapText; var $PageOverlapOptions="\060,1,2\054\063,4,5"; function _iO2c($_il2p) { $this->_il2n =$_il2p; $this->TableView =$_il2p; $this->_iO2m =$_il2p->_iO2m; if ($this->PageSize === NULL) $this->PageSize =$this->_il2n->PageSize; if ($this->PageInfoTemplate === NULL) $this->PageInfoTemplate =$_il2p->_il2b->Localization->_iO2i["\120ageInf\157\124emplat\145"]; if ($this->PageSizeText === NULL) $this->PageSizeText =$_il2p->_il2b->Localization->_iO2i["PageS\151\172\145Tex\164"]; if ($this->PageOverlapText === NULL) $this->PageOverlapText =$_il2p->_il2b->Localization->_iO2i["P\141\147eOverla\160\124ext"]; if ($this->PageSize <=$this->PageOverlap) $this->PageOverlap =0; } function _iO29() { if ( isset ($this->_iO2m->_il26[$this->_il2e ])) { $_iO2p=$this->_iO2m->_il26[$this->_il2e ]; $this->PageIndex =$_iO2p["\120ageInd\145\170"]; $this->_il52 =$_iO2p["\137\124\157talP\141\147es"]; $this->_iO52 =$_iO2p["_To\164\141\154Rows"]; $this->PageSize =$_iO2p["\120\141geSize"]; $this->PageOverlap =$_iO2p["PageOve\162\154\141p"]; } } function _il2a() { $this->_iO2m->_il26[$this->_il2e ]=array("Page\111\156dex" => $this->PageIndex ,"\137TotalP\141\147\145s" => $this->_il52 ,"Pa\147\145\123ize" => $this->PageSize ,"_Tot\141\154\122ows" => $this->_iO52 ,"Pa\147\145Over\154\141p" => $this->PageOverlap ,); } function _il2v($_ilm) { if ( isset ($_ilm->_il2i[$this->_il2e ])) { $_iO2v=$_ilm->_il2i[$this->_il2e ]; switch ($_iO2v["\103\157mmand"]) { case "\107oPag\145": if ($this->_il2n->_il2b->EventHandler->onbeforepageindexchange($this,array("\116\145wPag\145\111ndex" => $_iO2v["\101rgs"]["\120\141geInd\145\170"])) == TRUE) { $this->PageIndex =$_iO2v["\101rgs"]["\120\141geI\156\144ex"]; $this->_il2n->_il2f =TRUE; $this->_il2n->_il2b->EventHandler->onpageindexchange($this,array()); } break; case "C\150\141ngePage\123\151ze": if ($this->_il2n->_il2b->EventHandler->onbeforepagesizechange($this,array("\116\145wPage\123\151\172e" => $_iO2v["Ar\147\163"]["PageSiz\145"])) == TRUE) { $this->PageSize =$_iO2v["Args"]["\120\141geSiz\145"]; if ($this->PageSize <$this->PageOverlap) $this->PageOverlap =0; $this->_il2n->_il2f =TRUE; $this->_il2n->_il2b->EventHandler->onpagesizechange($this,array()); } break; case "Cha\156\147ePageOv\145\162lap": if ($this->_il2n->_il2b->EventHandler->_il53($this,array("NewPag\145\117\166erla\160" => $_iO2v["Args"]["Pag\145\117\166erla\160"])) == TRUE) { $this->PageOverlap =$_iO2v["\101\162\147s"]["\120\141geOverl\141\160"]; if ($this->PageSize <=$this->PageOverlap) $this->PageOverlap =0; $this->_il2n->_il2f =TRUE; $this->_il2n->_il2b->EventHandler->_iO53($this,array()); } break; } } $this->_il52 =ceil($this->_iO52 /($this->PageSize -$this->PageOverlap)); if ($this->PageIndex >=$this->_il52) $this->PageIndex =$this->_il52 -1; if ($this->PageIndex <0) $this->PageIndex =0; } function _il54() { return $this->PageIndex *($this->PageSize -$this->PageOverlap); } function _iO2f() { return ""; } function _iO54() { $_il55="<div \143\154ass='k\147\162Info \173\143sscl\141\163ses}\047\076\173text\175\074/div>"; $_il3=_iO0("\173\120\141geInde\170\175",($this->_il52 >0) ? ($this->PageIndex +1): 0,$this->PageInfoTemplate); $_il3=_iO0("\173To\164\141\154Pages\175",$this->_il52 ,$_il3); $_iO55=($this->_il52 >0) ? ($this->_il54()+1): 0; $_il56=$this->_il54()+$this->PageSize; if ($_il56>$this->_iO52) $_il56=$this->_iO52; $_il3=_iO0("\173\106irstI\156\144\145xInP\141\147e}",$_iO55,$_il3); $_il3=_iO0("\173\114\141stInd\145\170\111nPag\145\175",$_il56,$_il3); $_il3=_iO0("\173T\157\164\141lRows\175",$this->_iO52 ,$_il3); $_iO56=_iO0("\173\164\145xt}",$_il3,$_il55); return $_iO56; } function _il57() { $_iO57="<div \143\154\141ss='k\147\162\120ageS\151\172\145 \173\143\163scla\163\163es}'\076\173text}\173\163\145lect}\074\057div>"; $_il3y="\074\163\145lect \157\156change\075\047grid_\160\141\147esiz\145\137sele\143\164_oncha\156\147\145(thi\163\051'>\173o\160\164\151ons\175\074/selec\164\076"; $_il3z="\074\157ption v\141\154\165e='\173\166\141lue}\047\040\173sel\145\143ted}\076\173value\175\074\057opti\157\156>"; $_iO40=""; $_il58=explode(',',$this->PageSizeOptions); for ($_iO9=0; $_iO9<sizeof($_il58); $_iO9 ++) { $_il41=_iO0("\173\166\141\154ue}",$_il58[$_iO9],$_il3z); $_il41=_iO0("\173\163\145lect\145\144}",($this->PageSize == (int) $_il58[$_iO9]) ? "sele\143\164ed": "",$_il41); $_iO40.=$_il41; } $_iO41=_iO0("\173\157\160tions\175",$_iO40,$_il3y); $_iO58=_iO0("\173text\175",$this->PageSizeText ,$_iO57); $_iO58=_iO0("\173\163\145lect\175",$_iO41,$_iO58); return $_iO58; } function _il59() { $_iO59="\074div cla\163\163\075'kgr\120\141geSiz\145\040\173css\143\154asse\163\175'>\173t\145\170\164}\173\163\145\154ect}\074\057div>"; $_il3y="\074\163elect\040\157nchange\075\047grid\137\160\141geov\145\162lap_\163\145lect_\157\156change\050\164his)'>\173\157ptions\175\074/sel\145\143\164>"; $_il3z="<optio\156\040\166alue\075\047\173val\165\145}' \173\163\145\154ect\145\144}>\173\166\141\154ue}</\157\160\164ion>"; $_iO40=""; $_il58=explode(',',$this->PageOverlapOptions); for ($_iO9=0; $_iO9<sizeof($_il58); $_iO9 ++) { $_il41=_iO0("\173\166alue}",$_il58[$_iO9],$_il3z); $_il41=_iO0("\173\163\145lected\175",($this->PageOverlap == (int) $_il58[$_iO9]) ? "sele\143\164ed": "",$_il41); $_iO40.=$_il41; } $_iO41=_iO0("\173options\175",$_iO40,$_il3y); $_il5a=_iO0("\173\164\145\170t}",$this->PageOverlapText ,$_iO59); $_il5a=_iO0("\173\163\145lect}",$_iO41,$_il5a); return $_il5a; } function _il2t($_iO3h=NULL) { $_iO3h->PageIndex =$this->PageIndex; $_iO3h->ShowPageInfo =$this->ShowPageInfo; $_iO3h->PageInfoTemplate =$this->PageInfoTemplate; $_iO3h->ShowPageSize =$this->ShowPageSize; $_iO3h->PageSizeText =$this->PageSizeText; $_iO3h->PageSizeOptions =$this->PageSizeOptions; $_iO3h->PageSize =$this->PageSize; $_iO3h->Position =$this->Position; $_iO3h->ShowPageOverlap =$this->ShowPageOverlap; $_iO3h->PageOverlap =$this->PageOverlap; $_iO3h->PageOverlapText =$this->PageOverlapText; $_iO3h->PageOverlapOptions =$this->PageOverlapOptions; } } class gridprevnextpager extends _iO51 { var $FirstPageText; var $FirstPageToolTip; var $PrevPageText; var $PrevPageToolTip; var $NextPageText; var $NextPageToolTip; var $LastPageText; var $LastPageToolTip; function _iO2c($_il2p) { parent::_iO2c($_il2p); if ($this->FirstPageText === NULL) $this->FirstPageText =$_il2p->_il2b->Localization->_il2i["\106irst"]; if ($this->FirstPageToolTip === NULL) $this->FirstPageToolTip =$_il2p->_il2b->Localization->_iO2i["\106\151\162stPag\145\124\157olT\151\160"]; if ($this->PrevPageText === NULL) $this->PrevPageText =$_il2p->_il2b->Localization->_il2i["\120\162ev"]; if ($this->PrevPageToolTip === NULL) $this->PrevPageToolTip =$_il2p->_il2b->Localization->_iO2i["PrevPag\145\124\157olTi\160"]; if ($this->NextPageText === NULL) $this->NextPageText =$_il2p->_il2b->Localization->_il2i["\116\145xt"]; if ($this->NextPageToolTip === NULL) $this->NextPageToolTip =$_il2p->_il2b->Localization->_iO2i["\116\145xtPage\124\157\157lTip"]; if ($this->LastPageText === NULL) $this->LastPageText =$_il2p->_il2b->Localization->_il2i["Last"]; if ($this->LastPageToolTip === NULL) $this->LastPageToolTip =$_il2p->_il2b->Localization->_iO2i["\114\141stPageT\157\157\154Tip"]; } function _iO2f() { $_iO5a="\074\144iv clas\163\075\047kgrP\141\147er kg\162\116extPr\145\166Next\120\141ger'>\173\160\141gesi\172\145\175\173pa\147\145\157ver\154\141p}\173n\141\166\175\173in\146\157\175<div\040\163tyle=\047\143\154ear:\142\157th'></\144\151v></di\166\076"; $_il5b="<div c\154\141\163s='k\147\162\116av \173\143\163scla\163\163es}'\076\173first\175\040\173pre\166\175 \173ne\170\164\175 \173l\141\163t}</d\151\166\076"; $_iO4c="<input t\171\160\145='bu\164\164\157n' o\156\143\154ick\075\047\173on\143\154ick}'\040\164itle='\173\164\151tle}\047\040class\075\047nodec\157\162\047/>"; $_iO5b="\074\141 href=\047\152\141vasc\162\151\160t:vo\151\144 0' o\156\143lick=\047\173oncli\143\153\175' ti\164\154\145='\173\164\151\164le}\047\076\173tex\164\175\074/a>"; $_il5c="<span cl\141\163\163= '\173\143\154ass}'\076\173butto\156\175\074/sp\141\156>"; $_iO5c=_iO0("\173onclick}",($this->PageIndex >0) ? "g\162\151\144_gopa\147\145\050thi\163\054\060)": "",$_iO4c); $_iO5c=_iO0("\173\164itle}",$this->FirstPageToolTip ,$_iO5c); $_il5d=_iO0("\173o\156\143\154ick}",($this->PageIndex >0 && $this->FirstPageText !== NULL) ? "\147\162\151d_gop\141\147\145(thi\163\0540)": "",$_iO5b); $_il5d=_iO0("\173\164\145\170t}",$this->FirstPageText ,$_il5d); $_il5d=_iO0("\173title}",$this->FirstPageToolTip ,$_il5d); $_iO5d=_iO0("\173button}",$_iO5c.$_il5d,$_il5c); $_iO5d=_iO0("\173\143\154ass}","\153grFirs\164",$_iO5d); $_il5e=_iO0("\173\157nclick\175",($this->PageIndex >0) ? "grid_g\157\160\141ge(th\151\163,".($this->PageIndex -1).")": "",$_iO4c); $_il5e=_iO0("\173ti\164\154\145}",$this->PrevPageToolTip ,$_il5e); $_iO5e=_iO0("\173oncl\151\143\153}",($this->PageIndex >0 && $this->PrevPageText !== NULL) ? "\147rid_go\160\141\147e(thi\163\054".($this->PageIndex -1).")": "",$_iO5b); $_iO5e=_iO0("\173\164ext}",$this->PrevPageText ,$_iO5e); $_iO5e=_iO0("\173\164\151tle}",$this->PrevPageToolTip ,$_iO5e); $_il5f=_iO0("\173button}",$_il5e.$_iO5e,$_il5c); $_il5f=_iO0("\173cl\141\163\163}","\153\147rPrev",$_il5f); $_iO5f=_iO0("\173\157nclick}",($this->PageIndex <$this->_il52 -1) ? "grid_\147\157\160age(t\150\151\163,".($this->PageIndex +1)."\051": "",$_iO4c); $_iO5f=_iO0("\173\164itle}",$this->NextPageToolTip ,$_iO5f); $_il5g=_iO0("\173\157nclick\175",(($this->PageIndex <$this->_il52 -1) && $this->NextPageText !== NULL) ? "\147\162id_gopa\147\145(this,".($this->PageIndex +1).")": "",$_iO5b); $_il5g=_iO0("\173\164\145\170t}",$this->NextPageText ,$_il5g); $_il5g=_iO0("\173\164itle}",$this->NextPageToolTip ,$_il5g); $_iO5g=_iO0("\173\142\165\164ton}",$_il5g.$_iO5f,$_il5c); $_iO5g=_iO0("\173c\154\141\163s}","\153grNext",$_iO5g); $_il5h=_iO0("\173oncli\143\153\175",($this->PageIndex <$this->_il52 -1) ? "grid\137\147\157page(\164\150\151s,".($this->_il52 -1)."\051": "",$_iO4c); $_il5h=_iO0("\173\164itle}",$this->LastPageToolTip ,$_il5h); $_iO5h=_iO0("\173on\143\154\151ck}",(($this->PageIndex <$this->_il52 -1) && $this->LastPageText !== NULL) ? "grid_\147\157\160age(\164\150\151s,".($this->_il52 -1).")": "",$_iO5b); $_iO5h=_iO0("\173tex\164\175",$this->LastPageText ,$_iO5h); $_iO5h=_iO0("\173\164\151tle}",$this->LastPageToolTip ,$_iO5h); $_il5i=_iO0("\173\142\165\164ton}",$_iO5h.$_il5h,$_il5c); $_il5i=_iO0("\173\143lass}","kgrLas\164",$_il5i); $_iO5i=_iO0("\173\160rev}",$_il5f,$_il5b); $_iO5i=_iO0("\173nex\164\175",$_iO5g,$_iO5i); $_iO5i=_iO0("\173f\151\162\163t}",$_iO5d,$_iO5i); $_iO5i=_iO0("\173last}",$_il5i,$_iO5i); $_iO58=($this->ShowPageSize) ? $this->_il57(): ""; $_il5a=($this->ShowPageOverlap) ? $this->_il59(): ""; $_iO56=($this->ShowPageInfo) ? $this->_iO54(): ""; $_il5j=_iO0("\173nav}",$_iO5i,$_iO5a); $_il5j=_iO0("\173\151\156fo}",$_iO56,$_il5j); $_il5j=_iO0("\173\160agesize\175",$_iO58,$_il5j); $_il5j=_iO0("\173\160ageoverl\141\160}",$_il5a,$_il5j); return $_il5j; } function _il2t($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new gridprevnextpager(); } parent::_il2t($_iO3h); $_iO3h->FirstPageText =$this->FirstPageText; $_iO3h->LastPageText =$this->LastPageText; $_iO3h->FirstPageToolTip =$this->FirstPageToolTip; $_iO3h->LastPageToolTip =$this->LastPageToolTip; $_iO3h->NextPageText =$this->NextPageText; $_iO3h->PrevPageText =$this->PrevPageText; $_iO3h->NextPageToolTip =$this->NextPageToolTip; $_iO3h->PrevPageToolTip =$this->PrevPageToolTip; return $_iO3h; } } class gridnumericpager extends _iO51 { var $Range=012; function _iO2f() { $_iO5a="<\144\151\166 clas\163\075'kgrPa\147\145r kgr\116\165mericP\141\147er'\076\173pages\151\172\145}\173\160\141\147eove\162\154\141p}\173\156\141v}\173i\156\146o}<div\040\163tyle='\143\154ear:bo\164\150\047></\144\151\166></d\151\166\076"; $_il5b="<div\040\143\154ass=\047\153grNav\040\173\143ssc\154\141\163ses\175\047>\173n\165\155\142ers}\074\057div>"; $_iO5j="<\141\040\143lass=\047\153grNum \173\163\145lect\145\144}' \173\150\162ef} \173\157nclick\175\076<span>\173\156umber}\074\057span\076\074/a> "; $_il5k=floor($this->PageIndex /$this->Range)*$this->Range; $_iO5k=""; if ($_il5k>0) { $_iO46=_iO0("\173\150ref}","\150ref=\047\152ava\163\143ript:\166\157id \060\047",$_iO5j); $_iO46=_iO0("\173\157nclick\175","\157nclick\075\047gri\144\137gop\141\147\145(thi\163\054".($_il5k-1)."\051'",$_iO46); $_iO46=_iO0("\173number}","...",$_iO46); $_iO5k.=$_iO46; } for ($_iO9=$_il5k; $_iO9<$_il5k+$this->Range && $_iO9<$this->_il52; $_iO9 ++) { $_iO46=_iO0("\173\156\165mber}",($_iO9+1),$_iO5j); if ($_iO9 == $this->PageIndex) { $_iO46=_iO0("\173sel\145\143\164ed}","\153grNumS\145\154\145cted",$_iO46); $_iO46=_iO0("\173href}","",$_iO46); $_iO46=_iO0("\173\157nclick\175","",$_iO46); } else { $_iO46=_iO0("\173\163\145\154ected\175","",$_iO46); $_iO46=_iO0("\173h\162\145\146}","h\162\145\146='java\163\143\162ipt\072\166oid 0'",$_iO46); $_iO46=_iO0("\173\157\156click\175","on\143\154\151ck='g\162\151\144_gop\141\147\145(th\151\163\054".$_iO9."\051\047",$_iO46); } $_iO5k.=$_iO46; } if ($_il5k+$this->Range <$this->_il52) { $_iO46=_iO0("\173\150\162ef}","\150ref='ja\166\141\163cript\072\166oid 0'",$_iO5j); $_iO46=_iO0("\173o\156\143\154ick}","\157nclick='\147\162\151d_go\160\141\147e(th\151\163\054".($_il5k+$this->Range).")\047",$_iO46); $_iO46=_iO0("\173number}","\056..",$_iO46); $_iO46=_iO0("\173\163\145lecte\144\175","",$_iO46); $_iO5k.=$_iO46; } $_iO5i=_iO0("\173numbers\175",$_iO5k,$_il5b); $_iO58=($this->ShowPageSize) ? $this->_il57(): ""; $_il5a=($this->ShowPageOverlap) ? $this->_il59(): ""; $_iO56=($this->ShowPageInfo) ? $this->_iO54(): ""; $_il5j=_iO0("\173\156\141v}",$_iO5i,$_iO5a); $_il5j=_iO0("\173i\156\146\157}",$_iO56,$_il5j); $_il5j=_iO0("\173\160agesiz\145\175",$_iO58,$_il5j); $_il5j=_iO0("\173page\157\166\145rlap}",$_il5a,$_il5j); return $_il5j; } function _il2t($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new gridnumericpager(); } parent::_il2t($_iO3h); $_iO3h->Range =$this->Range; return $_iO3h; } } class gridprevnextandnumericpager extends _iO51 { var $Range=012; var $FirstPageText; var $FirstPageToolTip; var $PrevPageText; var $PrevPageToolTip; var $NextPageText; var $NextPageToolTip; var $LastPageText; var $LastPageToolTip; function _iO2c($_il2p) { parent::_iO2c($_il2p); if ($this->FirstPageText === NULL) $this->FirstPageText =$_il2p->_il2b->Localization->_il2i["First"]; if ($this->FirstPageToolTip === NULL) $this->FirstPageToolTip =$_il2p->_il2b->Localization->_iO2i["First\120\141\147eToo\154\124\151p"]; if ($this->PrevPageText === NULL) $this->PrevPageText =$_il2p->_il2b->Localization->_il2i["\120rev"]; if ($this->PrevPageToolTip === NULL) $this->PrevPageToolTip =$_il2p->_il2b->Localization->_iO2i["\120\162evPageTo\157\154\124ip"]; if ($this->NextPageText === NULL) $this->NextPageText =$_il2p->_il2b->Localization->_il2i["\116\145xt"]; if ($this->NextPageToolTip === NULL) $this->NextPageToolTip =$_il2p->_il2b->Localization->_iO2i["\116\145xtPage\124\157\157lTip"]; if ($this->LastPageText === NULL) $this->LastPageText =$_il2p->_il2b->Localization->_il2i["Last"]; if ($this->LastPageToolTip === NULL) $this->LastPageToolTip =$_il2p->_il2b->Localization->_iO2i["La\163\164\120ageTo\157\154\124ip"]; } function _iO2f() { $_iO5a="<di\166\040class='\153\147\162Pager\040\153grNex\164\120\162evA\156\144Nume\162\151cPager\047\076\173pag\145\163ize}\173\160\141geove\162\154ap}\173n\141\166}\173in\146\157\175<div\040\163tyle='\143\154ear:bo\164\150'></di\166\076</div\076"; $_il5b="\074\144\151v cla\163\163\075'kgr\116\141v \173c\163\163\143las\163\145s}'>\173\146\151rst}\040\173prev} \173\156\165mber\163\175 \173ne\170\164} \173l\141\163\164}</d\151\166\076"; $_iO5j="<a cla\163\163\075'kgr\116\165\155 \173s\145\154ected\175\047 \173h\162\145f} \173\157\156click\175\076\074span\076\173numbe\162\175</span\076\074/a> "; $_iO4c="<i\156\160\165t typ\145\075\047but\164\157\156' on\143\154ick='\173\157nclic\153\175' titl\145\075'\173ti\164\154\145}' c\154\141ss='n\157\144\145cor'\057\076"; $_iO5b="\074a href='\152\141\166ascr\151\160\164:voi\144\0400' on\143\154ick='\173\157nclic\153\175\047 ti\164\154\145='\173\164\151\164le}\047\076\173tex\164\175\074/a>"; $_il5c="<s\160\141\156 clas\163\075\040'\173\143\154\141ss}'\076\173butt\157\156}</sp\141\156>"; $_il5k=floor($this->PageIndex /$this->Range)*$this->Range; $_iO5k=""; if ($_il5k>0) { $_iO46=_iO0("\173href}","href='j\141\166\141scrip\164\072void 0\047",$_iO5j); $_iO46=_iO0("\173on\143\154\151ck}","\157\156click=\047\147\162id_g\157\160\141ge(t\150\151s,".($_il5k-1)."\051'",$_iO46); $_iO46=_iO0("\173num\142\145\162}","\056\056.",$_iO46); $_iO5k.=$_iO46; } for ($_iO9=$_il5k; $_iO9<$_il5k+$this->Range && $_iO9<$this->_il52; $_iO9 ++) { $_iO46=_iO0("\173\156\165\155be\162\175",($_iO9+1),$_iO5j); if ($_iO9 == $this->PageIndex) { $_iO46=_iO0("\173sel\145\143\164ed}","kgr\116\165\155Sele\143\164ed",$_iO46); $_iO46=_iO0("\173href\175","",$_iO46); $_iO46=_iO0("\173\157\156click\175","",$_iO46); } else { $_iO46=_iO0("\173selec\164\145d}","",$_iO46); $_iO46=_iO0("\173\150\162\145f}","\150\162ef='j\141\166\141scri\160\164\072voi\144\0400'",$_iO46); $_iO46=_iO0("\173oncli\143\153\175","\157nclick\075\047grid_go\160\141ge(thi\163\054".$_iO9.")'",$_iO46); } $_iO5k.=$_iO46; } if ($_il5k+$this->Range <$this->_il52) { $_iO46=_iO0("\173\150\162ef}","\150ref='j\141\166\141scrip\164\072void 0\047",$_iO5j); $_iO46=_iO0("\173\157\156\143lick}","o\156\143\154ick='g\162\151\144_gop\141\147e(this\054".($_il5k+$this->Range)."\051\047",$_iO46); $_iO46=_iO0("\173n\165\155\142er}","\056..",$_iO46); $_iO46=_iO0("\173sel\145\143\164ed}","",$_iO46); $_iO5k.=$_iO46; } $_iO5c=_iO0("\173\157nclick\175",($this->PageIndex >0) ? "grid_g\157\160\141ge(th\151\163\0540)": "",$_iO4c); $_iO5c=_iO0("\173titl\145\175",$this->FirstPageToolTip ,$_iO5c); $_il5d=_iO0("\173onc\154\151\143k}",($this->PageIndex >0 && $this->FirstPageText !== NULL) ? "\147rid_gop\141\147\145(this\054\060)": "",$_iO5b); $_il5d=_iO0("\173\164\145xt}",$this->FirstPageText ,$_il5d); $_il5d=_iO0("\173\164\151\164le}",$this->FirstPageToolTip ,$_il5d); $_iO5d=_iO0("\173\142\165\164ton}",$_iO5c.$_il5d,$_il5c); $_iO5d=_iO0("\173class}","\153grFirst",$_iO5d); $_il5e=_iO0("\173on\143\154\151ck}",($this->PageIndex >0) ? "\147\162id_gopa\147\145\050this\054".($this->PageIndex -1).")": "",$_iO4c); $_il5e=_iO0("\173\164itle}",$this->PrevPageToolTip ,$_il5e); $_iO5e=_iO0("\173oncli\143\153\175",($this->PageIndex >0 && $this->PrevPageText !== NULL) ? "grid_g\157\160\141ge(th\151\163\054".($this->PageIndex -1).")": "",$_iO5b); $_iO5e=_iO0("\173tex\164\175",$this->PrevPageText ,$_iO5e); $_iO5e=_iO0("\173title}",$this->PrevPageToolTip ,$_iO5e); $_il5f=_iO0("\173\142\165tton}",$_il5e.$_iO5e,$_il5c); $_il5f=_iO0("\173class\175","kgrPrev",$_il5f); $_iO5f=_iO0("\173\157nclick}",($this->PageIndex <$this->_il52 -1) ? "grid_go\160\141\147e(thi\163\054".($this->PageIndex +1)."\051": "",$_iO4c); $_iO5f=_iO0("\173\164itle}",$this->NextPageToolTip ,$_iO5f); $_il5g=_iO0("\173o\156\143lick}",(($this->PageIndex <$this->_il52 -1) && $this->NextPageText !== NULL) ? "\147\162\151d_gop\141\147\145(thi\163\054".($this->PageIndex +1).")": "",$_iO5b); $_il5g=_iO0("\173text}",$this->NextPageText ,$_il5g); $_il5g=_iO0("\173title\175",$this->NextPageToolTip ,$_il5g); $_iO5g=_iO0("\173bu\164\164\157n}",$_il5g.$_iO5f,$_il5c); $_iO5g=_iO0("\173class}","\153\147rNext",$_iO5g); $_il5h=_iO0("\173oncl\151\143\153}",($this->PageIndex <$this->_il52 -1) ? "\147\162id_gopa\147\145\050this\054".($this->_il52 -1)."\051": "",$_iO4c); $_il5h=_iO0("\173\164\151\164le}",$this->LastPageToolTip ,$_il5h); $_iO5h=_iO0("\173onclick}",(($this->PageIndex <$this->_il52 -1) && $this->LastPageText !== NULL) ? "gri\144\137\147opage\050\164his,".($this->_il52 -1).")": "",$_iO5b); $_iO5h=_iO0("\173\164\145xt}",$this->LastPageText ,$_iO5h); $_iO5h=_iO0("\173title}",$this->LastPageToolTip ,$_iO5h); $_il5i=_iO0("\173\142utton}",$_iO5h.$_il5h,$_il5c); $_il5i=_iO0("\173\143\154ass}","k\147\162\114ast",$_il5i); $_iO5i=_iO0("\173n\165\155\142ers}",$_iO5k,$_il5b); $_iO5i=_iO0("\173prev}",$_il5f,$_iO5i); $_iO5i=_iO0("\173\156ext}",$_iO5g,$_iO5i); $_iO5i=_iO0("\173first}",$_iO5d,$_iO5i); $_iO5i=_iO0("\173\154ast}",$_il5i,$_iO5i); $_iO58=($this->ShowPageSize) ? $this->_il57(): ""; $_il5a=($this->ShowPageOverlap) ? $this->_il59(): ""; $_iO56=($this->ShowPageInfo) ? $this->_iO54(): ""; $_il5j=_iO0("\173\156\141v}",$_iO5i,$_iO5a); $_il5j=_iO0("\173\151nfo}",$_iO56,$_il5j); $_il5j=_iO0("\173\160agesiz\145\175",$_iO58,$_il5j); $_il5j=_iO0("\173\160\141\147eove\162\154\141p}",$_il5a,$_il5j); return $_il5j; } function _il2t($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new gridprevnextandnumericpager(); } parent::_il2t($_iO3h); $_iO3h->Range =$this->Range; $_iO3h->FirstPageText =$this->FirstPageText; $_iO3h->LastPageText =$this->LastPageText; $_iO3h->FirstPageToolTip =$this->FirstPageToolTip; $_iO3h->LastPageToolTip =$this->LastPageToolTip; $_iO3h->NextPageText =$this->NextPageText; $_iO3h->PrevPageText =$this->PrevPageText; $_iO3h->NextPageToolTip =$this->NextPageToolTip; $_iO3h->PrevPageToolTip =$this->PrevPageToolTip; return $_iO3h; } } class gridmanualpager extends _iO51 { var $ManualPagerTemplate; var $ButtonType="\102\165tton"; var $GoPageButtonText; var $TextBoxWidth="\062\065px"; function _iO2c($_il2p) { parent::_iO2c($_il2p); if ($this->ManualPagerTemplate === NULL) $this->ManualPagerTemplate =$_il2p->_il2b->Localization->_iO2i["\115\141nualPag\145\162\124empl\141\164e"]; if ($this->GoPageButtonText === NULL) $this->GoPageButtonText =$_il2p->_il2b->Localization->_il2i["Go"]; } function _il2v($_ilm) { parent::_il2v($_ilm); if ( isset ($_ilm->_il2i[$this->_il2e ])) { $_iO2v=$_ilm->_il2i[$this->_il2e ]; $this->PageIndex =( (int) $_POST[$this->_il2e."_input"])-1; if ($this->PageIndex >=$this->_il52) $this->PageIndex =$this->_il52 -1; if ($this->PageIndex <0) $this->PageIndex =0; $this->_il2n->_il2f =TRUE; } } function _iO2f() { $_iO5a="\074\144iv cla\163\163\075'kgr\120\141ger kg\162\115anual\120\141ger'\076\173pages\151\172e}\173pa\147\145overla\160\175\173nav}\173\151nfo}<\144\151\166 sty\154\145='clea\162\072both'>\074\057div><\057\144iv>"; $_il5b="\074\144\151v cla\163\163\075'kg\162\116av \173\143\163\163cla\163\163es}'\076\173main}<\057\144iv>"; $_il5l="\074\151nput id=\047\173id}' n\141\155e='\173i\144\175' typ\145\075'tex\164\142ox' st\171\154e='wid\164\150\072\173w\151\144\164h};\047\040value\075\047\173tex\164\175\047/>"; $_iO5l=$this->ManualPagerTemplate; $_il5m=""; switch (strtolower($this->ButtonType)) { case "\154ink": $_il5m="\074\141 class\075\047kgrGoB\165\164\164on'\040\150\162ef=\047\152avasc\162\151pt:vo\151\144\0400' \157\156\143lick\075\047grid_\147\157\160age\050\164\150is,0\051\047>\173te\170\164\175</a>"; break; case "imag\145": $_il5m="\074input cl\141\163\163='kg\162\107\157Butt\157\156\040kgr\107\157Imag\145\047 type\075\047button\047\040oncli\143\153\075'gri\144\137gopag\145\050this,0\051\047 />"; break; case "butt\157\156": default : $_il5m="\074\151nput c\154\141ss='kgr\107\157Button\047\040type=\047\142utto\156\047 onc\154\151ck='gr\151\144\137gopa\147\145\050thi\163\0540)' v\141\154\165e='\173\164\145xt}' \057\076"; break; } $_iO5m=_iO0("\173\151\144}",$this->_il2e."_i\156\160ut",$_il5l); $_iO5m=_iO0("\173\167\151dth}",$this->TextBoxWidth ,$_iO5m); $_iO5m=_iO0("\173text}",$this->PageIndex +1,$_iO5m); $_il5n=_iO0("\173tex\164\175",$this->GoPageButtonText ,$_il5m); $_ilg=_iO0("\173TextBox\175",$_iO5m,$_iO5l); $_ilg=_iO0("\173GoPa\147\145Button\175",$_il5n,$_ilg); $_ilg=_iO0("\173Tota\154\120\141ge}",$this->_il52 ,$_ilg); $_iO5i=_iO0("\173\155\141in}",$_ilg,$_il5b); $_iO58=($this->ShowPageSize) ? $this->_il57(): ""; $_il5a=($this->ShowPageOverlap) ? $this->_il59(): ""; $_iO56=($this->ShowPageInfo) ? $this->_iO54(): ""; $_il5j=_iO0("\173\156\141v}",$_iO5i,$_iO5a); $_il5j=_iO0("\173i\156\146\157}",$_iO56,$_il5j); $_il5j=_iO0("\173pa\147\145\163ize}",$_iO58,$_il5j); $_il5j=_iO0("\173\160\141\147eove\162\154ap}",$_il5a,$_il5j); return $_il5j; } function _il2t($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new gridmanualpager(); } parent::_il2t($_iO3h); $_iO3h->ManualPagerTemplate =$this->ManualPagerTemplate; $_iO3h->ButtonType =$this->ButtonType; $_iO3h->GoPageButtonText =$this->GoPageButtonText; $_iO3h->TextBoxWidth =$this->TextBoxWidth; return $_iO3h; } } class gridcustompager extends _iO51 { function render($_iO5n) { return "Custom\120\141ger"; } function _iO2f() { $_iO5a="<div\040\143lass='\153\147rPage\162\040kgrC\165\163tomPa\147\145r'>\173\160age\163\151\172e}\173\160\141geo\166e\162\154ap\175\173na\166\175\173\151nfo}\074div \163\164yl\145\075'cl\145\141\162:bo\164\150'></d\151\166></di\166\076"; $_il5b="\074\144iv clas\163\075'kgrN\141\166 \173c\163\163class\145\163}'>\173\155ain}\074\057div>"; $_il5j=$_iO5a; $_iO5n=array("P\141\147eIndex" => $this->PageIndex ,"Total\120\141\147es" => $this->_il52); $_iO5i=_iO0("\173\155\141in}",$this->render($_iO5n),$_il5b); $_il5j=_iO0("\173\156av}",$_iO5i,$_il5j); $_iO56=($this->ShowPageInfo) ? $this->_iO54(): ""; $_il5j=_iO0("\173\151\156\146o}",$_iO56,$_il5j); $_iO58=($this->ShowPageSize) ? $this->_il57(): ""; $_il5a=($this->ShowPageOverlap) ? $this->_il59(): ""; $_iO56=($this->ShowPageInfo) ? $this->_iO54(): ""; $_il5j=_iO0("\173\151\156fo}",$_iO56,$_il5j); $_il5j=_iO0("\173\160agesiz\145\175",$_iO58,$_il5j); $_il5j=_iO0("\173\160\141geove\162\154ap}",$_il5a,$_il5j); return $_il5j; } function _il2t($_ii02=NULL) { if ($_ii02 === NULL) { eval ("\044_\151\15102 = n\145\167 ".get_class($this)."();"); } parent::_il2t($_ii02); return $_ii02; } } interface gridtemplate { function render($_iO2t); function getdata($_iO2t); } class _il5o { var $Mode="I\156\154ine"; var $HeaderCaption; var $ColumnNumber=1; var $CancelButtonText; var $ConfirmButtonText; var $CancelButtonToolTip; var $ConfirmButtonToolTip; var $Template; var $InputFocus="\156one"; function _il2t($_iO3h=NULL) { $_iO3h->Mode =$this->Mode; $_iO3h->Template =$this->Template; $_iO3h->HeaderCaption =$this->HeaderCaption; $_iO3h->ColumnNumber =$this->ColumnNumber; $_iO3h->CancelButtonText =$this->CancelButtonText; $_iO3h->ConfirmButtonText =$this->ConfirmButtonText; $_iO3h->CancelButtonToolTip =$this->CancelButtonToolTip; $_iO3h->ConfirmButtonToolTip =$this->ConfirmButtonToolTip; $_iO3h->InputFocus =$this->InputFocus; } } class _iO5o extends _il5o { var $_il2e; var $_il2w; } class _il5p extends _il5o { function _il2t($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new _iO5p(); } parent::_il2t($_iO3h); return $_iO3h; } } class _iO5p extends _iO5o { var $_iO2t; var $_il5q; function _iO2c($_il2p) { if ($this->CancelButtonText === NULL) $this->CancelButtonText =$_il2p->_il2b->Localization->_il2i["\103ancel"]; if ($this->ConfirmButtonText === NULL) $this->ConfirmButtonText =$_il2p->_il2b->Localization->_il2i["Co\156\146\151rm"]; if ($this->CancelButtonToolTip === NULL) $this->CancelButtonToolTip =$_il2p->_il2b->Localization->_iO2i["\105ditFor\155\137Cancel\102\165tton\124\157olTip"]; if ($this->ConfirmButtonToolTip === NULL) $this->ConfirmButtonToolTip =$_il2p->_il2b->Localization->_iO2i["Ed\151\164Form_Co\156\146\151rmB\165\164tonTo\157\154Tip"]; } function _iO2w() { $_il2q=$this->_iO2t->DataItem; $_iO5q=FALSE; if (strtolower($this->Mode) == "t\145\155\160late") { $_il5r=$this->Template->getdata($this->_iO2t); foreach ($_il5r as $_iO27 => $_il28) { $_il2q[$_iO27]=$_il28; } } else { foreach ($this->_iO2t->_il2n->_iO30 as $_il31) { if (!$_il31->ReadOnly) { if (!empty($_il31->HiddenDataField)) $_il2q[$_il31->HiddenDataField ]=$_il31->_iO4p($this->_iO2t); $_il2q[$_il31->DataField ]=$_il31->geteditvalue($this->_iO2t); } } foreach ($this->_iO2t->_il2n->_iO30 as $_il31) { if (!$_il31->ReadOnly) { foreach ($_il31->_iO38 as $_il3b) { $_iO5r=$_il31->DataField; if (!$_il3b->validate($_il2q[$_iO5r],$_il2q,$this->_iO2t ,$_il31)) { $_iO5q=TRUE; } } } } } $this->_il5q =$_il2q; if (!$_iO5q) { if ($this->_iO2t->_il2n->_il2b->EventHandler->onbeforerowconfirmedit($this->_iO2t ,array("\116ew\104\141\164aIt\145\155" => &$_il2q)) == TRUE) { $_il5s=$this->_iO2t->_il2n->DataSource->update($_il2q); $_iO2x=$this->_iO2t->_il2n->DataSource->geterror(); $this->_iO2t->_il2n->_il2f =TRUE; $this->_iO2t->EditMode =FALSE; if ($_iO2x != "") $this->_iO2t->_il2n->_il2b->EventHandler->ondatasourceerror($this,array("E\162\162or" => $_iO2x)); $this->_iO2t->_il2n->_il2b->EventHandler->onrowconfirmedit($this->_iO2t ,array("NewD\141\164aIt\145\155" => $_il2q,"\123ucc\145\163sfu\154" => $_il5s,"Err\157\162" => $_iO2x)); } } } function _iO2f() { $_iO2z=""; $_iO5s=new gridrow(); $_iO5s->_il2e =$this->_iO2t->_il2e; $_iO5s->_iO2c($this->_iO2t->_il2n); $_iO5s->DataItem =($this->_il5q !== NULL) ? $this->_il5q : $this->_iO2t->DataItem; switch (strtolower($this->Mode)) { case "\164e\155\160la\164e": $_il2y="\074tr id=\047\173rowid\175\047 cl\141\163s='k\147\162Ro\167\040\173\141lt\175\040\173se\154\145cted}\040\153grRow\105\144it'>\173\164ds}\074\057tr\076"; $_il5t="\074tr><t\144\040colspa\156\075'\173\143\157lspan\175\047><di\166\040id=\047\173rowi\144\175_edit\146\157rm' c\154\141\163s='\153\147rEdit\106\157rm \173\151\156putfo\143\165s}'>\173\143\157nte\156\164\175</d\151\166></td\076\074/tr>"; $_il30=""; for ($_iO9=0; $_iO9<sizeof($this->_iO2t->_il2n->_iO30); $_iO9 ++) { $_il31=$this->_iO2t->_il2n->_iO30[$_iO9]; $_iO31=$_il31->_iO2f($this->_iO2t); $_il30.=$_iO31; } $_iO2z=_iO0("\173tds\175",$_il30,$_il2y); $_iO5t=_iO0("\173con\164\145nt\175",($this->Template === NULL) ? "\074b\076\116oti\143e</b\076: N\157 tem\160late\040fou\156\144!": $this->Template->render($this->_iO2t),$_il5t); $_iO5t=_iO0("\173co\154\163pa\156\175",sizeof($this->_iO2t->_il2n->_iO30),$_iO5t); switch (strtolower($this->InputFocus)) { case "hideg\162\151d": $_iO5t=_iO0("\173\151nputfoc\165\163}","\153grInput\106\157\143us \153\147rHide\107\162id",$_iO5t); break; case "\142lurgr\151\144": $_iO5t=_iO0("\173i\156\160utfocu\163\175","kg\162\111\156pu\164\106ocu\163\040kg\162\102lu\162\107rid",$_iO5t); break; default : $_iO5t=_iO0("\173\151\156put\146\157cu\163\175","",$_iO5t); break; } $_iO2z.=$_iO5t; break; case "f\157\162m": $_il2y="\074tr \151\144='\173\162ow\151\144}\047 cl\141\163s=\047kgr\122ow\040\173a\154t} \173\163el\145\143te\144} kg\162RowE\144\151t\047>\173\164ds}\074/tr\076"; $_il5t="<\164r><td\040\143ol\163pan=\047\173co\154span\175\047>\074div\040id\075'\173\162ow\151\144}_\145ditf\157rm'\040\143la\163s='\153grE\144\151t\106\157r\155\040\173\151npu\164\146oc\165\163}'\076\173h\145\141d\145r\175\173v\141\154id\141tor\163}\173\142igt\141ble\175\173f\157ote\162}</\144\151v>\074/td\076</\164\162>"; $_il5u="\074di\166\040cl\141ss='\153\147r\106\157r\155\110e\141\144e\162'>\173\164e\170t}</\144iv>"; $_iO5u="<di\166 cla\163\163='\153\147rF\157rmF\157\157t\145r'>\173\142u\164to\156\163}\074/di\166\076"; $_il5v="\074ul\040\143la\163\163='\153\147r\126\141li\144ator\047>\173\151te\155s}<\057ul\076"; $_iO5v="<l\151\076<\154\141be\154\040f\157\162='\173\151d\175\047>\173he\141der\175: \173\145r\162\157r}\074\057l\141bel>\074/li\076"; $_il5w="<ta\142\154e\040styl\145\075't\141ble\055lay\157ut:\146\151x\145\144;\167id\164\150:\06100%;\047><t\162>\173\142\151gt\141\142l\145_td\163\175<\057\164r>\074/ta\142\154e>"; $_iO5w="\074td s\164\171le\075'ver\164\151c\141\154-\141\154i\147n: \164op;\167id\164\150:\173\167i\144\164h}\045'>\173\164ab\154e\173\156}}<\057td>"; $_il5x="\074t\141\142le\040\163ty\154\145=\047hei\147\150t\072\173h\145\151g\150t}p\170;wi\144\164h:\06100%\073'>\173\143t_t\162\163}</\164\141b\154\145>"; $_iO4c="\074\151nput t\171\160e='bu\164\164on' o\156\143lick=\047\173onc\154\151ck}'\040\164itle\075\047\173ti\164\154e}' c\154\141ss=\047n\157\144ec\157\162'/\076"; $_iO5b="\074a \150\162ef=\047\152av\141\163cr\151\160t:v\157\151d 0'\040\157ncl\151\143k='\173\157\156clic\153\175' tit\154\145='\173t\151\164le\175\047>\173\164ext\175\074/\141>"; $_il5c="<s\160\141n cl\141\163s=\040\047\173\143\154a\163\163}'\076\173b\165\164t\157\156}\173\141\175</spa\156\076 "; $_iO5x=043; $_il30=""; for ($_iO9=0; $_iO9<sizeof($this->_iO2t->_il2n->_iO30); $_iO9 ++) { $_il31=$this->_iO2t->_il2n->_iO30[$_iO9]; $_iO31=$_il31->_iO2f($this->_iO2t); $_il30.=$_iO31; } $_iO2z=_iO0("\173tds}",$_il30,$_il2y); $_il5y=""; $_iO5y=$this->HeaderCaption; if ($_iO5y != NULL) { foreach ($this->_iO2t->DataItem as $_iO27 => $_il28) { $_iO5y=_iO0("\173".$_iO27."\175",$_il28,$_iO5y); } $_il5y=_iO0("\173tex\164\175",$_iO5y,$_il5u); } $_il4q=""; if ($this->_il5q !== NULL && $this->_il2w != "St\141\162\164Edi\164") { foreach ($_iO5s->_il2n->_iO30 as $_il31) { if (!$_il31->ReadOnly) { foreach ($_il31->_iO38 as $_il3b) { if (!$_il3b->validate($_iO5s->DataItem[$_il31->DataField ],$_iO5s->DataItem ,$this->_iO2t ,$_il31)) { $_il5z=_iO0("\173h\145\141de\162\175",$_il31->HeaderText ,$_iO5v); $_il5z=_iO0("\173\145rro\162\175",$_il3b->ErrorMessage ,$_il5z); $_il5z=_iO0("\173id}",$_iO5s->_il2e."_".$_il31->_il2e."_inp\165\164",$_il5z); $_il4q.=$_il5z; } } } } } $_iO5z=_iO0("\173it\145\155s}",$_il4q,$_il5v); $_il60=""; for ($_iO9=0; $_iO9<$this->ColumnNumber; $_iO9 ++) { $_iO60=_iO0("\173\156}",$_iO9,$_iO5w); $_iO60=_iO0("\173width\175",(0144/$this->ColumnNumber),$_iO60); $_il60.=$_iO60; } $_il61=_iO0("\173\142\151gt\141\142l\145\137t\144s}",$_il60,$_il5w); $_iO61=array(); $_il62=0; for ($_iO9=0; $_iO9<sizeof($_iO5s->_il2n->_iO30); $_iO9 ++) { $_il31=$_iO5s->_il2n->_iO30[$_iO9]; if (!$_il31->ReadOnly) { $_iO62=$_il31->_il3l($_iO5s); array_push($_iO61,$_iO62); if (is_a($_il31,'gridfilecolumn')) $_il62 += 0245; if (is_a($_il31,'gridtextareacolumn') && !empty($_il31->BoxHeight)) $_il62 += intval($_il31->BoxHeight)-022; } } $_il63=ceil(sizeof($_iO61)/$this->ColumnNumber); for ($_iO9=0; $_iO9<$this->ColumnNumber; $_iO9 ++) { $_iO63=""; for ($_il64=0; $_il64<$_il63; $_il64 ++) { $_iO64=$_il63*$_iO9+$_il64; if ($_iO64<sizeof($_iO61)) { $_iO63.=$_iO61[$_iO64]; } } $_il65=_iO0("\173c\164\137trs\175",$_iO63,$_il5x); $_il65=_iO0("\173\150\145ig\150\164}",$_il63*$_iO5x+$_il62,$_il65); if ($_iO63 == "") $_il65=""; $_il61=_iO0("\173\164abl\145".$_iO9."\175",$_il65,$_il61); } $_il4e=_iO0("\173\143lass\175","k\147\162Conf\151\162m",$_il5c); $_il4e=_iO0("\173b\165\164ton\175",$_iO4c,$_il4e); $_il4e=_iO0("\173a\175",($this->ConfirmButtonText != NULL) ? $_iO5b: "",$_il4e); $_il4e=_iO0("\173\157nclic\153}","\147rid_co\156\146ir\155\137edi\164\050t\150\151s)",$_il4e); $_il4e=_iO0("\173title\175",$this->ConfirmButtonToolTip ,$_il4e); $_il4e=_iO0("\173\164ext}",$this->ConfirmButtonText ,$_il4e); $_iO4e=_iO0("\173class\175","\153\147rCan\143\145l",$_il5c); $_iO4e=_iO0("\173bu\164\164on}",$_iO4c,$_iO4e); $_iO4e=_iO0("\173\141}",($this->CancelButtonText != NULL) ? $_iO5b: "",$_iO4e); $_iO4e=_iO0("\173\157\156clic\153}","\147rid\137\143ance\154\137edi\164\050t\150\151s)",$_iO4e); $_iO4e=_iO0("\173\164itle\175",$this->CancelButtonToolTip ,$_iO4e); $_iO4e=_iO0("\173\164ex\164\175",$this->CancelButtonText ,$_iO4e); $_iO65=_iO0("\173butto\156\163}",$_il4e.$_iO4e,$_iO5u); $_iO5t=_iO0("\173header\175",$_il5y,$_il5t); switch (strtolower($this->InputFocus)) { case "hide\147\162id": $_iO5t=_iO0("\173\151\156put\146ocu\163\175","k\147\162Inp\165tFoc\165\163 k\147rHid\145Grid",$_iO5t); break; case "bl\165\162gri\144": $_iO5t=_iO0("\173inpu\164\146oc\165\163}","kg\162\111npu\164\106oc\165\163 k\147\162Bl\165rGr\151\144",$_iO5t); break; default : $_iO5t=_iO0("\173input\146\157cus\175","",$_iO5t); break; } $_iO5t=_iO0("\173\166alid\141\164ors\175",$_iO5z,$_iO5t); $_iO5t=_iO0("\173\142\151gtab\154e}",$_il61,$_iO5t); $_iO5t=_iO0("\173foo\164\145r}",$_iO65,$_iO5t); $_iO5t=_iO0("\173\143ol\163\160an\175",sizeof($_iO5s->_il2n->_iO30),$_iO5t); $_iO2z.=$_iO5t; break; case "inl\151\156e": default : $_il66="<tr>\074td c\157\154s\160\141n\075'\173\143ols\160an}\047><\144iv\040cl\141ss=\047kgr\111nput\106ocu\163\040k\147\162B\154\165r\107\162i\144\047 \163\164y\154\145='\167\151d\164\150:1\0600%'\076\074t\141ble\040cla\163\163=\047\153g\162\124ab\154\145'\040\143e\154lsp\141\143i\156\147=\0470' \163\164y\154\145=\047tab\154e-l\141you\164\072 \141uto\073em\160\164y\055cel\154\163:\040sho\167;wi\144th:\06100%\047><t\142ody\076<tr\040id\075'\173\162ow\151\144}\047 cl\141ss=\047kg\162\122o\167 \173\141lt\175\040\173se\154\145c\164ed\175\040k\147rR\157\167E\144it'\076\173t\144s}\074/t\162\076<\057tb\157dy\076\074/\164ab\154e><\057di\166></\164d>\074/t\162\076"; $_il2y="<\164r id\075\047\173\162ow\151d}'\040cla\163\163=\047kgr\122\157w\040\173a\154t} \173\163e\154\145c\164\145d}\040kgr\122owE\144\151t\047>\173\164ds}\074/tr\076"; $_iO66="<tr \143\154as\163\075'\153\147r\126ali\144\141to\162'>\173\166a\154id\137tds\175</t\162\076"; $_il67="<td\040\143la\163\163=\047\153g\162Cel\154\047>\074di\166\040c\154as\163='\153\147r\111\156'\040sty\154\145=\047\167h\151\164e\055spa\143\145\072no\162mal\073\047>\173\144iv\163\175<\057\144iv\076</t\144\076"; $_iO67="<d\151\166><l\141\142el\040\146o\162\075'\173\151d}\047>\173\145rro\162}</\154abe\154\076<\057\144iv\076"; $_il30=""; for ($_iO9=0; $_iO9<sizeof($_iO5s->_il2n->_iO30); $_iO9 ++) { $_il31=$_iO5s->_il2n->_iO30[$_iO9]; $_iO31=$_il31->_iO3k($_iO5s); $_il30.=$_iO31; } $_iO2z=_iO0("\173\164ds}",$_il30,($this->InputFocus == "\142lu\162\147ri\144") ? $_il66: $_il2y); $_iO2z=_iO0("\173\143olsp\141\156}",sizeof($_iO5s->_il2n->_iO30),$_iO2z); $_il68=""; if ($this->_il5q !== NULL && $this->_il2w != "\123tar\164\105di\164") { $_iO68=""; for ($_iO9=0; $_iO9<sizeof($_iO5s->_il2n->_iO30); $_iO9 ++) { $_il31=$_iO5s->_il2n->_iO30[$_iO9]; $_il69=""; if (!$_il31->ReadOnly) { foreach ($_il31->_iO38 as $_il3b) { if (!$_il3b->validate($_iO5s->DataItem[$_il31->DataField ],$_iO5s->DataItem ,$this->_iO2t ,$_il31)) { $_iO69=_iO0("\173er\162\157r}",$_il3b->ErrorMessage ,$_iO67); $_iO69=_iO0("\173id}",$_iO5s->_il2e."_".$_il31->_il2e."_inpu\164",$_iO69); $_il69.=$_iO69; } } } $_il6a=_iO0("\173div\163\175",$_il69,$_il67); $_iO68.=$_il6a; } $_il68=_iO0("\173\166al\151\144_t\144\163}",$_iO68,$_iO66); } $_iO2z.=$_il68; break; } return $_iO2z; } } class _iO6a extends _il5o { var $HeaderCaption=""; function _il2t($_iO3h=NULL) { if ($_iO3h === NULL) { $_iO3h=new _il6b(); } parent::_il2t($_iO3h); return $_iO3h; } } class _il6b extends _iO5o { var $_il2n; var $_il5q; function _iO2c($_il2p) { $this->_il2n =$_il2p; if ($this->CancelButtonText === NULL) $this->CancelButtonText =$_il2p->_il2b->Localization->_il2i["\103ance\154"]; if ($this->ConfirmButtonText === NULL) $this->ConfirmButtonText =$_il2p->_il2b->Localization->_il2i["Conf\151\162m"]; if ($this->CancelButtonToolTip === NULL) $this->CancelButtonToolTip =$_il2p->_il2b->Localization->_iO2i["I\156\163ert\106\157rm\137\103an\143\145lB\165\164to\156\124oo\154Tip"]; if ($this->ConfirmButtonToolTip === NULL) $this->ConfirmButtonToolTip =$_il2p->_il2b->Localization->_iO2i["\111nsert\106\157rm_Co\156\146ir\155\102ut\164\157nTo\157\154T\151\160"]; } function _iO6b() { $_il2q=array(); for ($_iO9=0; $_iO9<sizeof($this->_il2n->_iO30); $_iO9 ++) { if ($this->_il2n->_iO30[$_iO9]->DataField != NULL) { $_il2q[$this->_il2n->_iO30[$_iO9]->DataField ]=$this->_il2n->_iO30[$_iO9]->DefaultValue; } } $_il6c=new gridrow(); $_il6c->_il2e =$this->_il2n->_il2e."_nr"; $_il6c->_iO2c($this->_il2n); $_iO5q=FALSE; if (strtolower($this->Mode) == "\164empl\141\164e") { $_il5r=$this->Template->getdata($_il6c); foreach ($_il5r as $_iO27 => $_il28) { $_il2q[$_iO27]=$_il28; } } else { foreach ($this->_il2n->_iO30 as $_il31) { if (!$_il31->ReadOnly) { if (!empty($_il31->HiddenDataField)) $_il2q[$_il31->HiddenDataField ]=$_il31->_iO4p($_il6c); $_il2q[$_il31->DataField ]=$_il31->geteditvalue($_il6c); } } foreach ($this->_il2n->_iO30 as $_il31) { if (!$_il31->ReadOnly) { foreach ($_il31->_iO38 as $_il3b) { $_iO5r=$_il31->DataField; if (!$_il3b->validate($_il2q[$_iO5r],$_il2q,$_il6c,$_il31)) { $_iO5q=TRUE; } } } } } if ($this->_il2n->_iO6c !== NULL) { foreach ($this->_il2n->_il6d as $_iO6d) { $_il2q[$_iO6d["D\145\164ail"]]=$this->_il2n->_iO6c->DataItem[$_iO6d["\115aster"]]; } } $this->_il5q =$_il2q; if (!$_iO5q) { if ($this->_il2n->_il2b->EventHandler->onbeforeconfirminsert($this->_il2n ,array("New\104\141taItem" => &$_il2q)) == TRUE) { $_il6e=$this->_il2n->_iO30; $_iO21=array(); foreach ($_il6e as $_iO23) { if (is_a($_iO23,'gridfilecolumn')) array_push($_iO21,$_iO23); } $_il22=array(); if (count($_iO21) == 0) { $_iO6e=$this->_il2n->DataSource->insert($_il2q); } else { $_iO6e=$this->_il2n->DataSource->insert($_il2q,$_iO21,$_il22); foreach ($_iO21 as $_iO2q => $_iO23) { $_il6f=$_il2q[$_iO23->DataField ]; if (get_magic_quotes_gpc()) $_il6f=stripslashes($_il6f); $_il6f=json_decode($_il6f,TRUE); $_iO6f=''; $_il6g=$_iO23->BaseDirectory.'/'.$_iO23->TableName; $targetFolder=$_iO23->BaseDirectory.'/'.$_iO23->TableName.'/'.$_iO6f.$_il22[$_iO2q]; mkdir($targetFolder); foreach ($_il6f as $_iO6g) { rename($_il6g.'/'.$_iO6g['name'],$targetFolder.'/'.$_iO6g['name']); } } } $_iO2x=$this->_il2n->DataSource->geterror(); $this->_il2n->_il2f =TRUE; $this->_il2n->_il6h =FALSE; if ($_iO2x != "") $this->_il2n->_il2b->EventHandler->ondatasourceerror($this,array("Error" => $_iO2x)); $this->_il2n->_il2b->EventHandler->onconfirminsert($this->_il2n ,array("\116ewData\111\164\145m" => $_il2q,"\123\165ccessful" => $_iO6e,"\105\162\162or" => $_iO2x)); } } } function _iO2f() { $_iO6h=""; $_il2q=array(); for ($_iO9=0; $_iO9<sizeof($this->_il2n->_iO30); $_iO9 ++) { if ($this->_il2n->_iO30[$_iO9]->DataField != NULL) { $_il2q[$this->_il2n->_iO30[$_iO9]->DataField ]=$this->_il2n->_iO30[$_iO9]->DefaultValue; } } if ($this->_il5q === NULL) { $this->_il5q =$_il2q; } $_il6c=new gridrow(); $_il6c->_il2e =$this->_il2n->_il2e."\137\156r"; $_il6c->_iO2c($this->_il2n); $_il6c->DataItem =$this->_il5q; switch (strtolower($this->Mode)) { case "templa\164\145": $_il6i="<tr><td \143\157\154span\075\047\173co\154\163pan}'>\074\144iv \151\144='\173\151\144}_ins\145\162tform'\040\143lass='\153\147rIns\145\162tForm \173\151nputfo\143\165\163}'>\173\143\157nten\164\175\074/div\076\074/td><\057\164r>"; $_iO6h=_iO0("\173co\156\164\145nt}",($this->Template === NULL) ? "\074\142>Notice<\057\142\076: Te\155\160late \156\157\164 fo\165\156d!": $this->Template->render($_il6c),$_il6i); $_iO6h=_iO0("\173colspan\175",sizeof($this->_il2n->_iO30),$_iO6h); $_iO6h=_iO0("\173\151\144}",$_il6c->_il2e ,$_iO6h); switch (strtolower($this->InputFocus)) { case "hide\147\162\151d": $_iO6h=_iO0("\173in\160\165\164focus\175","kgrInp\165\164\106ocus k\147\162HideGr\151\144",$_iO6h); break; case "blu\162\147\162id": $_iO6h=_iO0("\173\151\156\160utfoc\165\163}","k\147\162\111nputF\157\143\165s kg\162\102\154urG\162\151\144",$_iO6h); break; default : $_iO6h=_iO0("\173\151nputfoc\165\163\175","",$_iO6h); break; } break; case "form": default : $_il6i="\074tr><t\144\040\143olsp\141\156\075'\173\143\157lspan\175\047><di\166\040id='\173\151\144}_in\163\145\162tfor\155\047 class\075\047kgrI\156\163\145rtFo\162\155\040\173i\156\160\165tfoc\165\163}'>\173h\145\141der}\173\166\141lidat\157\162\163}\173b\151\147tabl\145\175\173foo\164\145\162}</d\151\166></td\076\074/tr>"; $_iO6i="<di\166\040\143lass\075\047kgrFo\162\155\110eade\162\047>\173te\170\164}</d\151\166>"; $_il6j="<\144\151\166 clas\163\075\047kgr\106\157\162mFoo\164\145\162'>\173\142\165tto\156\163\175</di\166\076"; $_iO6j="<ul c\154\141\163s='k\147\162\126alid\141\164\157r'>\173\151\164ems\175\074/ul>"; $_il6k="<li><\154\141\142el fo\162\075\047\173i\144\175\047>\173\150\145ader}\072\040\173er\162\157\162}</l\141\142\145l></\154\151\076"; $_iO6k="\074table \163\164\171le='\164\141\142le-l\141\171\157ut:\146\151\170ed;\167\151dth:1\060\060%;'><\164\162\076\173bi\147\164able_\164\144s}</tr\076\074/tabl\145\076"; $_il6l="<td \163\164\171le='v\145\162\164ical\055\141lign: \164\157p;wid\164\150:\173w\151\144th}%'>\173\164\141ble\173\156\175}</td\076"; $_iO6l="<table s\164\171\154e='he\151\147ht:\173h\145\151ght}px\073\167idth\072\06100%;\047\076\173ct_\164\162s}</ta\142\154\145>"; $_iO4c="\074input ty\160\145\075'but\164\157\156' on\143\154ick='\173\157\156cli\143\153}' tit\154\145\075'\173\164\151\164le}'\040\143lass=\047\156\157deco\162\047/>"; $_iO5b="\074\141 href='j\141\166\141scri\160\164\072voi\144 0'\040oncl\151\143\153='\173\157\156cli\143\153}' t\151\164le=\047\173ti\164\154e}\047\076\173\164\145xt}<\057\141>"; $_il5c="<span cl\141\163\163= '\173\143\154ass}'\076\173button\175\173a}</s\160\141n> "; $_iO5x=043; $_il5y=""; if ($this->HeaderCaption != NULL) { $_il5y=_iO0("\173\164\145xt}",$this->HeaderCaption ,$_iO6i); } $_il4q=""; if ($this->_il5q !== NULL && $this->_il2w != "Sta\162\164\111nsert") { foreach ($this->_il2n->_iO30 as $_il31) { if (!$_il31->ReadOnly) { foreach ($_il31->_iO38 as $_il3b) { if (!$_il3b->validate($_il6c->DataItem[$_il31->DataField ],$_il6c->DataItem ,$_il6c,$_il31)) { $_il6m=_iO0("\173header}",$_il31->HeaderText ,$_il6k); $_il6m=_iO0("\173e\162\162\157r}",$_il3b->ErrorMessage ,$_il6m); $_il6m=_iO0("\173id}",$_il6c->_il2e."_".$_il31->_il2e."_\151\156\160ut",$_il6m); $_il4q.=$_il6m; } } } } } $_iO5z=_iO0("\173\151\164ems}",$_il4q,$_iO6j); $_il60=""; for ($_iO9=0; $_iO9<$this->ColumnNumber; $_iO9 ++) { $_iO60=_iO0("\173n}",$_iO9,$_il6l); $_iO60=_iO0("\173wid\164\150\175",(0144/$this->ColumnNumber),$_iO60); $_il60.=$_iO60; } $_il61=_iO0("\173\142\151\147tabl\145\137\164ds}",$_il60,$_iO6k); $_iO61=array(); $_il62=0; for ($_iO9=0; $_iO9<sizeof($this->_il2n->_iO30); $_iO9 ++) { $_il31=$this->_il2n->_iO30[$_iO9]; if (!$_il31->ReadOnly) { $_iO62=$_il31->_il3l($_il6c); array_push($_iO61,$_iO62); if (is_a($_il31,'gridfilecolumn')) $_il62 += 0245; if (is_a($_il31,'gridtextareacolumn') && !empty($_il31->BoxHeight)) $_il62 += intval($_il31->BoxHeight)-022; } } $_il63=ceil(sizeof($_iO61)/$this->ColumnNumber); for ($_iO9=0; $_iO9<$this->ColumnNumber; $_iO9 ++) { $_iO63=""; for ($_il64=0; $_il64<$_il63; $_il64 ++) { $_iO64=$_il63*$_iO9+$_il64; if ($_iO64<sizeof($_iO61)) { $_iO63.=$_iO61[$_iO64]; } } $_iO6m=_iO0("\173\143\164\137trs}",$_iO63,$_iO6l); $_iO6m=_iO0("\173\150\145\151ght}",$_iO5x*$_il63+$_il62,$_iO6m); if ($_iO63 == "") $_iO6m=""; $_il61=_iO0("\173tabl\145".$_iO9."\175",$_iO6m,$_il61); } $_il4e=_iO0("\173\143lass}","\153\147rConfirm",$_il5c); $_il4e=_iO0("\173\142utton}",$_iO4c,$_il4e); $_il4e=_iO0("\173a}",($this->ConfirmButtonText != NULL) ? $_iO5b: "",$_il4e); $_il4e=_iO0("\173onclic\153\175","\147\162id_confi\162\155_inser\164\050this)",$_il4e); $_il4e=_iO0("\173\164\151\164le}",$this->ConfirmButtonToolTip ,$_il4e); $_il4e=_iO0("\173text}",$this->ConfirmButtonText ,$_il4e); $_iO4e=_iO0("\173\143\154ass}","kgrC\141\156\143el",$_il5c); $_iO4e=_iO0("\173\142utton}",$_iO4c,$_iO4e); $_iO4e=_iO0("\173a\175",($this->CancelButtonText != NULL) ? $_iO5b: "",$_iO4e); $_iO4e=_iO0("\173onclic\153\175","grid\137\143\141ncel_\151\156\163ert(\164\150is)",$_iO4e); $_iO4e=_iO0("\173ti\164\154\145}",$this->CancelButtonToolTip ,$_iO4e); $_iO4e=_iO0("\173t\145\170\164}",$this->CancelButtonText ,$_iO4e); $_iO65=_iO0("\173bu\164\164\157ns}",$_il4e.$_iO4e,$_il6j); $_iO6h=_iO0("\173id}",$_il6c->_il2e ,$_il6i); $_iO6h=_iO0("\173header\175",$_il5y,$_iO6h); $_iO6h=_iO0("\173vali\144\141\164ors}",$_iO5z,$_iO6h); $_iO6h=_iO0("\173\142\151gtabl\145\175",$_il61,$_iO6h); $_iO6h=_iO0("\173footer}",$_iO65,$_iO6h); $_iO6h=_iO0("\173cols\160\141n}",sizeof($this->_il2n->_iO30),$_iO6h); switch (strtolower($this->InputFocus)) { case "\150\151degrid": $_iO6h=_iO0("\173\151nputfocu\163\175","kgr\111\156\160utFoc\165\163\040kgr\110\151\144eGr\151\144",$_iO6h); break; case "blurgr\151\144": $_iO6h=_iO0("\173\151\156putfo\143\165\163}","\153grInputF\157\143\165s kgr\102\154urGrid",$_iO6h); break; default : $_iO6h=_iO0("\173inputfo\143\165\163}","",$_iO6h); break; } break; } return $_iO6h; } } class gridgroup { var $_il6n; var $GroupField; var $Sort=1; var $Expand=TRUE; var $InfoTemplate; var $HeaderText; function __construct() { $this->_il6n =array(); } function addinfofield($_iO6n,$_il21=NULL) { array_push($this->_il6n ,array("\111nfoFiel\144" => $_iO6n,"Aggre\147\141\164e" => $_il21)); } function _il2t() { $_iO3h=new _iO39(); $_iO3h->_il6n =$this->_il6n; $_iO3h->GroupField =$this->GroupField; $_iO3h->Sort =$this->Sort; $_iO3h->Expand =$this->Expand; $_iO3h->InfoTemplate =$this->InfoTemplate; $_iO3h->HeaderText =$this->HeaderText; return $_iO3h; } } class _iO39 extends gridgroup implements _il29 { var $_il2e; var $_il2n; var $_iO2m; var $_iO3a; function _iO2c($_il2p) { if ($this->_iO3a !== NULL) { if ($this->GroupField === NULL) $this->GroupField =$this->_iO3a->DataField; if ($this->HeaderText === NULL) $this->HeaderText =$this->_iO3a->HeaderText; } $this->_il2n =$_il2p; $this->_iO2m =$_il2p->_iO2m; if ($this->HeaderText === NULL) $this->HeaderText =$this->GroupField; if ($this->InfoTemplate === NULL) $this->InfoTemplate =$this->HeaderText.": \173".$this->GroupField."}"; if (count($this->_il6n) == 0) $this->addinfofield($this->GroupField); } function _iO29() { if ( isset ($this->_iO2m->_il26[$this->_il2e ])) { $_iO2p=$this->_iO2m->_il26[$this->_il2e ]; $this->Sort =$_iO2p["Sort"]; $this->GroupField =$_iO2p["Group\106\151\145ld"]; $this->Expand =$_iO2p["Ex\160\141\156d"]; $this->InfoTemplate =$_iO2p["InfoTe\155\160\154ate"]; $this->_il6n =$_iO2p["\111\156foFields"]; $this->HeaderText =$_iO2p["\110eaderTex\164"]; } } function _iO2s() { $this->_iO29(); if ( isset ($this->_iO2m->_il26[$this->_il2e ])) { $_iO2p=$this->_iO2m->_il26[$this->_il2e ]; if ($_iO2p["\103olumnU\156\151\161ueID"] != NULL) { for ($_iO9=0; $_iO9<count($this->_il2n->_iO30); $_iO9 ++) { if ($_iO2p["\103olumn\125\156\151queID"] == $this->_il2n->_iO30[$_iO9]->_il2e) { $this->_iO3a =$this->_il2n->_iO30[$_iO9]; } } } } } function _il2a() { $this->_iO2m->_il26[$this->_il2e ]=array("\123\157rt" => $this->Sort ,"\105\170\160and" => $this->Expand ,"\107\162\157upFie\154\144" => $this->GroupField ,"\110\145\141derTe\170\164" => $this->HeaderText ,"\111\156\146oFiel\144\163" => $this->_il6n ,"In\146\157\124empla\164\145" => $this->InfoTemplate ,"\103olumnU\156\151\161ueID" => ($this->_iO3a) ? $this->_iO3a->_il2e : NULL); } function _il2v($_ilm) { if ( isset ($_ilm->_il2i[$this->_il2e ])) { $_iO2v=$_ilm->_il2i[$this->_il2e ]; switch ($_iO2v["Comm\141\156\144"]) { case "Sort": $this->Sort =$_iO2v["Args"]["So\162\164"]; $this->_il2n->_il2f =TRUE; break; } } } function _iO2f() { $_il4r="<\164\150\040id='\173\151\144}' c\154\141\163s='k\147\162Group\111\164em'\040\164itle='\173\164itle}'\076\074div c\154\141\163s='\153\147rIn'>\173\164\145xt}&\043\06160;\173\163\157\162t}</\144\151\166></t\150\076"; $_il6o="\074input cl\141\163\163='no\144\145\143or \153\147\162Sor\164\173dir}\047\040type=\047\142utton\047\040title=\047\173title}\047\040oncl\151\143\153='gr\151\144\137grou\160\151tem_so\162\164(\042\173\151\144}\042,\173\163\157rt})\047\040/>"; $_iO6o=($this->Sort <0) ? "\104\145sc": "Asc"; $_iO1j=_iO0("\173id}",$this->_il2e ,$_il6o); $_iO1j=_iO0("\173\144\151r}",$_iO6o,$_iO1j); $_iO1j=_iO0("\173title}",$this->_il2n->_il2b->Localization->_iO2i["\123\157rt".$_iO6o."Too\154\124\151p"],$_iO1j); $_iO1j=_iO0("\173sort}",-$this->Sort ,$_iO1j); $_il16=_iO0("\173id}",$this->_il2e ,$_il4r); $_il16=_iO0("\173\164\145xt}",$this->HeaderText ,$_il16); $_il16=_iO0("\173sor\164\175",$_iO1j,$_il16); $_il16=_iO0("\173\164itle}",$this->_il2n->_il2b->Localization->_iO2i["GroupIt\145\155\124ool\124\151p"],$_il16); return $_il16; } function _il6p() { $_iO1k=new _iO6p(); $_iO1k->Expand =$this->Expand; $_iO1k->_il6q =$this; return $_iO1k; } } class _iO6p implements _il29 { var $_il2e; var $_il2n; var $_il49; var $_iO6q; var $_iO2m; var $_il6r=0; var $_iO6r; var $_il6s; var $_il6q; var $_iO6s; var $Expand; function _iO2c($_il2p) { $this->_il2n =$_il2p; $this->_iO2m =$_il2p->_iO2m; $this->_il49 =array(); $this->_iO6q =array(); } function _iO2s() { $this->_iO29(); foreach ($this->_iO6q as $_iO1k) { $_iO1k->_iO2s(); } } function _il6t($_iO1s) { array_push($this->_il49 ,$_iO1s); $this->_iO6r =$_iO1s->DataItem[$this->_il6q->GroupField ]; } function _iO6t($_il1s) { $_il6u=$this->_il6r +1; if ( isset ($this->_il2n->_il3f[$_il6u])) { $_iO6u=$this->_il2n->_il3f[$_il6u]; $_iO1k=NULL; $_il6v=0; for ($_iO9=0; $_iO9<sizeof($_il1s); $_iO9 ++) { if ($_iO1k == NULL) { $_iO1k=$_iO6u->_il6p(); $_iO1k->_il2e =$this->_il2e."\137\147r".$_il6v; $_iO1k->_iO2c($this->_il2n); $_iO1k->_il6r =$_il6u; $_iO1k->_il6t($_il1s[$_iO9]); $_iO1k->_il6s =$this; array_push($this->_iO6q ,$_iO1k); } else { if ($_iO1k->_iO6r == $_il1s[$_iO9]->DataItem[$_iO1k->_il6q->GroupField ]) { $_iO1k->_il6t($_il1s[$_iO9]); } else { $_iO1k->_iO6t($_iO1k->_il49); $_iO1k=$_iO6u->_il6p(); $_il6v ++; $_iO1k->_il2e =$this->_il2e."\137gr".$_il6v; $_iO1k->_iO2c($this->_il2n); $_iO1k->_il6r =$_il6u; $_iO1k->_il6t($_il1s[$_iO9]); $_iO1k->_il6s =$this; array_push($this->_iO6q ,$_iO1k); } } if ($_iO9 == sizeof($_il1s)-1) { $_iO1k->_iO6t($_iO1k->_il49); } } } } function _iO29() { if ( isset ($this->_iO2m->_il26[$this->_il2e ])) { $_iO2p=$this->_iO2m->_il26[$this->_il2e ]; $this->Expand =$_iO2p["\105\170\160and"]; } } function _il2a() { if ($this->_il6r >-1) { $this->_iO2m->_il26[$this->_il2e ]=array("\105\170pand" => $this->Expand); } foreach ($this->_iO6q as $_iO1k) { $_iO1k->_il2a(); } } function _il2v($_ilm) { if ( isset ($_ilm->_il2i[$this->_il2e ])) { $_iO2v=$_ilm->_il2i[$this->_il2e ]; switch ($_iO2v["\103\157mmand"]) { case "Expand": $this->Expand =TRUE; break; case "\103ollaps\145": $this->Expand =FALSE; break; } } foreach ($this->_iO6q as $_iO1k) { $_iO1k->_il2v($_ilm); } if ($this->_il6q !== NULL) { $_iO6v=array(); $_il6w=array(); for ($_iO9=0; $_iO9<sizeof($this->_il6q->_il6n); $_iO9 ++) { $_iO6w=$this->_il6q->_il6n[$_iO9]; if ($_iO6w["\101\147gre\147ate"] == NULL) { $_iO6v[$_iO9]=$this->_il49[0]->DataItem[$_iO6w["InfoFi\145\154\144"]]; } else { $_iO6v[$_iO9]=""; array_push($_il6w,array("Key" => "\137".$_iO9,"\101\147\147regat\145" => $_iO6w["\101\147gregate"],"\104ataFie\154\144" => $_iO6w["\111\156\146oField"])); } } if (sizeof($_il6w)>0) { $_il6x=$this->_il2n->DataSource->Filters; $_iO6x=$this; while ($_iO6x !== $this->_il2n->_il6y) { $this->_il2n->DataSource->addfilter(new datasourcefilter($_iO6x->_il6q->GroupField ,"Equa\154",$_iO6x->_iO6r)); $_iO6x=$_iO6x->_il6s; } $this->_il2n->DataSource->arrangesorts($this->_il2n->MultiSortingOrder); $_iO1p=$this->_il2n->DataSource->getaggregates($_il6w); $_iO2x=$this->_il2n->DataSource->geterror(); if ($_iO2x != "") $this->_il2n->_il2b->EventHandler->ondatasourceerror($this,array("Er\162\157r" => $_iO2x)); if ($_iO1p !== NULL) { foreach ($_iO1p as $_iO27 => $_il28) { $_iO6v[_iO0("_","",$_iO27)]=$_il28; } } $this->_il2n->DataSource->Filters =$_il6x; } $this->_iO6s =$_iO6v; } } function _iO2f() { $_iO6y=""; if ($this->_il6r >-1) { $_il2y="<tr id\075\047\173id\175\047 clas\163\075\047kgr\107\162\157up'\076\173gro\165\160\137tds}\074\164d clas\163\075'kgrCe\154\154\047 c\157\154\163pan=\047\173colspa\156\175'><div\040\143lass='\153\147rIn' s\164\171\154e='w\150\151te-spa\143\145:nowr\141\160\073'><\163\160an cl\141\163\163='k\147\162\110eade\162\124ext' o\156\143lick=\047\147rid_g\162\157\165p_to\157\147le(th\151\163\051'>\173\143\157nten\164\175\074/sp\141\156\076</d\151\166></td\076\074/tr>"; $_il6z="<t\144\040\143lass\075\047kgrCel\154\047><div\040\143lass=\047\153grIn\047\040style\075\047white-\163\160ace:no\167\162ap;'>\173\163\151gn}<\057\144iv></\164\144\076"; $_iO6z="\074\163pan c\154\141\163s='\173\163\164atu\163\175\047 on\143\154ick='\147\162id_gr\157\165\160_too\147\154e(this\051\047></sp\141\156>"; $_iO2z=_iO0("\173\151\144\175",$this->_il2e ,$_il2y); $_il70=""; for ($_iO9=0; $_iO9<$this->_il6r; $_iO9 ++) { $_iO70=_iO0("\173\163ign}","\046\043160;",$_il6z); $_il70.=$_iO70; } $_il71=_iO0("\173\163tatus}",$this->Expand ? "\153grExpan\144": "kgr\103\157\154lapse",$_iO6z); $_iO70=_iO0("\173\163\151\147n}",$_il71,$_il6z); $_il70.=$_iO70; $_iO71=sizeof($this->_il2n->_iO30)-$this->_il6r -1; $_iO2z=_iO0("\173\147\162oup_t\144\163\175",$_il70,$_iO2z); $_iO2z=_iO0("\173cols\160\141\156}",$_iO71,$_iO2z); $_il72=$this->_il6q->InfoTemplate; for ($_iO9=0; $_iO9<sizeof($this->_il6q->_il6n); $_iO9 ++) { $_il72=_iO0("\173".$this->_il6q->_il6n[$_iO9]["Info\106\151\145ld"]."}",($this->_il6q->_iO3a !== NULL) ? $this->_il6q->_iO3a->format($this->_iO6s[$_iO9]): $this->_iO6s[$_iO9],$_il72); } $_iO2z=_iO0("\173cont\145\156t}",$_il72,$_iO2z); $_iO6y.=$_iO2z; if ($this->Expand) { if (sizeof($this->_iO6q)>0) { foreach ($this->_iO6q as $_iO1k) { $_iO6y.=$_iO1k->_iO2f(); } } else { foreach ($this->_il49 as $_iO1s) { $_iO6y.=$_iO1s->_iO2f(); } } } } else { foreach ($this->_iO6q as $_iO1k) { $_iO6y.=$_iO1k->_iO2f(); } } return $_iO6y; } } class _iO72 { var $PanelCssClass=""; var $ItemCssClass=""; var $ItemConnector="-"; function _il2t() { $_iO3h=new _il73(); $_iO3h->PanelCssClass =$this->PanelCssClass; $_iO3h->ItemCssClass =$this->ItemCssClass; $_iO3h->ItemConnector =$this->ItemConnector; return $_iO3h; } } class _il73 extends _iO72 { var $_il2e; var $_il2n; function _iO2c($_il2p) { $this->_il2n =$_il2p; } function _iO2f() { $_iO5l="<div id\075\047\173id\175\047\040cla\163\163='kgrG\162\157upPan\145\154' st\171\154e='pos\151\164\151on:r\145\154ative;\047\076<spa\156\076</spa\156\076\173indi\143\141tors}<\164\141\142le c\154\141ss='kg\162\107roupTa\142\154\145' st\171\154e='wid\164\150:100\045\073borde\162\055colla\160\163\145:col\154\141pse;'\076\074tr>\173\164\150s}<td \151\144='\173i\144\175_tail\047\040style\075\047width\072\06100%;'\076\173guide\164\145xt}</\164\144\076</t\162\076</tab\154\145\076</d\151\166>"; $_iO73="<\164\144\076\173ct\175\074/td>"; $_il74="<di\166\040\143lass\075\047kgrTop\111\156\144icat\157\162' sty\154\145='pos\151\164ion:a\142\163\157lut\145\073disp\154\141y:no\156\145;'\076</div\076\074div\040\143lass\075\047k\147\162Bot\164\157mIn\144\151ca\164\157r'\040\163tyle=\047\160ositio\156\072abso\154\165\164e;d\151\163\160lay\072\156\157ne;'\076\074/div>"; $_iO74=_iO0("\173c\164\175",$this->ItemConnector ,$_iO73); $_il75=""; $_iO1v=$this->_il2n->_il3f; for ($_iO9=0; $_iO9<sizeof($_iO1v); $_iO9 ++) { $_il75.=$_iO1v[$_iO9]->_iO2f(); if ($_iO9<sizeof($_iO1v)-1) { $_il75.=$_iO74; } } $_ilg=_iO0("\173\151\144}",$this->_il2e ,$_iO5l); $_ilg=_iO0("\173\164\150\163}",$_il75,$_ilg); $_ilg=_iO0("\173i\156\144\151cator\163\175",$_il74,$_ilg); $_ilg=_iO0("\173\147\165\151detex\164\175",(sizeof($_iO1v)>0) ? "\046\043160;": $this->_il2n->_il2b->Localization->_iO2i["\107roupPa\156\145\154Guide\124\145xt"],$_ilg); return $_ilg; } } class gridtableview { var $DataSource; var $DataKeyNames; var $Name; var $_il6d=array(); var $_iO30=array(); var $_il2u=array(); var $_il3f=array(); var $_il33; var $Pager; var $ShowHeader; var $ShowFooter; var $Width; var $Height; var $EditSettings; var $InsertSettings; var $RowAlternative; var $AllowHovering; var $AllowSelecting; var $AllowMultiSelecting; var $AllowEditing; var $AllowDeleting; var $AllowScrolling; var $AllowSorting; var $AllowResizing; var $AllowFiltering; var $AllowGrouping; var $SingleColumnSorting; var $VirtualScrolling; var $FrozenColumnsCount=0; var $PageSize; var $ShowFunctionPanel=FALSE; var $FunctionPanel; var $ShowGroupPanel=FALSE; var $GroupPanel; var $AutoGenerateRowSelectColumn; var $AutoGenerateExpandColumn; var $AutoGenerateColumns; var $AutoGenerateEditColumn; var $AutoGenerateDeleteColumn; var $DisableAutoGenerateDataFields; var $KeepRowStateOnRefresh; var $KeepSelectedRecords; var $ColumnWidth; var $ColumnWrap; var $ColumnAlign; var $_il3a; var $TableLayout; var $FilterOptions; var $FilterActions; var $_iO75; var $MultiSortingOrder='left-right'; var $_iO3g=0; var $_il3g=0; var $CssClasses=array(); function __construct($_il4y="") { $this->Name =$_il4y; $this->EditSettings =new _il5p(); $this->InsertSettings =new _iO6a(); $this->FunctionPanel =new _il76(); $this->GroupPanel =new _iO72(); } function addgroup($_iO1k) { array_push($this->_il3f ,$_iO1k); } function addcolumn($_iO1h) { array_push($this->_iO30 ,$_iO1h); } function adddetailtable($_il2p,$_iO32=NULL) { $_il2p->_il33 =$_iO32; array_push($this->_il2u ,$_il2p); } function addrelationfield($_iO76,$_il77) { array_push($this->_il6d ,array("\104etail" => $_iO76,"M\141\163\164er" => $_il77)); } function _il2t() { $_iO3h=new _iO77(); $_iO3h->Name =$this->Name; for ($_iO9=0; $_iO9<sizeof($this->_il3f); $_iO9 ++) { $_iO3h->_il3f[$_iO9]=$this->_il3f[$_iO9]->_il2t(); } $_il78=array(); for ($_iO9=0; $_iO9<sizeof($this->_iO30); $_iO9 ++) { $_iO3h->_iO30[$_iO9]=$this->_iO30[$_iO9]->createinstance(); if ($this->_iO30[$_iO9]->Group) { $_il78[$_iO9]=$this->_iO30[$_iO9]->GroupIndex; } } asort($_il78); foreach ($_il78 as $_iO9 => $_iO78) { $_iO3h->_il3f[]=$_iO3h->_iO30[$_iO9]->GroupSettings; } $_iO3h->_il2u =$this->_il2u; $_iO3h->_il6d =$this->_il6d; $_iO3h->_il33 =$this->_il33; if ($this->Pager != NULL) { $_iO3h->Pager =$this->Pager->_il2t(); } $_iO3h->DataSource =$this->DataSource; $_iO3h->ShowHeader =$this->ShowHeader; $_iO3h->ShowFooter =$this->ShowFooter; $_iO3h->Width =$this->Width; $_iO3h->Height =$this->Height; $_iO3h->EditSettings =$this->EditSettings; $_iO3h->InsertSettings =$this->InsertSettings; $_iO3h->AllowHovering =$this->AllowHovering; $_iO3h->AllowEditing =$this->AllowEditing; $_iO3h->AllowDeleting =$this->AllowDeleting; $_iO3h->AllowSelecting =$this->AllowSelecting; $_iO3h->AllowMultiSelecting =$this->AllowMultiSelecting; $_iO3h->AllowScrolling =$this->AllowScrolling; $_iO3h->AllowSorting =$this->AllowSorting; $_iO3h->AllowResizing =$this->AllowResizing; $_iO3h->AllowFiltering =$this->AllowFiltering; $_iO3h->AllowGrouping =$this->AllowGrouping; $_iO3h->MultiSortingOrder =$this->MultiSortingOrder; $_iO3h->_iO3g =$this->_iO3g; $_iO3h->_il3g =$this->_il3g; $_iO3h->SingleColumnSorting =$this->SingleColumnSorting; $_iO3h->VirtualScrolling =$this->VirtualScrolling; $_iO3h->FrozenColumnsCount =$this->FrozenColumnsCount; $_iO3h->RowAlternative =$this->RowAlternative; $_iO3h->AutoGenerateRowSelectColumn =$this->AutoGenerateRowSelectColumn; $_iO3h->AutoGenerateExpandColumn =$this->AutoGenerateExpandColumn; $_iO3h->AutoGenerateColumns =$this->AutoGenerateColumns; $_iO3h->AutoGenerateEditColumn =$this->AutoGenerateEditColumn; $_iO3h->AutoGenerateDeleteColumn =$this->AutoGenerateDeleteColumn; $_iO3h->DisableAutoGenerateDataFields =$this->DisableAutoGenerateDataFields; $_iO3h->KeepRowStateOnRefresh =$this->KeepRowStateOnRefresh; $_iO3h->KeepSelectedRecords =$this->KeepSelectedRecords; $_iO3h->DataKeyNames =$this->DataKeyNames; $_iO3h->PageSize =$this->PageSize; $_iO3h->ShowFunctionPanel =$this->ShowFunctionPanel; $_iO3h->FunctionPanel =$this->FunctionPanel; $_iO3h->ShowGroupPanel =$this->ShowGroupPanel; $_iO3h->GroupPanel =$this->GroupPanel->_il2t(); $_iO3h->ColumnWidth =$this->ColumnWidth; $_iO3h->ColumnWrap =$this->ColumnWrap; $_iO3h->ColumnAlign =$this->ColumnAlign; $_iO3h->_il3a =$this->_il3a; $_iO3h->TableLayout =$this->TableLayout; $_iO3h->FilterOptions =$this->FilterOptions; $_iO3h->FilterActions =$this->FilterActions; $_iO3h->CssClasses =$this->CssClasses; return $_iO3h; } } class _iO77 extends gridtableview implements _il29 { var $_il2b; var $_iO6c; var $_il2e; var $_iO2m; var $Grid; var $ParentRow; var $_il49=array(); var $_il79=0; var $_il2f=FALSE; var $_iO79=FALSE; var $_il7a=0; var $_iO7a=0; var $_il7b=NULL; var $_il6h=FALSE; var $_iO7b; var $_il7c; var $_il6y; var $_iO7c; var $SelectedKeys=array(); var $_il6d; function _il7d() { return $this->_il2e; } function _iO2c($_il2d,$_iO7d) { $this->_il2b =$_il2d; $this->_iO6c =$_iO7d; $this->Grid =$_il2d; $this->ParentRow =$_iO7d; $this->_iO2m =$_il2d->_iO2m; if ($this->KeepSelectedRecords === NULL) $this->KeepSelectedRecords =$this->_il2b->KeepSelectedRecords; if ($this->KeepRowStateOnRefresh === NULL) $this->KeepRowStateOnRefresh =$this->_il2b->KeepRowStateOnRefresh; if ($this->AllowHovering === NULL) $this->AllowHovering =$this->_il2b->AllowHovering; if ($this->AllowEditing === NULL) $this->AllowEditing =$this->_il2b->AllowEditing; if ($this->AllowDeleting === NULL) $this->AllowDeleting =$this->_il2b->AllowDeleting; if ($this->AllowSelecting === NULL) $this->AllowSelecting =$this->_il2b->AllowSelecting; if ($this->AllowMultiSelecting === NULL) $this->AllowMultiSelecting =$this->_il2b->AllowMultiSelecting; if ($this->AllowScrolling === NULL) $this->AllowScrolling =$this->_il2b->AllowScrolling; if ($this->AllowSorting === NULL) $this->AllowSorting =$this->_il2b->AllowSorting; if ($this->AllowResizing === NULL) $this->AllowResizing =$this->_il2b->AllowResizing; if ($this->AllowFiltering === NULL) $this->AllowFiltering =$this->_il2b->AllowFiltering; if ($this->AllowGrouping === NULL) $this->AllowGrouping =$this->_il2b->AllowGrouping; if ($this->SingleColumnSorting === NULL) $this->SingleColumnSorting =$this->_il2b->SingleColumnSorting; if ($this->VirtualScrolling === NULL) $this->VirtualScrolling =$this->_il2b->VirtualScrolling; if ($this->ShowHeader === NULL) $this->ShowHeader =$this->_il2b->ShowHeader; if ($this->ShowFooter === NULL) $this->ShowFooter =$this->_il2b->ShowFooter; if ($this->RowAlternative === NULL) $this->RowAlternative =$this->_il2b->RowAlternative; if ($this->PageSize === NULL) $this->PageSize =$this->_il2b->PageSize; if ($this->DataSource === NULL) $this->DataSource =$this->_il2b->DataSource; $this->DataSource->setcharset($this->_il2b->CharSet); if ($this->Width === NULL) $this->Width ="\06100%"; if ($_iO7d == NULL) { if ($this->Height === NULL) $this->Height =$this->_il2b->Height; } if ($this->AutoGenerateRowSelectColumn === NULL) $this->AutoGenerateRowSelectColumn =$this->_il2b->AutoGenerateRowSelectColumn; if ($this->AutoGenerateExpandColumn === NULL) $this->AutoGenerateExpandColumn =$this->_il2b->AutoGenerateExpandColumn; if ($this->AutoGenerateColumns === NULL) $this->AutoGenerateColumns =$this->_il2b->AutoGenerateColumns; if ($this->AutoGenerateEditColumn === NULL) $this->AutoGenerateEditColumn =$this->_il2b->AutoGenerateEditColumn; if ($this->AutoGenerateDeleteColumn === NULL) $this->AutoGenerateDeleteColumn =$this->_il2b->AutoGenerateDeleteColumn; if ($this->DisableAutoGenerateDataFields === NULL) $this->DisableAutoGenerateDataFields =$this->_il2b->DisableAutoGenerateDataFields; if ($this->ColumnWrap === NULL) $this->ColumnWrap =$this->_il2b->ColumnWrap; if ($this->ColumnAlign === NULL) $this->ColumnAlign =$this->_il2b->ColumnAlign; if ($this->_il3a === NULL) $this->_il3a =$this->_il2b->_il3a; if ($this->TableLayout === NULL) $this->TableLayout =$this->_il2b->TableLayout; if ($this->FilterOptions === NULL) $this->FilterOptions =$this->_il2b->FilterOptions; if ($this->FilterActions === NULL) $this->FilterActions =$this->_il2b->FilterActions; if ($this->AllowMultiSelecting) { $this->AllowSelecting =TRUE; } if ($this->AutoGenerateRowSelectColumn) { $_il7e=new gridrowselectcolumn(); $_il7e->Align ="\143\145nter"; $_il6=array($_il7e); $this->_iO30 =array_merge($_il6,$this->_iO30); } if ($this->AutoGenerateExpandColumn) { $_iO7e=new gridexpanddetailcolumn(); $_iO7e->Align ="center"; $_il6=array($_iO7e); $this->_iO30 =array_merge($_il6,$this->_iO30); } if ($this->AutoGenerateColumns) { $_iO1q=$this->DataSource->getfields(); $_iO2x=$this->DataSource->geterror(); if ($_iO2x != "") $this->_il2b->EventHandler->ondatasourceerror($this,array("\105rror" => $_iO2x)); $_il7f=$this->DisableAutoGenerateDataFields.","; foreach ($_iO1q as $_iO1d) { if (strpos($_il7f,$_iO1d["Name"]."\054") === FALSE) { $_il31=new gridboundcolumn(); $_il31->HeaderText =$_iO1d["\116\141me"]; $_il31->DataField =$_iO1d["\116ame"]; if ($_iO1d["\116ot_Nul\154"] == 1) { $_il31->addvalidator(new requiredfieldvalidator()); } $this->addcolumn($_il31); } } } if ($this->AutoGenerateEditColumn) { $_iO7f=new grideditdeletecolumn(); $_iO7f->Align ="ce\156\164er"; $_iO7f->ShowDeleteButton =FALSE; $this->addcolumn($_iO7f); } if ($this->AutoGenerateDeleteColumn) { $_il7g=new grideditdeletecolumn(); $_il7g->Align ="\143\145nter"; $_il7g->ShowEditButton =FALSE; $this->addcolumn($_il7g); } for ($_iO9=0; $_iO9<sizeof($this->_iO30); $_iO9 ++) { $this->_iO30[$_iO9]->_il2e =$this->_il2e."\137\143".$_iO9; $this->_iO30[$_iO9]->_iO2c($this); } if ($this->Pager != NULL) { $this->Pager->_il2e =$this->_il2e."_pg"; $this->Pager->_iO2c($this); } $this->FunctionPanel->_iO2c($this); $this->GroupPanel->_il2e =$this->_il2e."_\147\160"; $this->GroupPanel->_iO2c($this); for ($_iO9=0; $_iO9<sizeof($this->_il3f); $_iO9 ++) { $this->_il3f[$_iO9]->_il2e =$this->_il2e."_\147\155".$_iO9; $this->_il3f[$_iO9]->_iO2c($this); } } function getparentrow() { return $this->_iO6c; } function _iO29() { if ( isset ($this->_iO2m->_il26[$this->_il2e ])) { $_iO2p=$this->_iO2m->_il26[$this->_il2e ]; $this->Width =$_iO2p["Widt\150"]; $this->_il7c =$_iO2p["Ta\142\154ePa\162\164Wi\144\164h"]; $this->_il79 =$_iO2p["R\157wsCo\165\156t"]; $this->_il6h =$_iO2p["\111\156serting"]; $this->_il7a =$_iO2p["scro\154\154\124op"]; $this->_iO7a =$_iO2p["sc\162\157llLeft"]; if ( isset ($_iO2p["\123\145lectedK\145\171s"])) { $this->SelectedKeys =$_iO2p["\123elec\164\145\144Keys"]; } if ( isset ($_iO2p["\120artData\110\145\151ght"])) { $this->_il7b =$_iO2p["\120\141rtData\110\145ight"]; } $this->_iO7c =$_iO2p["Gro\165\160Size"]; } if ($this->Pager != NULL) { $this->Pager->_iO29(); } for ($_iO9=0; $_iO9<sizeof($this->_iO30); $_iO9 ++) { $this->_iO30[$_iO9]->_iO29(); } } function _il2a() { $this->_iO2m->_il26[$this->_il2e ]=array("RowsCou\156\164" => sizeof($this->_il49),"Name" => $this->Name ,"\123electe\144\113eys" => $this->SelectedKeys ,"Ins\145\162\164ing" => $this->_il6h ,"Allo\167\110\157veri\156\147" => $this->AllowHovering ,"\101llowSel\145\143ting" => $this->AllowSelecting ,"\101llowMu\154\164\151Sele\143\164ing" => $this->AllowMultiSelecting ,"Allow\123\143\162olli\156\147" => $this->AllowScrolling ,"\126\151rtualS\143\162olling" => $this->VirtualScrolling ,"\106rozenCo\154\165\155nsCo\165\156t" => $this->FrozenColumnsCount ,"s\143\162ollTop" => $this->_il7a ,"scrollL\145\146\164" => $this->_iO7a ,"Wid\164\150" => $this->Width ,"Tabl\145\120\141rtWi\144\164h" => $this->_il7c ,"\107\162\157upSiz\145" => sizeof($this->_il3f),); if ($this->Pager != NULL) { $this->Pager->_il2a(); } for ($_iO9=0; $_iO9<sizeof($this->_iO30); $_iO9 ++) { $this->_iO30[$_iO9]->_il2a(); } for ($_iO9=0; $_iO9<sizeof($this->_il49); $_iO9 ++) { $this->_il49[$_iO9]->_il2a(); } for ($_iO9=0; $_iO9<sizeof($this->_il3f); $_iO9 ++) { $this->_il3f[$_iO9]->_il2a(); } if ($this->_il6y !== NULL) { $this->_il6y->_il2a(); } } function _il6t($_iO1s) { $_iO1s->_il2e =$this->_il2e."\137r".sizeof($this->_il49); $_iO1s->_iO2c($this); array_push($this->_il49 ,$_iO1s); } function _iO2s() { $this->_iO29(); if ($this->_il6h) { $this->_iO7b =$this->InsertSettings->_il2t(); $this->_iO7b->_iO2c($this); } for ($_iO9=0; $_iO9<$this->_il79; $_iO9 ++) { $_iO1s=new gridrow(); $this->_il6t($_iO1s); $_iO1s->_iO2s(); } if ($this->_iO7c !== NULL) { $this->_il3f =array(); for ($_iO9=0; $_iO9<$this->_iO7c; $_iO9 ++) { $_iO6u=new _iO39(); $_iO6u->_il2e =$this->_il2e."\137\147m".$_iO9; $_iO6u->_iO2c($this); $_iO6u->_iO2s(); array_push($this->_il3f ,$_iO6u); } } else { $this->_iO7c =sizeof($this->_il3f); } } function refresh() { $this->_iO79 =TRUE; $this->_il2f =TRUE; } function _il2v($_ilm) { if (! isset ($this->_iO2m->_il26[$this->_il2e ])) { $this->_il2f =TRUE; } foreach ($this->_il3f as $_iO1k) { $_iO1k->_il2v($_ilm); } $this->DataSource->clear(); if ( isset ($_ilm->_il2i[$this->_il2e ])) { $_iO2v=$_ilm->_il2i[$this->_il2e ]; switch ($_iO2v["Comm\141\156d"]) { case "Start\111\156\163ert": if ($this->_il2b->EventHandler->onbeforestartinsert($this,array()) == TRUE) { $this->_il6h =TRUE; $this->_iO7b =$this->InsertSettings->_il2t(); $this->_iO7b->_iO2c($this); $this->_iO7b->_il2w ="\123tartIns\145\162\164"; $this->_il2b->EventHandler->onstartinsert($this,array()); } break; case "Confir\155\111\156sert": $this->_iO7b->_il2w ="\103onfirmI\156\163ert"; $this->_iO7b->_iO6b(); break; case "\103\141ncelI\156\163ert": if ($this->_il2b->EventHandler->onbeforecancelinsert($this,array()) == TRUE) { $this->_il6h =FALSE; $this->_il2b->EventHandler->oncancelinsert($this,NULL); } break; case "\122\145fresh": $this->refresh(); break; case "AddGro\165\160": $_iO7g=$_iO2v["\101\162gs"]["\107\162oupFiel\144"]; $_il3e=$_iO2v["\101\162gs"]["Posit\151\157\156"]; if ($this->_il2b->EventHandler->onbeforeaddgroup($this,array("\120\157sition" => $_il3e)) == TRUE) { $_il7h=TRUE; foreach ($this->_il3f as $_iO1k) { if ($_iO1k->GroupField == $_iO7g) { $_il7h=FALSE; } } if ($_il7h) { $_iO3e=new _iO39(); $_iO3e->GroupField =$_iO7g; $_iO3e->addinfofield($_iO7g); foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->DataField == $_iO7g) { $_iO3e->HeaderText =$_iO1h->HeaderText; } } $_iO3e->_iO2c($this); if ($_il3e === NULL || ($_il3e>=sizeof($this->_il3f))) { array_push($this->_il3f ,$_iO3e); } else { $_iO3f=array(); for ($_iO9=0; $_iO9<sizeof($this->_il3f); $_iO9 ++) { if ($_il3e == $_iO9) { array_push($_iO3f,$_iO3e); } array_push($_iO3f,$this->_il3f[$_iO9]); } $this->_il3f =$_iO3f; } for ($_iO9=0; $_iO9<sizeof($this->_il3f); $_iO9 ++) { $this->_il3f[$_iO9]->_il2e =$this->_il2e."_g\155".$_iO9; } } $this->_il2b->EventHandler->onaddgroup($this,array("Posit\151\157\156" => $_il3e)); $this->refresh(); } break; case "Chan\147\145\107roup\117\162der": $_iO7g=$_iO2v["\101\162gs"]["\107rou\160\106iel\144"]; $_iO7h=$_iO2v["\101rg\163"]["\120osit\151\157n"]; if ($this->_il2b->EventHandler->onbeforechangegrouporder($this,array("Gr\157\165\160Fiel\144" => $_iO7g,"Positio\156" => $_iO7h)) == TRUE) { $_il7i=0; for ($_iO9=0; $_iO9<sizeof($this->_il3f); $_iO9 ++) { if ($this->_il3f[$_iO9]->GroupField == $_iO7g) { $_il7i=$_iO9; } } if ($_iO7h === NULL || $_iO7h>=sizeof($this->_il3f)) { $_iO7h=sizeof($this->_il3f); } $_iO3f=array(); for ($_iO9=0; $_iO9<=sizeof($this->_il3f); $_iO9 ++) { if ($_iO9 == $_iO7h) { array_push($_iO3f,$this->_il3f[$_il7i]); } if ($_iO9 != $_il7i && $_iO9<sizeof($this->_il3f)) { array_push($_iO3f,$this->_il3f[$_iO9]); } } $this->_il3f =$_iO3f; for ($_iO9=0; $_iO9<sizeof($this->_il3f); $_iO9 ++) { $this->_il3f[$_iO9]->_il2e =$this->_il2e."\137gm".$_iO9; } $this->_il2b->EventHandler->onchangegrouporder($this,array("\107\162oupFiel\144" => $_iO7g,"\120\157\163ition" => $_iO7h)); $this->refresh(); } break; case "\122emoveG\162\157\165p": $_iO7g=$_iO2v["\101\162gs"]["Gro\165\160\106ield"]; if ($this->_il2b->EventHandler->onbeforeremovegroup($this,array("GroupFi\145\154\144" => $_iO7g)) == TRUE) { $_iO3f=array(); for ($_iO9=0; $_iO9<sizeof($this->_il3f); $_iO9 ++) { if ($this->_il3f[$_iO9]->GroupField != $_iO7g) { array_push($_iO3f,$this->_il3f[$_iO9]); } } $this->_il3f =$_iO3f; for ($_iO9=0; $_iO9<sizeof($this->_il3f); $_iO9 ++) { $this->_il3f[$_iO9]->_il2e =$this->_il2e."_gm".$_iO9; } $this->_il2b->EventHandler->onremovegroup($this,array("Gro\165\160\106ield" => $_iO7g)); } break; } } if ($this->_iO6c !== NULL) { if ($this->_iO6c->_il2n->_iO79 && $this->_iO6c->_il2n->KeepRowStateOnRefresh) { $this->refresh(); } } $this->_il2b->EventHandler->ontableviewprerender($this,array()); foreach ($this->_iO30 as $_iO1h) { $_iO1h->_il2v($_ilm); } if (sizeof($this->_il3f)>0) { $_il6=array(); for ($_iO9=0; $_iO9<sizeof($this->_il3f); $_iO9 ++) { $this->DataSource->addsort(new datasourcesort($this->_il3f[$_iO9]->GroupField ,($this->_il3f[$_iO9]->Sort <0) ? "DESC": "A\123\103")); $_iO7i=new _il4f(); $_iO7i->_il2e =$this->_il2e."\137\147c".$_iO9; $_iO7i->_iO2c($this); array_push($_il6,$_iO7i); } $this->_iO30 =array_merge($_il6,$this->_iO30); } foreach ($this->_il49 as $_iO1s) { $_iO1s->_il2v($_ilm); } if ($this->_iO6c != NULL) { foreach ($this->_il6d as $_iO1d) { $this->DataSource->addfilter(new datasourcefilter($_iO1d["\104eta\151\154"],"E\161\165\141l",$this->_iO6c->DataItem[$_iO1d["\115\141ster"]])); } } if ($this->Pager != NULL) { $this->Pager->_iO52 =$this->DataSource->count(); $_iO2x=$this->DataSource->geterror(); if ($_iO2x != "") $this->_il2b->EventHandler->ondatasourceerror($this,array("\105rr\157\162" => $_iO2x)); $this->Pager->_il2v($_ilm); } $_il7j=array(); if ($this->KeepSelectedRecords && $this->DataKeyNames !== NULL) { foreach ($this->SelectedKeys as $_iO7j) { $_il7j[_iO15($_iO7j)]=$_iO7j; } foreach ($this->_il49 as $_iO1s) { $_iO7j=_il13($_iO1s->DataItem ,$this->DataKeyNames); $_il7k=_iO15($_iO7j); if ($_iO1s->Selected) { $_il7j[$_il7k]=$_iO7j; } else { if ( isset ($_il7j[$_il7k])) { unset ($_il7j[$_il7k]); } } } } if ($this->_il2f) { $_il27=array(); $this->DataSource->arrangesorts($this->MultiSortingOrder); if ($this->Pager != NULL) { $_il27=$this->DataSource->getdata($this->Pager->_il54(),$this->Pager->PageSize); } else { $_il27=$this->DataSource->getdata(); } $_iO2x=$this->DataSource->geterror(); if ($_iO2x != "") $this->_il2b->EventHandler->ondatasourceerror($this,array("\105rror" => $_iO2x)); $_iO7k=array(); if ($this->_iO79 && $this->KeepRowStateOnRefresh && $this->DataKeyNames !== NULL) { foreach ($this->_il49 as $_iO1s) { $_iO7j=_il13($_iO1s->DataItem ,$this->DataKeyNames); $_il7k=_iO15($_iO7j); $_iO7k[$_il7k]=$_iO1s; } } $this->_il49 =array(); for ($_iO9=0; $_iO9<sizeof($_il27); $_iO9 ++) { $_iO1s=new gridrow(); $_iO1s->DataItem =$_il27[$_iO9]; if ($this->_iO79 && $this->KeepRowStateOnRefresh && $this->DataKeyNames !== NULL) { $_iO7j=_il13($_iO1s->DataItem ,$this->DataKeyNames); $_il7k=_iO15($_iO7j); if ($_iO7k[$_il7k] !== NULL) { $_il7l=$_iO1s->DataItem; $_iO1s=$_iO7k[$_il7k]; $_iO1s->DataItem =$_il7l; } } $this->_il6t($_iO1s); $_iO1s->_il2v($_ilm); } $_il6w=array(); foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->Aggregate !== NULL) { array_push($_il6w,array("K\145\171" => $_iO1h->_il2e ,"Aggre\147\141te" => $_iO1h->Aggregate ,"DataFi\145\154\144" => $_iO1h->DataFieldPrefix.$_iO1h->DataField)); } } $_iO1p=NULL; if (sizeof($_il6w)>0) { $this->DataSource->arrangesorts($this->MultiSortingOrder); $_iO1p=$this->DataSource->getaggregates($_il6w); } $_iO2x=$this->DataSource->geterror(); if ($_iO2x != "") $this->_il2b->EventHandler->ondatasourceerror($this,array("Er\162\157r" => $_iO2x)); if ($_iO1p !== NULL) { foreach ($this->_iO30 as $_iO1h) { if ( isset ($_iO1p[$_iO1h->_il2e ])) { $_iO1h->_il39 =$_iO1p[$_iO1h->_il2e ]; } } } } $this->SelectedKeys =array(); if ($this->KeepSelectedRecords && $this->DataKeyNames !== NULL) { if ($this->_il2f) { foreach ($this->_il49 as $_iO1s) { $_iO7j=_il13($_iO1s->DataItem ,$this->DataKeyNames); $_il7k=_iO15($_iO7j); if ( isset ($_il7j[$_il7k])) { $_iO1s->Selected =TRUE; } } } foreach ($_il7j as $_iO7j) { array_push($this->SelectedKeys ,$_iO7j); } } else { foreach ($this->_il49 as $_iO1s) { if ($_iO1s->Selected) { $_iO7j=_il13($_iO1s->DataItem ,$this->DataKeyNames); array_push($this->SelectedKeys ,$_iO7j); } } } if (sizeof($this->_il3f)>0) { $this->_il6y =new _iO6p(); $this->_il6y->_il2e =$this->_il2e."_rg"; $this->_il6y->_iO2c($this); $this->_il6y->_il6r =-1; $this->_il6y->_iO6t($this->_il49); $this->_il6y->_iO2s(); $this->_il6y->_il2v($_ilm); } } function getinstancerows() { return $this->_il49; } function getinstancecolumns() { return $this->_iO30; } function getrelationfields() { return $this->_il6d; } function getcsvdata() { $_il1x=$this->_il2b->ExportSettings; $_il1m=''; $_il1z=TRUE; foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { if (!$_il1z) $_il1m.=$_il1x->_iO1z; $_il1m.=$_il1x->_il20.$_iO1h->HeaderText.$_il1x->_il20; $_il1z=FALSE; } } $_il1m.="\015\n"; if ($_il1x->IgnorePaging) { $this->DataSource->arrangesorts($this->MultiSortingOrder); $_iO7l=$this->DataSource->getdata(); $_iO2x=$this->DataSource->geterror(); if ($_iO2x != "") $this->_il2b->EventHandler->ondatasourceerror($this,array("\105rror" => $_iO2x)); foreach ($_iO7l as $_il2q) { $_iO1s=new gridrow(); $_iO1s->DataItem =$_il2q; $_il1z=TRUE; foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { if (!$_il1z) $_il1m.=$_il1x->_iO1z; $_il1m.=$_il1x->_il20.$_iO1h->renderexport($_iO1s).$_il1x->_il20; $_il1z=FALSE; } } $_il1m.="\015\n"; } } else { foreach ($this->_il49 as $_iO1s) { $_il1z=TRUE; foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { if (!$_il1z) $_il1m.=$_il1x->_iO1z; $_il1m.=$_il1x->_il20.$_iO1h->renderexport($_iO1s).$_il1x->_il20; $_il1z=FALSE; } } $_il1m.="\015\n"; } } return $_il1m; } function exporttocsv() { $_il1x=$this->_il2b->ExportSettings; header("\120ragma: p\165\142lic"); header("\105\170\160ires:\040\060"); header("Cach\145\055\103ontro\154\072 must\055\162evalid\141\164e, po\163\164-che\143\153\0750, \160\162\145-che\143\153\0750"); header("\103ache-Co\156\164\162ol: \160\165blic"); header("Content\055\104\145scri\160\164\151on: \106\151\154e Tr\141\156sfe\162"); header("Conten\164\055\124ype: \141\160\160lica\164\151on/oct\145\164-stre\141\155"); header("\103\157ntent-\104\151\163posi\164\151on: at\164\141\143hme\156\164; fil\145\156ame=\042".$_il1x->FileName."\056\143\163v\042"); header("\103\157\156tent-\124\162\141nsfe\162\055Encodi\156\147: bin\141\162y"); $_il1m=$this->getcsvdata(); echo $_il1m; exit; } function exporttoexcel($_il7m='') { error_reporting(0); if (!class_exists("PHP\105\170cel",FALSE)) { $_iO7m=dirname(dirname( __FILE__)); require_once $_iO7m.'/library/PHPExcel/Classes/PHPExcel.php'; require_once $_iO7m.'/library/PHPExcel/Classes/PHPExcel/Cell.php'; require_once $_iO7m.'/library/PHPExcel/Classes/PHPExcel/IOFactory.php'; } $_il1x=$this->_il2b->ExportSettings; $_il7n=new phpexcel(); $_il7n->setactivesheetindex(0); $_iO7n=0; $_il7o=1; $_iO7o=array(); foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { $_il46=phpexcel_cell::stringfromcolumnindex($_iO7n).$_il7o; $_il7n->getactivesheet()->setcellvalue($_il46,$_iO1h->HeaderText); $_il7n->getactivesheet()->getstyle($_il46)->getalignment()->sethorizontal(phpexcel_style_alignment::HORIZONTAL_LEFT); $_il7n->getactivesheet()->getstyle($_il46)->getfont()->setbold(TRUE); $_iO7o[$_iO7n]=strlen($_iO1h->HeaderText); $_iO7n ++; } } $_il7o ++; $_iO7n=0; if ($_il1x->IgnorePaging) { $this->DataSource->arrangesorts($this->MultiSortingOrder); $_iO7l=$this->DataSource->getdata(); $_iO2x=$this->DataSource->geterror(); if ($_iO2x != "") $this->_il2b->EventHandler->ondatasourceerror($this,array("Error" => $_iO2x)); foreach ($_iO7l as $_il2q) { $_iO1s=new gridrow(); $_iO1s->DataItem =$_il2q; foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { $_il3=$_iO1h->renderexport($_iO1s); $_il46=phpexcel_cell::stringfromcolumnindex($_iO7n).$_il7o; $_il7n->getactivesheet()->setcellvalue($_il46,$_il3); $_il7n->getactivesheet()->getstyle($_il46)->getalignment()->sethorizontal(phpexcel_style_alignment::HORIZONTAL_LEFT); if ($_iO7o[$_iO7n]<strlen( "$_il3")) { $_iO7o[$_iO7n]=strlen( "$_il3"); } $_iO7n ++; } } $_il7o ++; $_iO7n=0; } } else { foreach ($this->_il49 as $_iO1s) { foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { $_il3=$_iO1h->renderexport($_iO1s); $_il46=phpexcel_cell::stringfromcolumnindex($_iO7n).$_il7o; $_il7n->getactivesheet()->setcellvalue($_il46,$_il3); $_il7n->getactivesheet()->getstyle($_il46)->getalignment()->sethorizontal(phpexcel_style_alignment::HORIZONTAL_LEFT); if ($_iO7o[$_iO7n]<strlen( "$_il3")) { $_iO7o[$_iO7n]=strlen( "$_il3"); } $_iO7n ++; } } $_il7o ++; $_iO7n=0; } } for ($_iO9=0; $_iO9<sizeof($_iO7o); $_iO9 ++) { $_il7n->getactivesheet()->getcolumndimensionbycolumn($_iO9)->setwidth((($_iO7o[$_iO9]<055) ? $_iO7o[$_iO9]: 055)+5); } header('Content-Type: application/vnd.ms-excel'); header('Content-Disposition: attachment;filename="'.$_il1x->FileName.'.xls"'); header('Cache-Control: max-age=0'); header('Cache-Control: max-age=1'); header('Last-Modified: '.gmdate('D, d M Y H:i:s').' GMT'); header('Cache-Control: cache, must-revalidate'); header('Pragma: public'); $_il7p=phpexcel_iofactory::createwriter($_il7n,'Excel5'); $_il7p->save('php://output'); exit; } function quickexporttoexcel() { error_reporting(0); if (!class_exists("PHPExce\154",FALSE)) { $_iO7m=dirname(dirname( __FILE__)); require_once $_iO7m.'/library/PHPExcel/Classes/PHPExcel.php'; require_once $_iO7m.'/library/PHPExcel/Classes/PHPExcel/Cell.php'; require_once $_iO7m.'/library/PHPExcel/Classes/PHPExcel/IOFactory.php'; } $_il1x=$this->_il2b->ExportSettings; $_il1m=$this->getcsvdata(); $_iO7p='file.csv'; $_il7q=fopen($_iO7p,'w') or exit ('Cannot open file:  '.$_iO7p); fwrite($_il7q,$_il1m); $_iO7q=phpexcel_iofactory::createreader('CSV'); $_iO7q->setdelimiter($_il1x->_iO1z); $_il7r=$_iO7q->load($_iO7p); $_iO7r=phpexcel_iofactory::createwriter($_il7r,'Excel5'); header('Content-Type: application/vnd.ms-excel'); header('Content-Disposition: attachment;filename="'.$_il1x->FileName.'.xls"'); header('Cache-Control: max-age=0'); header('Cache-Control: max-age=1'); header('Last-Modified: '.gmdate('D, d M Y H:i:s').' GMT'); header('Cache-Control: cache, must-revalidate'); header('Pragma: public'); $_iO7r->save('php://output'); fclose($_il7q); unlink($_iO7p); exit; } function _il7s($_iO7s,$_il7t) { error_reporting(0); $_il1x=$this->_il2b->ExportSettings; $_iO7t=$_iO7s.'/'.$_il1x->FileName.'.csv'; $_il7u=$_il7t.'/'.$_il1x->FileName.'.csv'; unlink($_il7u); $_iO1x=array(); foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { array_push($_iO1x,array('HeaderText' => $_iO1h->HeaderText ,'DataField' => $_iO1h->DataField)); } } $this->DataSource->exportdata($_il1x,$_iO1x,$_iO7t); header("\120r\141\147ma:\040publ\151\143"); header("Ex\160\151res\072 0"); header("\103ach\145\055Co\156\164rol\072 mu\163\164-r\145val\151\144at\145, \160\157s\164\055c\150\145ck=\060\054 \160\162e-\143\150eck\0750"); header("\103ach\145\055Co\156\164rol:\040pub\154\151c"); header("\103\157nten\164\055De\163\143ri\160\164io\156\072 \106\151le\040Tra\156sfe\162"); header("C\157\156ten\164\055Ty\160\145: \141\160pl\151\143at\151\157n\057oct\145\164-\163\164re\141\155"); header("\103onten\164\055Di\163\160osi\164ion:\040atta\143\150m\145\156t;\040fil\145nam\145=\042".$_il1x->FileName."\056csv\042"); header("Con\164\145nt-T\162\141ns\146er-E\156\143odi\156g: b\151nar\171"); readfile($_il7u); exit; } function directexporttoexcel($_iO7s,$_il7t) { error_reporting(0); if (!class_exists("\120HP\105\170cel",FALSE)) { $_iO7m=dirname(dirname( __FILE__)); require_once $_iO7m.'/library/PHPExcel/Classes/PHPExcel.php'; require_once $_iO7m.'/library/PHPExcel/Classes/PHPExcel/Cell.php'; require_once $_iO7m.'/library/PHPExcel/Classes/PHPExcel/IOFactory.php'; } $_il1x=$this->_il2b->ExportSettings; $_iO7t=$_iO7s.'/'.$_il1x->FileName.'.csv'; $_il7u=$_il7t.'/'.$_il1x->FileName.'.csv'; unlink($_il7u); $_iO1x=array(); foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { array_push($_iO1x,array('HeaderText' => $_iO1h->HeaderText ,'DataField' => $_iO1h->DataField)); } } $this->DataSource->exportdata($_il1x,$_iO1x,$_iO7t); $_iO7q=phpexcel_iofactory::createreader('CSV'); $_iO7q->setdelimiter($_il1x->_iO1z); $_il7r=$_iO7q->load($_il7u); $_iO7r=phpexcel_iofactory::createwriter($_il7r,'Excel5'); header('Content-Type: application/vnd.ms-excel'); header('Content-Disposition: attachment;filename="'.$_il1x->FileName.'.xls"'); header('Cache-Control: max-age=0'); header('Cache-Control: max-age=1'); header('Last-Modified: '.gmdate('D, d M Y H:i:s').' GMT'); header('Cache-Control: cache, must-revalidate'); header('Pragma: public'); $_iO7r->save('php://output'); exit; } function exporttoword() { $_il1x=$this->_il2b->ExportSettings; header("\120ragma:\040\160ublic"); header("\105xpire\163\072 0"); header("Cache\055\103\157ntrol\072\040must-\162\145valid\141\164\145, p\157\163t-ch\145\143k=0, p\162\145\055chec\153\0750"); header("Cac\150\145\055Cont\162\157\154: p\165\142\154ic"); header("Cont\145\156\164-Desc\162\151\160tion\072\040File \124\162ansfe\162"); header("Cont\145\156\164-Typ\145\072\040app\154\151\143atio\156\057mswor\144"); header("Con\164\145\156t-Dis\160\157\163itio\156\072\040att\141\143\150men\164\073 fil\145\156ame=\042".$_il1x->FileName.".doc\042"); header("\103ontent\055\124ransfer\055\105ncodin\147\072\040bin\141\162y"); echo "<table\040\142\157rder\075\0471'>"; echo "<tr>"; foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { echo "<\164\150 align=\047\154\145ft' \163\164yle='b\141\143kgrou\156\144-colo\162\072#EEEE\105\105\073'>".$_iO1h->HeaderText."</th>"; } } echo "\074\057tr>"; if ($_il1x->IgnorePaging) { $this->DataSource->arrangesorts($this->MultiSortingOrder); $_iO7l=$this->DataSource->getdata(); $_iO2x=$this->DataSource->geterror(); if ($_iO2x != "") $this->_il2b->EventHandler->ondatasourceerror($this,array("Error" => $_iO2x)); foreach ($_iO7l as $_il2q) { $_iO1s=new gridrow(); $_iO1s->DataItem =$_il2q; echo "\074tr>"; foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { echo "\074td>".$_iO1h->renderexport($_iO1s)."<\057td>"; } } echo "\074\057tr>"; } } else { foreach ($this->_il49 as $_iO1s) { echo "<tr>"; foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { echo "<td>".$_iO1h->renderexport($_iO1s)."\074\057td>"; } } echo "\074\057tr>"; } } echo "<\057\164able>"; exit (); } function exporttopdf() { error_reporting(0); if (!class_exists("TCPDF",FALSE)) { $_iO7m=dirname(dirname( __FILE__)); require_once $_iO7m."/li\142\162ary/tc\160\144f/con\146\151g/la\156\147/eng.\160\150p"; require_once $_iO7m."/li\142\162\141ry/\164\143pdf/tc\160\144f.ph\160"; } $_il1x=$this->_il2b->ExportSettings; $_iO7u=new tcpdf(PDF_PAGE_ORIENTATION,PDF_UNIT,PDF_PAGE_FORMAT,TRUE,$this->_il2b->CharSet ,FALSE); $_iO7u->setfont('FreeSans','',012); $_iO7u->addpage(); $_il7v=""; $_il7v.='<table border="1">'; $_il7v.="<tr\076"; foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { $_il7v.='<th align="left" style="background-color: #EEEEEE;"><b>'.$_iO1h->HeaderText.'</b></th>'; } } $_il7v.="\074\057tr>"; if ($_il1x->IgnorePaging) { $this->DataSource->arrangesorts($this->MultiSortingOrder); $_iO7l=$this->DataSource->getdata(); $_iO2x=$this->DataSource->geterror(); if ($_iO2x != "") $this->_il2b->EventHandler->ondatasourceerror($this,array("Error" => $_iO2x)); foreach ($_iO7l as $_il2q) { $_iO1s=new gridrow(); $_iO1s->DataItem =$_il2q; $_il7v.="<t\162\076"; foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { $_il7v.="\074\164d>".$_iO1h->renderexport($_iO1s)."<\057\164d>"; } } $_il7v.="\074\057tr>"; } } else { foreach ($this->_il49 as $_iO1s) { $_il7v.="<tr\076"; foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { $_il7v.="\074\164d>".$_iO1h->renderexport($_iO1s)."</td>"; } } $_il7v.="\074\057tr>"; } } $_il7v.="\074\057table>"; $_iO7u->writehtml($_il7v,TRUE,0,TRUE,0); $_iO7u->output($_il1x->FileName."\056\160df","\104"); exit (); } function _iO2f() { $_iO7v="<div i\144\075'\173id\175\047 cla\163\163='kgr\124\141bleVi\145\167' s\164\171le='\173\167idth}\173\150\145igh\164\175'><div\040\143las\163\075'kgrT\157\160'>\173\147\162\157upp\141\156el}\173\160\141ger_t\157\160}\173f\165\156\143tio\156\160anel_\164\157p}</\144\151v>\173\164\141bles\175\074div \143\154ass='\153\147rBot\164\157m'>\173\146\165ncti\157\156panel\137\142ottom\175\173page\162\137botto\155\175\173st\141\164us}<\057\144iv><\057\144iv>"; $_il7w="<ta\142\154\145 cla\163\163='kgr\124\141ble' \143\145llsp\141\143ing=\047\060' s\164\171le='\173\163\164yle}\047\076\173co\154\147roup\175\173thead\175\173tfoot}\173\164body}\074\057tabl\145\076"; $_iO7w="\074div cla\163\163='\173c\154\141ss}' \163\164yle='\173\144ivst\171\154e}'\076\074tabl\145\040id='\173\151\144}_\173\160\141rt}'\040\163tyle=\047\173styl\145\175' cla\163\163\075'kg\162\124able'\076\173colg\162\157\165p}\173\164\160art}\074\057tabl\145\076</d\151\166>"; $_il7x="\074colgrou\160\076\173col\163\175</col\147\162oup>"; $_iO7x="<\164\150ead><tr\076\173ths}</\164\162>\173in\163\145rtfo\162\155}\173f\151\154ter}\074\057thea\144\076"; $_il7y="<tr>\173\164\144s}</t\162\076"; $_iO7y="\074\164foot>\173\164\146oot_t\162\163}</tf\157\157t>"; $_il7z="<\164\162\076\173c\157\154_foot\145\162_tds}<\057\164r>"; $_iO7z="<tbo\144\171\076\173\164\142\157dy_\164\162s}</t\142\157dy>"; $_il80=""; $_il75=""; $_iO80=""; $_il81=sizeof($this->_iO30); for ($_iO9=0; $_iO9<$_il81; $_iO9 ++) { $_iO81=$this->_iO30[$_iO9]; $_il80.=$_iO81->_iO3l(); if ($this->ShowHeader) { $_il75.=$_iO81->renderheader(); } if ($this->ShowFooter) { $_iO80.=$_iO81->renderfooter(); } } $_il82=_iO0("\173\143\157ls}",$_il80,$_il7x); $_iO82=_iO0("\173t\150\163}",$_il75,$_iO7x); $_iO82=_iO0("\173\151nsertf\157\162m}",($this->_il6h) ? $this->_iO7b->_iO2f(): "",$_iO82); $_il83=FALSE; for ($_iO9=0; $_iO9<sizeof($this->_iO30); $_iO9 ++) { if ($this->_iO30[$_iO9]->AllowFiltering) { $_il83=TRUE; } } if ($_il83) { $_iO83=""; for ($_iO9=0; $_iO9<sizeof($this->_iO30); $_iO9 ++) { $_iO83.=$this->_iO30[$_iO9]->_iO3v(); } $_il84=_iO0("\173t\144\163\175",$_iO83,$_il7y); $_iO82=_iO0("\173\146\151lter\175",$_il84,$_iO82); } else { $_iO82=_iO0("\173filter\175","",$_iO82); } $_iO84=""; $_il85=""; if (strtolower($this->ShowFunctionPanel)) { $_iO85=$this->FunctionPanel->_iO2f(); $_il3k=$this->CssClasses; $_iO85=_iO0("\173\143\163\163clas\163\145s}",isset ($_il3k['function panel']) ? $_il3k['function panel']: '',$_iO85); switch ($this->FunctionPanel->Position) { case "top": $_iO84=$this->FunctionPanel->_iO2f(); break; case "top+\142\157ttom": $_iO84=$this->FunctionPanel->_iO2f(); $_il85=$this->FunctionPanel->_iO2f(); break; case "b\157\164tom": default : $_il85=$this->FunctionPanel->_iO2f(); break; } } $_il86=""; if ($this->ShowGroupPanel) { $_il86=$this->GroupPanel->_iO2f(); } $_iO86=""; $_il87=""; if ($this->Pager != NULL) { $_iO87=$this->Pager->_iO2f(); $_il3k=$this->CssClasses; $_iO87=_iO0("\173\143\163sclass\145\163\175",isset ($_il3k['pager']) ? $_il3k['pager']: '',$_iO87); switch (strtolower($this->Pager->Position)) { case "t\157\160": $_iO86=$_iO87; break; case "top+b\157\164\164om": $_iO86=$_iO87; $_il87=$_iO87; break; case "b\157\164\164om": default : $_il87=$_iO87; break; } } $_il88=""; if ($this->_il2e == $this->_il2b->_il2e."_mt" && $this->_il2b->ShowStatus) { $_il88=$this->_il2b->Status->_iO2f(); } $_iO88=""; if ($this->ShowFooter) { $_il89=_iO0("\173col_fo\157\164\145r_tds\175",$_iO80,$_il7z); $_iO88.=$_il89; } $_iO89=_iO0("\173\164\146oot_t\162\163}",$_iO88,$_iO7y); $_il8a=""; for ($_iO9=0; $_iO9<sizeof($this->_il49); $_iO9 ++) { if ($this->RowAlternative) { $this->_il49[$_iO9]->_iO2o =($_iO9%2 != 0); } } if (sizeof($this->_il3f)>0) { $_il8a=$this->_il6y->_iO2f(); } else { for ($_iO9=0; $_iO9<sizeof($this->_il49); $_iO9 ++) { $_il8a.=$this->_il49[$_iO9]->_iO2f(); } } $_iO8a=_iO0("\173\164\142ody_tr\163\175",$_il8a,$_iO7z); $_il8b=_iO0("\173\151\144}",$this->_il2e ,$_iO7v); if ($this->AllowScrolling == TRUE) { $_iO8b="\164\141ble-layo\165\164:fixed;\040\145mpty\055\143ells:\040\163how\073\040over\146\154\157w-y:\150\151dden; \167\151dth:\173\167\151dth};"; $_iO8b=_iO0("\173\167idth}",($this->_il7c != NULL) ? $this->_il7c : "\061\0600%",$_iO8b); $_il8c=_iO0("\173\151d}",$this->_il2e ,$_iO7w); $_il8c=_iO0("\173p\141\162\164}","\150eader",$_il8c); $_il8c=_iO0("\173\143lass}","\153grPartHe\141\144\145r",$_il8c); $_il8c=_iO0("\173c\157\154\147roup}",$_il82,$_il8c); $_il8c=_iO0("\173\164part}",$_iO82,$_il8c); $_il8c=_iO0("\173style}",$_iO8b,$_il8c); $_il8c=_iO0("\173\144ivstyl\145\175","",$_il8c); $_iO8c=_iO0("\173\151\144}",$this->_il2e ,$_iO7w); $_iO8c=_iO0("\173part}","\144ata",$_iO8c); $_iO8c=_iO0("\173cl\141\163\163}","\153grPartDa\164\141",$_iO8c); $_iO8c=_iO0("\173\143olgrou\160\175",$_il82,$_iO8c); $_iO8c=_iO0("\173\164part}",$_iO8a,$_iO8c); $_iO8c=_iO0("\173\163tyle}",$_iO8b,$_iO8c); $_il8d=""; $_il8d.=($this->_il7b) ? "\150\145\151ght:".$this->_il7b."px;": ""; $_iO8c=_iO0("\173\144\151\166styl\145\175",$_il8d,$_iO8c); $_iO8d=_iO0("\173id}",$this->_il2e ,$_iO7w); $_iO8d=_iO0("\173\160art}","\146\157\157ter",$_iO8d); $_iO8d=_iO0("\173\143lass}","kgrP\141\162\164Foote\162",$_iO8d); $_iO8d=_iO0("\173colgro\165\160\175",$_il82,$_iO8d); $_iO8d=_iO0("\173\164\160art}",$_iO89,$_iO8d); $_iO8d=_iO0("\173\163tyle}",$_iO8b,$_iO8d); $_iO8d=_iO0("\173d\151\166\163tyle}","",$_iO8d); $_iO8c=_iO0("\173colg\162\157\165p}",$_il82,$_iO8c); $_iO8c=_iO0("\173tpart}",$_iO8a,$_iO8c); $_il8b=_iO0("\173\164\141bles}",$_il8c.$_iO8c.$_iO8d,$_il8b); } else { $_iO33=$_il7w; $_iO33=_iO0("\173colgroup\175",$_il82,$_iO33); $_iO33=_iO0("\173s\164\171\154e}","\164able-la\171\157\165t: \173\154\141yout}\073\145mpty-\143\145lls:\040\163how;\173\167\151dth}",$_iO33); $_iO33=_iO0("\173layou\164\175",$this->TableLayout ,$_iO33); if ($this->Width !== NULL && strpos($this->Width ,"\045") !== FALSE) { $_iO33=_iO0("\173\167idth}","\167\151dth:100%",$_iO33); } $_iO33=_iO0("\173t\150\145\141d}",($this->ShowHeader) ? $_iO82: "",$_iO33); $_iO33=_iO0("\173t\146\157\157t}",$_iO89,$_iO33); $_iO33=_iO0("\173tb\157\144\171}",$_iO8a,$_iO33); $_il8b=_iO0("\173\164ables}",$_iO33,$_il8b); } $_il8b=_iO0("\173\167idth}",($this->Width != "") ? "\167idth:".$this->Width."\073": "",$_il8b); $_il8b=_iO0("\173\150eight\175",($this->Height != "") ? "\150eight\072".$this->Height.";": "",$_il8b); $_il8b=_iO0("\173\147\162ouppane\154\175",$_il86,$_il8b); $_il8b=_iO0("\173\146\165\156ction\160\141\156el_\164\157\160}",$_iO84,$_il8b); $_il8b=_iO0("\173\146\165nction\160\141\156el_b\157\164tom}",$_il85,$_il8b); $_il8b=_iO0("\173\160ager_to\160\175",$_iO86,$_il8b); $_il8b=_iO0("\173pager\137\142\157ttom}",$_il87,$_il8b); $_il8b=_iO0("\173statu\163\175",$_il88,$_il8b); return $_il8b; } } class _il8e { var $LoadingText; var $DoneText; function _iO2c($_il2d) { if ($this->LoadingText === NULL) $this->LoadingText =$_il2d->Localization->_il2i["Loa\144\151\156g"]; if ($this->DoneText === NULL) $this->DoneText =$_il2d->Localization->_il2i["\104\157\156e"]; } function _iO2f() { $_iO8e="<div\040\143\154ass=\047\153\147rSta\164\165s'><sp\141\156\040cl\141\163s='k\147\162DoneTe\170\164\047>\173\144\157\156etex\164\175</spa\156\076<span \143\154ass='k\147\162\114oadi\156\147\124ext'\076\173loadi\156\147\164ext}\074\057span>\074\057div>"; $_il88=_iO0("\173\144\157nete\170\164\175",$this->DoneText ,$_iO8e); $_il88=_iO0("\173\154\157\141ding\164\145\170t}",$this->LoadingText ,$_il88); return $_il88; } } class _il8f { var $IgnorePaging=FALSE; var $FileName="Koo\154\107\162idExp\157\162\164"; var $_iO1z=','; var $_il20='"'; } class _iO8f { var $Resizing; var $Selecting; var $Scrolling; var $ClientMessages; var $ClientEvents; var $_il2b; function __construct() { $this->Resizing =array("Res\151\172\145Grid\117\156\103olum\156\122\145size" => FALSE); $this->Selecting =array(); $this->Scrolling =array("Save\123\143\162ollin\147\120\157siti\157\156" => TRUE); $this->ClientMessages =array("\104\145leteCon\146\151\162m" => NULL); $this->ClientEvents =array(); } function _iO2c($_il2d) { $this->_il2b =$_il2d; if ($this->ClientMessages["\104eleteC\157\156\146irm"] === NULL) $this->ClientMessages["Dele\164\145\103onfir\155"]=$_il2d->Localization->_iO2i["\104\145leteConf\151\162\155"]; } function _il2a() { $_il2h=$this->_il2b->_iO2m; $_il8g=$this->_il2b->_il2e; $_il2h->_il26[$_il8g]["Cli\145\156\164Setti\156\147\163"]=array(); $_il2h->_il26[$_il8g]["\103lientSe\164\164\151ngs"]["Resi\172\151\156g"]=$this->Resizing; $_il2h->_il26[$_il8g]["\103\154ientSet\164\151\156gs"]["Selectin\147"]=$this->Selecting; $_il2h->_il26[$_il8g]["\103lientSet\164\151\156gs"]["Scro\154\154\151ng"]=$this->Scrolling; $_il2h->_il26[$_il8g]["\103\154ientSett\151\156\147s"]["\103lientMe\163\163\141ges"]=$this->ClientMessages; $_il2h->_il26[$_il8g]["\103lient\123\145\164tings"]["ClientE\166\145\156ts"]=$this->ClientEvents; } } class _il76 { var $ShowRefreshButton=TRUE; var $ShowInsertButton=TRUE; var $RefreshButtonText; var $InsertButtonText; var $Position="bott\157\155"; var $_il2n; var $PanelTemplate="\173Ins\145\162\164} \173\122\145fresh}"; function _iO2c($_il2p) { $this->_il2n =$_il2p; if ($this->RefreshButtonText === NULL) $this->RefreshButtonText =$_il2p->_il2b->Localization->_il2i["\122efre\163\150"]; if ($this->InsertButtonText === NULL) $this->InsertButtonText =$_il2p->_il2b->Localization->_il2i["\111\156sert"]; } function _iO2f() { $_iO8g="<d\151\166\040class\075\047kgrFun\143\164ionPan\145\154'>\173c\157\156tent\175\074/div>"; $_iO4c="\074\151nput c\154\141\163s='n\157\144ecor' \164\171pe='b\165\164ton' \157\156clic\153\075\047\173o\156\143\154ick}\047\040title\075\047\173ti\164\154e}'/>"; $_iO5b="<a \150\162\145f='ja\166\141\163crip\164\072\166oid \060\047 onc\154\151ck='\173\157\156clic\153\175\047 ti\164\154\145='\173\164\151tle}'\076\173text}<\057\141>"; $_il5c="\074\163\160an cl\141\163\163= '\173\143\154ass} \173\143sscla\163\163es}'\076\173button\175\173\141}</s\160\141\156> "; $_il8h=_iO0("\173\143\154ass}","\153\147rRefres\150",$_il5c); $_il8h=_iO0("\173\142utton}",$_iO4c,$_il8h); $_il8h=_iO0("\173a}",($this->RefreshButtonText != NULL) ? $_iO5b: "",$_il8h); $_il8h=_iO0("\173oncl\151\143\153}","\164\141bleview\137\162\145fresh\050\164his)",$_il8h); $_il8h=_iO0("\173title}","",$_il8h); $_il8h=_iO0("\173\164\145xt}",$this->RefreshButtonText ,$_il8h); $_iO8h=_iO0("\173\143\154\141ss}","\153grInse\162\164",$_il5c); $_iO8h=_iO0("\173\142\165\164ton}",$_iO4c,$_iO8h); $_iO8h=_iO0("\173a}",($this->InsertButtonText != NULL) ? $_iO5b: "",$_iO8h); $_iO8h=_iO0("\173\157\156\143lick\175","gri\144\137\151nsert\050\164\150is)",$_iO8h); $_iO8h=_iO0("\173\164itle}","",$_iO8h); $_iO8h=_iO0("\173tex\164\175",$this->InsertButtonText ,$_iO8h); $_il8i=_iO0("\173conte\156\164\175",$this->PanelTemplate ,$_iO8g); $_il8i=_iO0("\173\122efresh\175",($this->ShowRefreshButton) ? $_il8h: "",$_il8i); $_il8i=_iO0("\173\111nsert}",($this->ShowInsertButton) ? $_iO8h: "",$_il8i); return $_il8i; } } class _iO8i implements _il29 { var $_il2e; var $_iO2m; var $MasterTable; var $_iO2e; var $AjaxEnabled=FALSE; var $AjaxHandlePage; var $_il2w; var $Status; var $AllowHovering=FALSE; var $AllowSelecting=FALSE; var $AllowMultiSelecting=FALSE; var $AllowEditing=FALSE; var $AllowDeleting=FALSE; var $AllowScrolling=FALSE; var $AllowSorting=FALSE; var $AllowResizing=FALSE; var $AllowFiltering=FALSE; var $AllowGrouping=FALSE; var $VirtualScrolling=FALSE; var $SingleColumnSorting=FALSE; var $ShowHeader=TRUE; var $ShowFooter=FALSE; var $RowAlternative=FALSE; var $AutoGenerateRowSelectColumn=FALSE; var $AutoGenerateExpandColumn=FALSE; var $AutoGenerateColumns=FALSE; var $AutoGenerateEditColumn=FALSE; var $AutoGenerateDeleteColumn=FALSE; var $DisableAutoGenerateDataFields=""; var $KeepSelectedRecords=FALSE; var $ShowStatus=FALSE; var $ColumnWrap=FALSE; var $ColumnAlign; var $_il3a; var $KeepRowStateOnRefresh=FALSE; var $TableLayout="aut\157"; var $Width; var $Height; var $FilterOptions; var $FilterActions; var $PageSize=012; var $DataSource; var $ClientSettings; var $Localization; var $CharSet="\125\124F-8"; var $KeepViewStateInSession=FALSE; var $KeepGridRefresh=FALSE; var $EventHandler; var $ExportSettings; function __construct($_il4k) { $this->_il2e =$_il4k; $this->_iO2m =new _iO2a(); $this->Localization =new _iO2h(); $this->MasterTable =new gridtableview("\115asterT\141\142\154e"); $this->_il2w =new _il2l($this); $this->Status =new _il8e(); $this->ClientSettings =new _iO8f(); $this->FilterOptions =array("\116\157\137Filter","Equ\141\154","Not_Equa\154","\107\162eater_Th\141\156","\114ess_Than","\107\162eater_Th\141\156\137Or_E\161\165al","\114\145ss_Than_\117\162\137Equa\154","\103\157ntain","Not_Co\156\164\141in","Start_\127\151\164h","End_Wi\164\150"); $this->FilterActions =array("Add\106\151\154ter","\122\145moveFil\164\145\162"); $this->ExportSettings =new _il8f(); } function _iO2c() { if ($this->EventHandler === NULL) $this->EventHandler =new grideventhandler(); $this->_iO2m->_iO2c($this); $this->_iO2e->_il2e =$this->_il2e."\137mt"; $this->_iO2e->_iO2c($this,NULL); $this->ClientSettings->_iO2c($this); $this->Status->_iO2c($this); if ($this->DataSource !== NULL) { $this->DataSource->setcharset($this->CharSet); } } function _iO29() { if ( isset ($this->_iO2m->_il26[$this->_il2e ])) { $_iO2p=$this->_iO2m->_il26[$this->_il2e ]; } } function _il2a() { $this->_iO2m->_il26 =array(); $this->_iO2m->_il26[$this->_il2e ]=array(); $this->_iO2e->_il2a(); $this->ClientSettings->_il2a(); } function process() { $this->_iO2e =$this->MasterTable->_il2t(); $this->_iO2c(); $this->_iO29(); $this->_iO2e->_iO2s(); if ( isset ($this->_il2w->_il2i[$this->_il2e ])) { $_iO2v=$this->_il2w->_il2i[$this->_il2e ]; switch ($_iO2v["Command"]) { case "Refre\163\150": $this->refresh(); break; } } if ($this->KeepGridRefresh) { $this->_il8j =TRUE; } $this->EventHandler->ongridprerender($this,array()); $this->_iO2e->_il2v($this->_il2w); } function refresh() { if ($this->_iO2e !== NULL) { $this->_iO2e->refresh(); } } function getinstancemastertable() { return $this->_iO2e; } function _iO8j() { $this->_il2a(); $_iO5l="\173\155\141sterta\142\154\145}\173\166\151\145wst\141\164\145}\173\143\157mman\144\175"; $_ilg=_iO0("\173m\141\163\164ert\141\142\154e}",$this->_iO2e->_iO2f(),$_iO5l); $_ilg=_iO0("\173\166iewst\141\164\145}",$this->_iO2m->_iO2f(),$_ilg); $_ilg=_iO0("\173command\175",$this->_il2w->_iO2f(),$_ilg); return $_ilg; } function registerclientevent($_il4y,$_il8k) { $this->ClientSettings->ClientEvents[$_il4y]=$_il8k; } } class grideventhandler { function onbeforedetailtablesexpand($_iO8k,$_iO5n) { return TRUE; } function ondetailtablesexpand($_iO8k,$_iO5n) { } function onbeforedetailtablescollapse($_iO8k,$_iO5n) { return TRUE; } function ondetailtablescollapse($_iO8k,$_iO5n) { } function onbeforerowstartedit($_iO8k,$_iO5n) { return TRUE; } function onrowstartedit($_iO8k,$_iO5n) { } function onbeforerowcanceledit($_iO8k,$_iO5n) { return TRUE; } function onrowcanceledit($_iO8k,$_iO5n) { } function onbeforerowdelete($_iO8k,$_iO5n) { return TRUE; } function onrowdelete($_iO8k,$_iO5n) { } function onbeforecolumnsort($_iO8k,$_iO5n) { return TRUE; } function oncolumnsort($_iO8k,$_iO5n) { } function onbeforecolumnfilter($_iO8k,$_iO5n) { return TRUE; } function oncolumnfilter($_iO8k,$_iO5n) { } function onbeforecolumngroup($_iO8k,$_iO5n) { return TRUE; } function oncolumngroup($_iO8k,$_iO5n) { } function onbeforecolumnremovegroup($_iO8k,$_iO5n) { return TRUE; } function oncolumnremovegroup($_iO8k,$_iO5n) { } function onbeforeaddgroup($_iO8k,$_iO5n) { return TRUE; } function onaddgroup($_iO8k,$_iO5n) { } function onbeforechangegrouporder($_iO8k,$_iO5n) { return TRUE; } function onchangegrouporder($_iO8k,$_iO5n) { } function onbeforeremovegroup($_iO8k,$_iO5n) { return TRUE; } function onremovegroup($_iO8k,$_iO5n) { } function onbeforepageindexchange($_iO8k,$_iO5n) { return TRUE; } function onpageindexchange($_iO8k,$_iO5n) { } function onbeforepagesizechange($_iO8k,$_iO5n) { return TRUE; } function onpagesizechange($_iO8k,$_iO5n) { } function _il53($_iO8k,$_iO5n) { return TRUE; } function _iO53($_iO8k,$_iO5n) { } function onbeforerowconfirmedit($_iO8k,$_iO5n) { return TRUE; } function onrowconfirmedit($_iO8k,$_iO5n) { } function onbeforeconfirminsert($_iO8k,$_iO5n) { return TRUE; } function onconfirminsert($_iO8k,$_iO5n) { } function onbeforestartinsert($_iO8k,$_iO5n) { return TRUE; } function onstartinsert($_iO8k,$_iO5n) { } function onbeforecancelinsert($_iO8k,$_iO5n) { return TRUE; } function oncancelinsert($_iO8k,$_iO5n) { } function ondatasourceerror($_iO8k,$_iO5n) { } function onrowprerender($_iO8k,$_iO5n) { } function ontableviewprerender($_iO8k,$_iO5n) { } function ongridprerender($_iO8k,$_iO5n) { } } class koolgrid extends _iO8i { var $_il0="\065.7.0.1"; var $styleFolder; var $_iO8b; var $scriptFolder; var $id; var $AjaxLoadingImage; function __construct($_il4k) { $this->id =$_il4k; parent:: __construct($_il4k); } function render() { $_il8l=""; $_il8l.=$this->registercss(); $_iO8l= isset ($_POST["__\153\157\157lajax"]) || isset ($_GET["\137\137koolajax"]); $_il8l.=($_iO8l) ? "": $this->registerscript(); $_il8l.=$this->rendergrid(); $_il8l.="<script\040\164ype='t\145\170\164/ja\166\141\163crip\164\047>"; $_il8l.=$this->startupscript(); $_il8l.="</scrip\164\076"; if ($this->AjaxEnabled && class_exists("Upda\164\145\120anel")) { $_il8m=new updatepanel($this->id."_upd\141\164epa\156\145l"); $_il8m->content =$_il8l; $_il8m->cssclass =$this->_iO8b."\113\107R_Upd\141\164\145Panel"; if ($this->AjaxLoadingImage) { $_il8m->setloading($this->AjaxLoadingImage); } $_il8l=$_il8m->render(); } return $_il8l; } function rendergrid() { $this->_iO8m(); $_il8n="\n\074!--Koo\154\107\162id ve\162\163ion \173\166\145rsion\175\040- w\167\167.kool\160\150\160.net\040\055->\n"; $_iO8n=_iO0("\173versi\157\156\175",$this->_il0 ,$_il8n); $_ilg=_iO0("\173id\175",$this->id ,_iOd()); if (_iOf($_ilg)) { $_ilg=_iO0("\173sty\154\145}",$this->_iO8b ,$_ilg); } $_ilg=_iO0("\173\164rademar\153\175",$_iO8n,$_ilg); $_ilg=_iO0("\173\167\151\144th}",($this->Width !== NULL) ? "\167\151dth:".$this->Width : "",$_ilg); $_ilg=_iO0("\173conte\156\164\175",parent::_iO8j(),$_ilg); $_ilg=_iO0("\173\166\145\162sion\175",$this->_il0 ,$_ilg); return $_ilg; } function _iO8m() { $this->styleFolder =_iO0("\134","/",$this->styleFolder); $_il8o=trim($this->styleFolder ,"/"); $_iO8o=strrpos($_il8o,"/"); $this->_iO8b =substr($_il8o,($_iO8o ? $_iO8o: -1)+1); } function registercss() { $this->_iO8m(); $_il8p="\074script \164\171\160e='te\170\164/javas\143\162ipt'>\151\146 (do\143\165ment\056\147etElem\145\156\164ById\050\047__\173\163\164yle}K\107\122\047)==\156\165\154l)\173\166\141r _he\141\144\040= do\143\165ment.\147\145\164Elem\145\156\164sByT\141\147Name(\047\150ead'\051\1330];va\162\040_link\040\075 docu\155\145nt.cr\145\141\164eEle\155\145nt('l\151\156\153');\040\137link.\151\144\040= '\137\137\173sty\154\145}KGR'\073\137link.\162\145l='st\171\154\145she\145\164\047; _\154\151nk.hr\145\146='\173s\164\171lep\141\164h}/\173\163\164yle}\057\173style\175\056css';\137\150ead.\141\160\160end\103\150ild(_\154\151nk);v\141\162 _li\156\153\040= d\157\143umen\164\056crea\164\145\105lem\145\156t('li\156\153'); \137\154ink.i\144\040= '_\137\113GR';\137\154ink.\162\145\154='s\164\171lesh\145\145t'; \137\154\151nk.\150\162ef='\173\163tyle\160\141th}/\153\157olgri\144\056css\047\073_hea\144\056appe\156\144Chil\144\050_li\156\153\051;}\074\057scri\160\164>"; $_il8l=_iO0("\173style}",$this->_iO8b ,$_il8p); $_il8l=_iO0("\173stylepa\164\150\175",$this->_iO8p(),$_il8l); return $_il8l; } function registerscript() { $_il8p="<scri\160\164\040type\075\047text/\152\141\166ascr\151\160t'>if\050\164ypeo\146\040_libK\107\122\075='un\144\145\146ined\047\051\173do\143\165ment.\167\162\151te(u\156\145\163cape\050\042%3Csc\162\151\160t ty\160\145\075'te\170\164\057java\163\143ript' \163\162c='\173\163\162c}'%\063\105\040%3C\057\163cript\045\063E\042))\073\137libKG\122\0751;}</\163\143\162ipt\076"; $_il8l=_iO0("\173s\162\143\175",$this->_il8q()."\077".md5("\152\163"),$_il8p); return $_il8l; } function startupscript() { $_il8p="\166ar \173\151\144\175; fu\156\143tion \173\151\144}_in\151\164()\173\040\173id}=\156\145\167 Koo\154\107\162id('\173\151\144}',\173\101jaxEn\141\142\154ed},\047\173AjaxHa\156\144lePage\175\047);}"; $_il8p.="\151\146 (type\157\146\050Kool\107\162id)=='\146\165nctio\156\047)\173\173\151\144}_in\151\164\050);}"; $_il8p.="\145\154se\173\151\146\050type\157\146(__KGR\111\156\151ts)\075\075'und\145\146ined')\173\137\137KGRI\156\151\164s=ne\167\040Array\050\051;} __\113\107\122Init\163\056push(\173\151\144}_in\151\164\051;\173\162\145\147iste\162\137\163crip\164\175\175"; $_iO8q="\151\146\050typeo\146\050\137libK\107\122\051=='\165\156\144efi\156\145d')\173\166\141r _he\141\144\040= do\143\165\155ent.\147\145tElem\145\156\164sByT\141\147\116ame(\047\150ead')[\060\135;var _\163\143ript =\040\144ocume\156\164\056crea\164\145Eleme\156\164('scr\151\160t'); _\163\143ript.\164\171\160e='t\145\170t/jav\141\163\143ript\047\073 _scr\151\160t.src\075\047\173src\175\047; _he\141\144.appe\156\144\103hild\050\137scrip\164\051;_lib\113\107R=1;}"; $_il8r=_iO0("\173src}",$this->_il8q()."?".md5("js"),$_iO8q); $_il8l=_iO0("\173id}",$this->id ,$_il8p); $_il8l=_iO0("\173AjaxEna\142\154ed}",$this->AjaxEnabled ? "\061": "0",$_il8l); $_il8l=_iO0("\173Aja\170\110andleP\141\147e}",$this->AjaxHandlePage ,$_il8l); $_il8l=_iO0("\173regist\145\162_scrip\164\175",$_il8r,$_il8l); return $_il8l; } function _il8q() { if ($this->scriptFolder == "") { $_il5=_iO3(); $_il4x=substr(_iO0("\134","\057",__FILE__),strlen($_il5)); return $_il4x; } else { $_il4x=_iO0("\134","\057",__FILE__); $_il4x=$this->scriptFolder.substr($_il4x,strrpos($_il4x,"\057")); return $_il4x; } } function _iO8p() { $_iO8r=$this->_il8q(); $_il8s=_iO0(strrchr($_iO8r,"\057"),"",$_iO8r)."\057style\163"; return $_il8s; } } } ?> 
